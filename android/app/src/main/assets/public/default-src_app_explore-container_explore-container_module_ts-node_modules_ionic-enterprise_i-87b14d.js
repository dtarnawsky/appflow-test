"use strict";
(self["webpackChunkapp"] = self["webpackChunkapp"] || []).push([["default-src_app_explore-container_explore-container_module_ts-node_modules_ionic-enterprise_i-87b14d"],{

/***/ 4762:
/*!******************************************************************!*\
  !*** ./src/app/explore-container/explore-container.component.ts ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ExploreContainerComponent": () => (/* binding */ ExploreContainerComponent)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ 2560);

class ExploreContainerComponent {
    constructor() { }
    ngOnInit() { }
}
ExploreContainerComponent.ɵfac = function ExploreContainerComponent_Factory(t) { return new (t || ExploreContainerComponent)(); };
ExploreContainerComponent.ɵcmp = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: ExploreContainerComponent, selectors: [["app-explore-container"]], inputs: { name: "name" }, decls: 7, vars: 1, consts: [["id", "container"], ["target", "_blank", "rel", "noopener noreferrer", "href", "https://ionicframework.com/docs/components"]], template: function ExploreContainerComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0)(1, "strong");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "p");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4, "Explore ");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "a", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](6, "UI Components");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]()()();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx.name);
    } }, styles: ["#container[_ngcontent-%COMP%] {\n  text-align: center;\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 50%;\n  transform: translateY(-50%);\n}\n\n#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%] {\n  font-size: 20px;\n  line-height: 26px;\n}\n\n#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\n  font-size: 16px;\n  line-height: 22px;\n  color: #8c8c8c;\n  margin: 0;\n}\n\n#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\n  text-decoration: none;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImV4cGxvcmUtY29udGFpbmVyLmNvbXBvbmVudC5zY3NzIiwiLi4vLi4vLi4vLi4vLi4vU2FtcGxlJTIwQ29kZS9pdi10ZXN0L3NyYy9hcHAvZXhwbG9yZS1jb250YWluZXIvZXhwbG9yZS1jb250YWluZXIuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxrQkFBQTtFQUVBLGtCQUFBO0VBQ0EsT0FBQTtFQUNBLFFBQUE7RUFDQSxRQUFBO0VBQ0EsMkJBQUE7QUNBRjs7QURHQTtFQUNFLGVBQUE7RUFDQSxpQkFBQTtBQ0FGOztBREdBO0VBQ0UsZUFBQTtFQUNBLGlCQUFBO0VBRUEsY0FBQTtFQUVBLFNBQUE7QUNGRjs7QURLQTtFQUNFLHFCQUFBO0FDRkYiLCJmaWxlIjoiZXhwbG9yZS1jb250YWluZXIuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIjY29udGFpbmVyIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgbGVmdDogMDtcbiAgcmlnaHQ6IDA7XG4gIHRvcDogNTAlO1xuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSk7XG59XG5cbiNjb250YWluZXIgc3Ryb25nIHtcbiAgZm9udC1zaXplOiAyMHB4O1xuICBsaW5lLWhlaWdodDogMjZweDtcbn1cblxuI2NvbnRhaW5lciBwIHtcbiAgZm9udC1zaXplOiAxNnB4O1xuICBsaW5lLWhlaWdodDogMjJweDtcblxuICBjb2xvcjogIzhjOGM4YztcblxuICBtYXJnaW46IDA7XG59XG5cbiNjb250YWluZXIgYSB7XG4gIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbn0iLCIjY29udGFpbmVyIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIGxlZnQ6IDA7XG4gIHJpZ2h0OiAwO1xuICB0b3A6IDUwJTtcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUpO1xufVxuXG4jY29udGFpbmVyIHN0cm9uZyB7XG4gIGZvbnQtc2l6ZTogMjBweDtcbiAgbGluZS1oZWlnaHQ6IDI2cHg7XG59XG5cbiNjb250YWluZXIgcCB7XG4gIGZvbnQtc2l6ZTogMTZweDtcbiAgbGluZS1oZWlnaHQ6IDIycHg7XG4gIGNvbG9yOiAjOGM4YzhjO1xuICBtYXJnaW46IDA7XG59XG5cbiNjb250YWluZXIgYSB7XG4gIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbn0iXX0= */"] });


/***/ }),

/***/ 581:
/*!***************************************************************!*\
  !*** ./src/app/explore-container/explore-container.module.ts ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ExploreContainerComponentModule": () => (/* binding */ ExploreContainerComponentModule)
/* harmony export */ });
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ 4666);
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ 2508);
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ionic/angular */ 3819);
/* harmony import */ var _explore_container_component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./explore-container.component */ 4762);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ 2560);





class ExploreContainerComponentModule {
}
ExploreContainerComponentModule.ɵfac = function ExploreContainerComponentModule_Factory(t) { return new (t || ExploreContainerComponentModule)(); };
ExploreContainerComponentModule.ɵmod = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineNgModule"]({ type: ExploreContainerComponentModule });
ExploreContainerComponentModule.ɵinj = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjector"]({ imports: [_angular_common__WEBPACK_IMPORTED_MODULE_2__.CommonModule, _angular_forms__WEBPACK_IMPORTED_MODULE_3__.FormsModule, _ionic_angular__WEBPACK_IMPORTED_MODULE_4__.IonicModule] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵsetNgModuleScope"](ExploreContainerComponentModule, { declarations: [_explore_container_component__WEBPACK_IMPORTED_MODULE_0__.ExploreContainerComponent], imports: [_angular_common__WEBPACK_IMPORTED_MODULE_2__.CommonModule, _angular_forms__WEBPACK_IMPORTED_MODULE_3__.FormsModule, _ionic_angular__WEBPACK_IMPORTED_MODULE_4__.IonicModule], exports: [_explore_container_component__WEBPACK_IMPORTED_MODULE_0__.ExploreContainerComponent] }); })();


/***/ }),

/***/ 7312:
/*!*********************************************************************!*\
  !*** ./node_modules/@ionic-enterprise/identity-vault/dist/index.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "AndroidBiometricCryptoPreference": () => (/* binding */ AndroidBiometricCryptoPreference),
/* harmony export */   "AuthMode": () => (/* binding */ AuthMode),
/* harmony export */   "BiometricPermissionState": () => (/* binding */ BiometricPermissionState),
/* harmony export */   "BiometricSecurityStrength": () => (/* binding */ BiometricSecurityStrength),
/* harmony export */   "BrowserVault": () => (/* binding */ BrowserVault),
/* harmony export */   "Device": () => (/* binding */ Device),
/* harmony export */   "DeviceErrorCodes": () => (/* binding */ DeviceErrorCodes),
/* harmony export */   "DeviceSecurityType": () => (/* binding */ DeviceSecurityType),
/* harmony export */   "DeviceSecurityVault": () => (/* binding */ DeviceSecurityVault),
/* harmony export */   "SupportedBiometricType": () => (/* binding */ SupportedBiometricType),
/* harmony export */   "Vault": () => (/* binding */ Vault),
/* harmony export */   "VaultErrorCodes": () => (/* binding */ VaultErrorCodes),
/* harmony export */   "VaultMigrator": () => (/* binding */ VaultMigrator),
/* harmony export */   "VaultType": () => (/* binding */ VaultType$1),
/* harmony export */   "destroyVaultByVaultId": () => (/* binding */ destroyVaultByVaultId),
/* harmony export */   "getConfigForVaultId": () => (/* binding */ getConfigForVaultId),
/* harmony export */   "getVaultTypeForVaultId": () => (/* binding */ getVaultTypeForVaultId)
/* harmony export */ });
/* harmony import */ var _Users_damian_Sample_Code_iv_test_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 1670);


/*! Ionic Enterprise Identity Vault: https://ionicframework.com/ - Commercially Licensed */

/**
 * The meaning of the error code in the thrown {@link VaultError}.
 */
var VaultErrorCodes;

(function (VaultErrorCodes) {
  /**
   * An unknown error happened.
   * @constant `0`
   */
  VaultErrorCodes[VaultErrorCodes["Unknown"] = 0] = "Unknown";
  /**
   * The operation failed because the vault was locked.
   * @constant `1`
   */

  VaultErrorCodes[VaultErrorCodes["VaultLocked"] = 1] = "VaultLocked";
  /**
   * The operation failed because the vault was unavailable.
   * The most likely cause of this error is that a vault has not been configured.
   * @constant `2`
   */

  VaultErrorCodes[VaultErrorCodes["VaultUnavailable"] = 2] = "VaultUnavailable";
  /**
   * The operation failed because the some of the vault provided arguments were invalid.
   * @constant `3`
   */

  VaultErrorCodes[VaultErrorCodes["InvalidArguments"] = 3] = "InvalidArguments";
  /**
   * The credentials were invalidated. This can happen when a user changes biometrics or passcode.
   * @constant `4`
   */

  VaultErrorCodes[VaultErrorCodes["InvalidatedCredential"] = 4] = "InvalidatedCredential";
  /**
   * Biometric security is unavailable due to a passcode not being set up at the system level.
   * In order to use biometric identification on the device a system level passcode must be set up by the user.
   * @constant `5`
   */

  VaultErrorCodes[VaultErrorCodes["SecurityNotAvailable"] = 5] = "SecurityNotAvailable";
  /**
   * User authentication failed. This can occur when the user has denied use of biometrics or force closed the app during a biometric prompt.
   * You can call the Device.isBiometricsAllowed method to determine if the user has denied access to Biometrics.
   * @constant `6`
   */

  VaultErrorCodes[VaultErrorCodes["AuthFailed"] = 6] = "AuthFailed";
  /**
   * Too many failed authentication attempts made against the custom passcode vault, so the vault was cleared and user will need to login again.
   * @constant `7`
   */

  VaultErrorCodes[VaultErrorCodes["TooManyFailedAttempts"] = 7] = "TooManyFailedAttempts";
  /**
   * The user cancelled the native authentication dialog.
   *
   * **Note**: On iOS, this error code will also be thrown in the event that the native authentication dialog fails as a result of too many failed attempts.
   * The user will be forced to cancel the dialog, triggering this error code.
   *
   * On Android, this error also will be thrown if using {@link DeviceSecurityType.SystemPasscode} or {@link DeviceSecurityType.Both} in the event of too many failed attempts.
   * Its currently not possible to get the nature of failures from the native authentication dialog, and similar to iOS, the user will be forced to cancel the dialog, triggering this error code.
   * @constant `8`
   */

  VaultErrorCodes[VaultErrorCodes["UserCanceledInteraction"] = 8] = "UserCanceledInteraction";
  /**
   * The user provided mismatched passcodes.
   * @constant `9`
   */

  VaultErrorCodes[VaultErrorCodes["MismatchedPasscode"] = 9] = "MismatchedPasscode";
  /**
   * The operation requires passcode to be setup but it isn't set yet. Call {@link Vault.setCustomPasscode} to set it.
   * @constant `10`
   */

  VaultErrorCodes[VaultErrorCodes["MissingPasscode"] = 10] = "MissingPasscode";
  /**
   * The operation failed because the application tried to unlock the vault with passcode authentication,
   * but the vault is not configured to allow passcode authentication.
   * @constant `11`
   */

  VaultErrorCodes[VaultErrorCodes["PasscodeNotEnabled"] = 11] = "PasscodeNotEnabled";
  /**
   * The key was not found. This can happen when a user changes biometrics or passcode.
   * @constant `12`
   */

  VaultErrorCodes[VaultErrorCodes["KeyNotFound"] = 12] = "KeyNotFound";
  /**
   * The operation failed because biometric authentication is not enabled.
   * This can occur when biometrics is not supported by the device
   * or when biometrics has not been configured for the device or vault.
   * @constant `13`
   */

  VaultErrorCodes[VaultErrorCodes["BiometricsNotEnabled"] = 13] = "BiometricsNotEnabled";
  /**
   * @ignore
   */

  VaultErrorCodes[VaultErrorCodes["InvalidAuthMode"] = 14] = "InvalidAuthMode";
  /**
   * Biometrics have not been authed yet (Android only)
   * @constant `15`
   */

  VaultErrorCodes[VaultErrorCodes["MissingBiometrics"] = 15] = "MissingBiometrics";
  /**
   * {@link DeviceSecurityType.SystemPasscode} for {@link DeviceSecurityType} not available on this Android device.
   * @constant `16`
   */

  VaultErrorCodes[VaultErrorCodes["AndroidSystemPasscodeUnavailable"] = 16] = "AndroidSystemPasscodeUnavailable";
  /**
   * Biometrics have been locked out, usually because of too many failed attempts.
   *
   * **Note:** This error will never be thrown if using {@link DeviceSecurityType.SystemPasscode} or {@link DeviceSecurityType.Both}.
   * Its currently not possible to get the nature of failures from the native authentication dialog, so the only error that would be thrown is {@link VaultErrorCodes.UserCanceledInteraction} as the user
   * is forced to cancel the prompt.
   *
   * @constant `17`
   */

  VaultErrorCodes[VaultErrorCodes["AndroidBiometricsLockedOut"] = 17] = "AndroidBiometricsLockedOut";
  /**
   * Biometrics have been locked out, usually because of too many failed attempts.
   *
   * @constant `18`
   */

  VaultErrorCodes[VaultErrorCodes["iOSBiometricsLockedOut"] = 18] = "iOSBiometricsLockedOut";
  /**
   * An unexpected error has occurred in the Android keystore.
   * Some android devices (such as the Samsung S10) will return this error code when
   * a maximum number of failed attempts is reached and the device must be restarted.
   * See: [Max Uses Per Boot](https://source.android.com/security/keystore/tags#max_uses_per_boot)
   *
   * @constant `19`
   */

  VaultErrorCodes[VaultErrorCodes["AndroidUnexpectedKeystoreError"] = 19] = "AndroidUnexpectedKeystoreError";
})(VaultErrorCodes || (VaultErrorCodes = {}));
/**
 * The meaning of the error code in the thrown {@link DeviceError}.
 */


var DeviceErrorCodes;

(function (DeviceErrorCodes) {
  /**
   * An unknown error happened.
   * @constant `0`
   */
  DeviceErrorCodes[DeviceErrorCodes["Unknown"] = 0] = "Unknown";
  /**
   * The operation failed because the some of the vault provided arguments were invalid.
   * @constant `1`
   */

  DeviceErrorCodes[DeviceErrorCodes["InvalidArguments"] = 1] = "InvalidArguments";
  /**
   * The user cancelled the native authentication dialog.
   *
   * **Note**: On iOS, this error code will also be thrown in the event that the native authentication dialog fails as a result of too many failed attempts.
   * The user will be forced to cancel the dialog, triggering this error code.
   *
   * @constant `2`
   */

  DeviceErrorCodes[DeviceErrorCodes["UserCanceledInteraction"] = 2] = "UserCanceledInteraction";
  /**
   * Biometric security is unavailable due to a passcode not being set up at the system level.
   * In order to use biometric identification on the device a system level passcode must be set up by the user.
   * @constant `3`
   */

  DeviceErrorCodes[DeviceErrorCodes["SecurityNotAvailable"] = 3] = "SecurityNotAvailable";
  /**
   * User authentication failed.
   * @constant `4`
   */

  DeviceErrorCodes[DeviceErrorCodes["AuthFailed"] = 4] = "AuthFailed";
  /**
   * Biometrics have been locked out, usually because of too many failed attempts.
   *
   * @constant `5`
   */

  DeviceErrorCodes[DeviceErrorCodes["BiometricsLockedOut"] = 5] = "BiometricsLockedOut";
  /**
   * The operation failed because biometric authentication is not enabled.
   * This can occur when biometrics is not supported by the device
   * or when biometrics has not been configured for the device or vault.
   * @constant `6`
   */

  DeviceErrorCodes[DeviceErrorCodes["BiometricsNotEnabled"] = 6] = "BiometricsNotEnabled";
})(DeviceErrorCodes || (DeviceErrorCodes = {}));
/**
 * The possible values returned by {@link Device.getAvailableHardware}
 */


var SupportedBiometricType;

(function (SupportedBiometricType) {
  /** The device supports fingerprint scanning. */
  SupportedBiometricType["Fingerprint"] = "fingerprint";
  /** The device supports facial recognition. */

  SupportedBiometricType["Face"] = "face";
  /** The device supports iris scanning. */

  SupportedBiometricType["Iris"] = "iris";
})(SupportedBiometricType || (SupportedBiometricType = {}));
/**
 * Possible device biometric strength levels on Android (always `strong` on iOS).
 * [More Information](https://source.android.com/security/biometric/measure#tiered-authentication).
 */


var BiometricSecurityStrength;

(function (BiometricSecurityStrength) {
  /** Refers to Class 2 - Weak biometric security */
  BiometricSecurityStrength["Weak"] = "weak";
  /** Refers to Class 3 - Strong biometric security */

  BiometricSecurityStrength["Strong"] = "strong";
})(BiometricSecurityStrength || (BiometricSecurityStrength = {}));
/**
 * Possible app biometric permissions states on iOS (always `granted` on Android and on iOS with TouchID).
 */


var BiometricPermissionState;

(function (BiometricPermissionState) {
  /** App has been granted permission to use FaceID */
  BiometricPermissionState["Granted"] = "granted";
  /** App has been denied permission to use FaceID */

  BiometricPermissionState["Denied"] = "denied";
  /** User has not yet been prompted to allow FaceID */

  BiometricPermissionState["Prompt"] = "prompt";
})(BiometricPermissionState || (BiometricPermissionState = {}));
/**
 * When type is set to 'DeviceSecurity', determines which aspects of the device to use to secure the vault.
 * Note: Android only supports `SystemPasscode` on Android 11 and greater.
 * @default `Both`
 */


var DeviceSecurityType;

(function (DeviceSecurityType) {
  /** Will allow a system passcode to secure the vault. On Android, only supported on Android 11 and greater. */
  DeviceSecurityType["SystemPasscode"] = "SystemPasscode";
  /** WIll allow biometric hardware tos secure the vault. */

  DeviceSecurityType["Biometrics"] = "Biometrics";
  /** WIll allow both SystemPasscode or Biometrics as an option to secure the vault. */

  DeviceSecurityType["Both"] = "Both";
  /** No biometric security option will be used. */

  DeviceSecurityType["None"] = "None";
})(DeviceSecurityType || (DeviceSecurityType = {}));
/**
 * The type of vault
 */


var VaultType$1;

(function (VaultType) {
  /**
   * No additional security is required in the app as long as the device was unlocked with a secure method.
   * This vault type cannot be locked/unlock so methods like `lock`, `unlock`, `isLocked`, and `lockAfterbackgrounded` have no effect.
   *
   * On iOS, this vault is synchronized via iCloud or new device setup.
   * */
  VaultType["SecureStorage"] = "SecureStorage";
  /**
   * Uses additional device features to add an additional layer of security while the user is in the app.
   *
   * On iOS, this vault is NOT synchronized via iCloud or new device setup.
   * */

  VaultType["DeviceSecurity"] = "DeviceSecurity";
  /**
   * User will set a custom passcode that will be used to access the vault.
   *
   * On iOS, this vault is NOT synchronized via iCloud or new device setup.
   * */

  VaultType["CustomPasscode"] = "CustomPasscode";
  /** Data will persist only while the application is in memory.
   * This vault type cannot be locked/unlock so methods like `lock`, `unlock`, `isLocked`, and `lockAfterbackgrounded` have no effect.
   *
   *  On iOS, this vault is NOT synchronized via iCloud or new device setup.
   */

  VaultType["InMemory"] = "InMemory";
})(VaultType$1 || (VaultType$1 = {}));
/**
 * For Android, when type is {@link VaultType.DeviceSecurity} and deviceSecurityType is {@link DeviceSecurityType.Both}, this options specifies if you want to
 * prefer a Strong Cryptographic Vault or the System Passcode fallback when they both aren't available.
 * @default `StrongVault`
 */


var AndroidBiometricCryptoPreference;

(function (AndroidBiometricCryptoPreference) {
  /** Prefer to use a strong cryptographic vault. */
  AndroidBiometricCryptoPreference["StrongVault"] = "StrongVault";
  /** Prefer the system passcode fallback. */

  AndroidBiometricCryptoPreference["SystemPasscode"] = "SystemPasscode";
})(AndroidBiometricCryptoPreference || (AndroidBiometricCryptoPreference = {})); // OLD METHODS

/**
 * The type of authentication the vault should be configured to allow.
 * @deprecated For use in legacy Vault Migrator only.
 * @ignore
 */


var AuthMode;

(function (AuthMode) {
  /**
   * Biometrics authentication should only be allowed
   */
  AuthMode[AuthMode["BiometricOnly"] = 0] = "BiometricOnly";
  /**
   * Passcode authentication should only be allowed
   */

  AuthMode[AuthMode["PasscodeOnly"] = 1] = "PasscodeOnly";
  /**
   * Both biometric and passcode authentication should be allowed
   */

  AuthMode[AuthMode["BiometricAndPasscode"] = 2] = "BiometricAndPasscode";
  /**
   * Both biometric and passcode authentication should be disabled.
   * With this setting all data in the vault will be cleared on lock or
   * if the app is closed. Stored data is kept only in memory.
   */

  AuthMode[AuthMode["InMemoryOnly"] = 3] = "InMemoryOnly";
  /**
   * Use biometrics if it is available, otherwise use passcode
   */

  AuthMode[AuthMode["BiometricOrPasscode"] = 4] = "BiometricOrPasscode";
  /**
   * Both biometric and passcode authentication will be disabled but any stored values
   * will persist and be stored securely at rest using the keychain and will be available
   * without needing to authenticate via passcode or biometrics when the device is unlocked.
   */

  AuthMode[AuthMode["SecureStorage"] = 5] = "SecureStorage";
})(AuthMode || (AuthMode = {}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */


function __rest(s, e) {
  var t = {};

  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];

  if (s != null && typeof Object.getOwnPropertySymbols === "function") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];
  }
  return t;
}

const STORAGE_KEYS = {
  DATA: 'data'
};
/**
 * THIS VAULT DOES NOT IMPLEMENT SECURE STORAGE IN THE BROWSER. It only exists
 * as a way to run browser-compatible code in place of Identity Vault. Browsers
 * do not have a secure storage element same as native devices. This class
 * is intended to be used to enable running your application in the browser while
 * simulating the functions of Identity Vault using sessionStorage.
 *
 * Represents a vault implementation for browser compatibility.
 */

class BrowserVault {
  /**
   * @usage
   * ```typescript
   * const vault = new Vault({
   *  key: 'com.company.myvaultapp',
   *  type: 'CustomPasscode',
   *  deviceSecurityType: 'Both',
   *  lockAfterBackgrounded: 2000,
   * });
   * ```
   * @param config
   */
  constructor(config) {
    /** @ignore */
    this.isVaultLocked = false;
    /** @ignore */

    this.isVaultEmpty = true;
    console.warn('THIS VAULT DOES NOT IMPLEMENT SECURE STORAGE IN THE BROWSER AND IS NOT INTENDED FOR PRODUCTION USE. It only exists as a way to run browser-compatible code in place of Identity Vault. Browsers do not have a secure storage element same as native devices. This class is intended to be used to enable running your application in the browser while simulating the functions of Identity Vault using sessionStorage.');
    this.config = Object.assign({
      deviceSecurityType: 'Both',
      androidBiometricsPreferStrongVaultOrSystemPasscode: 'StrongVault',
      shouldClearVaultAfterTooManyFailedAttempts: false,
      customPasscodeInvalidUnlockAttempts: 5,
      unlockVaultOnLoad: false
    }, config);
    this.isVaultLocked = config.unlockVaultOnLoad ? false : true;
  }
  /** @deprecated Deprecated in favor of using the isEmpty method. */

  /** See {@link Vault.doesVaultExist} */


  doesVaultExist() {
    const data = this.getDataObj();
    return Promise.resolve(!!data);
  }
  /** See {@link Vault.clear} */


  clear() {
    this.unlockIfLocked();
    sessionStorage.removeItem(this.getKey(STORAGE_KEYS.DATA));
    this.isVaultEmpty = true;
    return Promise.resolve();
  }
  /** See {@link Vault.exportVault} */


  exportVault() {
    this.unlockIfLocked();
    const data = this.getDataObj();
    return Promise.resolve(data !== null && data !== void 0 ? data : {});
  }
  /** See {@link Vault.importVault} */


  importVault(data) {
    this.setDataObj(data);
    return Promise.resolve();
  }
  /** See {@link Vault.isLocked} */


  isLocked() {
    return Promise.resolve(this.isVaultLocked);
  }
  /** See {@link Vault.isEmpty} */


  isEmpty() {
    return Promise.resolve(this.isVaultEmpty);
  }
  /** See {@link Vault.getKeys} */


  getKeys() {
    this.unlockIfLocked();
    const data = this.getDataObj();
    if (!data) return Promise.resolve([]);
    return Promise.resolve(Object.keys(data));
  }
  /** See {@link Vault.getValue} */


  getValue(key) {
    var _a;

    this.unlockIfLocked();
    const data = this.getDataObj();
    return Promise.resolve((_a = data === null || data === void 0 ? void 0 : data[key]) !== null && _a !== void 0 ? _a : null);
  }
  /** See {@link Vault.lock} */


  lock() {
    var _a;

    (_a = this.lockCallback) === null || _a === void 0 ? void 0 : _a.call(this, {
      timeout: false
    });
    return Promise.resolve();
  }
  /** See {@link Vault.removeValue} */


  removeValue(key) {
    this.unlockIfLocked();
    const data = this.getDataObj();
    if (!data) return Promise.resolve();
    const _a = data,
          _b = key;
    _a[_b];

    const dataAfterRemoval = __rest(_a, [typeof _b === "symbol" ? _b : _b + ""]);

    this.setDataObj(dataAfterRemoval);
    return Promise.resolve();
  }
  /** See {@link Vault.setCustomPasscode} */


  setCustomPasscode(passcode) {
    return Promise.resolve();
  }
  /** See {@link Vault.setValue} */


  setValue(key, value) {
    this.unlockIfLocked();
    const data = this.getDataObj();

    if (!data) {
      this.setDataObj({
        [key]: value
      });
    } else {
      this.setDataObj(Object.assign(Object.assign({}, data), {
        [key]: value
      }));
    }

    return Promise.resolve();
  }
  /** See {@link Vault.onConfigChanged} */


  onConfigChanged(callback) {
    this.configCallback = callback;
  }
  /** See {@link Vault.onError} */


  onError(callback) {
    this.errorCallback = callback;
  }
  /** See {@link Vault.onLock} */


  onLock(callback) {
    this.lockCallback = callback;
  }

  onPasscodeRequested(callback) {// No passcode support
  }
  /** See {@link Vault.onUnlock} */


  onUnlock(callback) {
    this.unlockCallback = callback;
  }
  /** See {@link Vault.unlock} */


  unlock() {
    var _a;

    (_a = this.unlockCallback) === null || _a === void 0 ? void 0 : _a.call(this);
    return Promise.resolve();
  }
  /** See {@link Vault.updateConfig} */


  updateConfig(config) {
    var _a;

    this.config = config;
    (_a = this.configCallback) === null || _a === void 0 ? void 0 : _a.call(this, config);
    return Promise.resolve();
  }
  /** @ignore */


  requestBiometricPrompt() {
    this.unlockIfLocked();
    return Promise.resolve(true);
  }
  /** @ignore */


  unlockIfLocked() {
    if (this.isVaultLocked) {
      this.unlock();
    }
  }
  /** @ignore */


  getDataObj() {
    var _a;

    const value = sessionStorage.getItem(this.getKey(STORAGE_KEYS.DATA));
    if (!value) return null;

    try {
      const dataObj = JSON.parse(value);
      this.isVaultEmpty = Object.keys(dataObj).length <= 0;
      return dataObj;
    } catch (e) {
      (_a = this.errorCallback) === null || _a === void 0 ? void 0 : _a.call(this, {
        message: 'Unable to parse data store',
        code: VaultErrorCodes.Unknown
      });
      return null;
    }
  }
  /** @ignore */


  setDataObj(data) {
    var _a;

    try {
      const dataStr = JSON.stringify(data);
      sessionStorage.setItem(this.getKey(STORAGE_KEYS.DATA), dataStr);
      this.isVaultEmpty = Object.keys(data).length <= 0;
    } catch (e) {
      (_a = this.errorCallback) === null || _a === void 0 ? void 0 : _a.call(this, {
        message: 'Unable to serialize data',
        code: VaultErrorCodes.Unknown
      });
    }
  }
  /** @ignore */


  getKey(key) {
    return `IV-${this.config.key}-${key}`;
  }

}
/**
 * Represents a vault for secure value storage
 */


class Vault {
  /**
   * @usage
   * ```typescript
   * const vault = new Vault({
   *  key: 'com.company.myvaultapp',
   *  type: 'CustomPasscode',
   *  deviceSecurityType: DeviceSecurityType.None,
   *  lockAfterBackgrounded: 2000,
   * });
   * ```
   * @param config
   */
  constructor(config) {
    /** @ignore */
    this.defaultConfig = {
      deviceSecurityType: DeviceSecurityType.None,
      androidBiometricsPreferStrongVaultOrSystemPasscode: AndroidBiometricCryptoPreference.StrongVault,
      shouldClearVaultAfterTooManyFailedAttempts: false,
      customPasscodeInvalidUnlockAttempts: 5,
      unlockVaultOnLoad: false
    }; // set defaults

    this.config = Object.assign(this.defaultConfig, config); // setting sane defaults

    if (config.deviceSecurityType === DeviceSecurityType.None && config.type === VaultType$1.DeviceSecurity) {
      config.deviceSecurityType = DeviceSecurityType.Both;
    }

    this.resume = this.resume.bind(this);
    this.handleError = this.handleError.bind(this);
    this.setup().then(() => {
      this.getPersistedVaultConfig();
    });
  }
  /**
   * Resolves true if a vault with the same key already exists, and false if not.
   * The vault does not need to be unlocked to check.
   *
   * __Note:__
   *  - Using {@link Vault.removeValue | removeValue()} to remove all of your vault data will not cause this function to resolve false, however {@link Vault.clear | clear()} will.
   *  - A vault only exists once it has been interacted with at least once via any of the following instance methods.
   *    - {@link Vault.setValue | setValue()}
   *    - {@link Vault.removeValue | removeValue()}
   *    - {@link Vault.importVault | importVault()}
   *    - {@link Vault.exportVault | exportVault()}
   *    - {@link Vault.unlock | unlock()}
   *    - {@link Vault.updateConfig | updateConfig()}
   *
   * @usage
   * ```typescript
   * const vault = new Vault(existingVaultConfig);
   * const vaultExists = await vault.doesVaultExists()
   * if (!vaultExists) {
   *  // the vault does not exist...
   * }
   * ```
   *
   * @deprecated Deprecated in favor of using the {@link Vault.isEmpty | isEmpty()} method.
   */


  doesVaultExist() {
    return new Promise((resolve, reject) => {
      cordova.exec(data => {
        resolve(JSON.parse(data));
      }, error => {
        this.handleError(resolve, reject, error, () => this.doesVaultExist());
      }, 'VaultPlugin', 'doesVaultExist', [this.config]);
    });
  }
  /**
   * Clears out the current vault and removes it from the system.
   * Note: The vault does not need to be unlocked in order to clear it. No credentials are checked
   * when clearing the vault.
   *
   * @usage
   * ```typescript
   * const vault = new Vault(existingVaultConfig);
   * await vault.clear();
   * ```
   */


  clear() {
    return new Promise((resolve, reject) => {
      cordova.exec(data => {
        resolve();
      }, error => {
        this.handleError(resolve, reject, error, () => this.clear());
      }, 'VaultPlugin', 'clear', [this.config]);
    });
  }
  /**
   * Exports the data of the current vault in its entirety.
   * The data is a map with keys that are strings and values that are JSON.
   * Calling `exportVault` will attempt to unlock the vault if it is currently locked.
   *
   * @usage
   * ```typescript
   * const vault = new Vault(existingVaultConfig);
   * const data = await vault.exportVault();
   * ```
   *
   * @return The resolved object is a map with string keys and string values.
   *
   */


  exportVault() {
    return new Promise((resolve, reject) => {
      cordova.exec(data => {
        resolve(JSON.parse(data));
      }, error => {
        this.handleError(resolve, reject, error, () => this.exportVault());
      }, 'VaultPlugin', 'exportVault', [this.config]);
    });
  }
  /**
   * Imports data into the vault, replacing the current contents of the vault.
   * The data is a map with keys that are strings and values that are JSON.
   * Calling `importVault` will attempt to unlock the vault if it is currently locked.
   *
   * @usage
   * ```typescript
   * const dataFromElsewhere = await getUserData();
   * const newVault = new Vault(vaultConfig);
   * await newVault.importVault(dataFromElsewhere);
   * ```
   *
   * @param data The entire data object to be imported. The shape of data must be {[key: string]: string}.
   *
   */


  importVault(data) {
    const jsonData = JSON.stringify(data);
    return new Promise((resolve, reject) => {
      cordova.exec(resolve, error => {
        this.handleError(resolve, reject, error, () => this.importVault(data));
      }, 'VaultPlugin', 'importVault', [this.config, jsonData]);
    });
  }
  /**
   * Checks if the vault is currently in a locked state, which signifies that the contents
   * of the secure vault are not currently accessible. `isLocked` can also return true if the
   * vault does not exist.
   *
   * If a vault has a `VaultType` of `SecureStorage` or `InMemory` this method will return `false` as these vault types cannot be locked.
   *
   * @usage
   * ```typescript
   * const vault = new Vault(existingVaultConfig);
   * const locked = await vault.isLocked();
   * if (locked) {
   *  // vault is locked (or does not exist);
   * }
   * ```
   */


  isLocked() {
    return new Promise((resolve, reject) => {
      cordova.exec(data => {
        resolve(JSON.parse(data));
      }, error => {
        this.handleError(resolve, reject, error);
      }, 'VaultPlugin', 'isLocked', [this.config]);
    });
  }
  /**
   * Returns an array of keys that are currently in the vault.
   * Calling `getKeys` will attempt to unlock the vault if it is currently locked.
   *
   * @usage
   * ```typescript
   * const vault = new Vault(existingVaultConfig);
   * const allKeys = await vault.getKeys();
   * allKeys.forEach((key) => {
   *  // do something with the key
   * });
   * ```
   */


  getKeys() {
    return new Promise((resolve, reject) => {
      cordova.exec(data => {
        resolve(JSON.parse(data));
      }, error => {
        this.handleError(resolve, reject, error, () => this.getKeys());
      }, 'VaultPlugin', 'getKeys', [this.config]);
    });
  }
  /**
   * Gets the value for a given key. Returns null if the key does not exist.
   * Calling `getValue` will attempt to unlock the vault if it is currently locked.
   *
   * @usage
   * ```typescript
   * const vault = new Vault(existingVaultConfig);
   * const userFirstName = await vault.getValue<string>("firstname");
   * ```
   *
   * @param key The key to look up the value for
   *
   */


  getValue(key) {
    return new Promise((resolve, reject) => {
      cordova.exec(data => {
        if (!data) {
          // android returns null as an empty string, so manually convert it here
          resolve(null);
        } else {
          try {
            resolve(JSON.parse(data));
          } catch (err) {
            resolve(data);
          }
        }
      }, error => {
        this.handleError(resolve, reject, error, () => this.getValue(key));
      }, 'VaultPlugin', 'getValue', [this.config, key]);
    });
  }
  /**
   * Locks the vault if it is currently unlocked.
   * Locking the vault with remove all secure data from memory inside of Identity Vault, but not your application.
   *
   * For Vaults of type `SecureStorage` or `InMemory` this method will have no effect on the vault.
   *
   * @usage
   * ```typescript
   * const vault = new Vault(existingVaultConfig);
   * await vault.lock();
   * ```
   */


  lock() {
    return new Promise((resolve, reject) => {
      cordova.exec(data => {
        resolve();
      }, error => {
        this.handleError(resolve, reject, error);
      }, 'VaultPlugin', 'lock', [this.config]);
    });
  }
  /**
   * Removes a value from the vault.
   * Calling `removeValue` will attempt to unlock the vault if it is currently locked.
   *
   * @usage
   * ```typescript
   * const vault = new Vault(existingVaultConfig);
   * await vault.removeValue("address");
   * ```
   *
   * @param key The key to remove
   *
   */


  removeValue(key) {
    return new Promise((resolve, reject) => {
      cordova.exec(resolve, error => {
        this.handleError(resolve, reject, error, () => this.removeValue(key));
      }, 'VaultPlugin', 'removeValue', [this.config, key]);
    });
  }
  /**
   * When the vault type is set to 'CustomPasscode', this method sets the passcode required to
   * secure the vault. If the vault is unlocked this method can be used to change the passcode.
   *
   * This method is typically called in the `onPasscodeRequested` callback.
   *
   * @usage
   * ```typescript
   * const vault = new Vault(existingVaultConfig);
   * const code = window.prompt("Enter your passcode.");
   * if (code) {
   *  await vault.setCustomPasscode(code);
   * }
   * ```
   *
   * @param passcode The user supplied passcode to secure the vault with.
   *
   */


  setCustomPasscode(passcode) {
    return new Promise((resolve, reject) => {
      cordova.exec(resolve, error => {
        this.handleError(resolve, reject, error);
      }, 'VaultPlugin', 'setCustomPasscode', [this.config, passcode]);
    });
  }
  /**
   * Sets the value of an item in the vault.
   * Calling `setValue` will attempt to unlock the vault if it is currently locked.
   *
   * @usage
   * ```typescript
   * const vault = new Vault(existingVaultConfig);
   * await vault.setValue<string>("theme", theme);
   * ```
   *
   * @param key The key for the new value.
   * @param value The value to store in the vault. Value can be of any type, as it will be parsed to JSON in the vault.
   *
   */


  setValue(key, value) {
    const jsonValue = JSON.stringify(value);
    return new Promise((resolve, reject) => {
      cordova.exec(resolve, error => {
        this.handleError(resolve, reject, error, () => this.setValue(key, value));
      }, 'VaultPlugin', 'setValue', [this.config, key, jsonValue]);
    });
  }
  /**
   * Triggers when a config change occurs.
   *
   * @usage
   * ```typescript
   * vault.onConfigChanged((config) => {
   *  console.log("updated config: ", config);
   * });
   * ```
   * @param callback The callback function that will be called when the event triggers. Passes in the current vault config.
   *
   */


  onConfigChanged(callback) {
    cordova.exec(data => {
      callback(JSON.parse(data));
    }, error => console.error(error), 'VaultPlugin', 'onConfigChanged', []);
  }
  /**
   * Triggers when an error occurs in the application.
   * Errors that come back as rejected promises also trigger this event.
   *
   * @usage
   * ```typescript
   * vault.onError((err) => {
   *  console.log('ERROR from callback', JSON.stringify(err));
   * });
   * ```
   *
   * @param callback The callback function that will be called when the event triggers. Passes in the error object.
   *
   */


  onError(callback) {
    cordova.exec(() => {// Do Nothing
    }, callback, 'VaultPlugin', 'onError', [this.config]);
  }
  /**
   * Triggers when the vault enters a locked state.
   *
   * @usage
   * ```typescript
   * vault.onLock((lockEvent) => { displayNotification(`Vault locked. Was from timeout: ${lockEvent.timeout}`); })
   * ```
   *
   * @param callback The callback function that will be called when the event triggers. Passes in an object with a boolean property of `timeout` indicating if the lock was due to a background timeout or not.
   *
   */


  onLock(callback) {
    cordova.exec(data => {
      const d = JSON.parse(data);
      callback({
        timeout: d.timeout
      });
    }, error => console.error(error), 'VaultPlugin', 'onLock', [this.config]);
  }

  onPasscodeRequested(callback) {
    this.passCodeRequestedCallback = callback;
  }
  /**
   * Triggers when the vault enters an unlocked state.
   *
   * @usage
   * ```typescript
   * vault.onUnlock(() => {
   *  console.log("vault is now unlocked");
   * });
   * ```
   * @param callback The callback function that will be called when the event triggers.
   *
   */


  onUnlock(callback) {
    cordova.exec(callback, error => console.error(error), 'VaultPlugin', 'onUnlock', [this.config]);
  }
  /**
   * Manually unlock the vault. Will trigger any authentication mechanism needed to access the vault (passcode, biometrics, etc..).
   *
   * For Vaults of type `SecureStorage` or `InMemory` this method will have no effect on the vault.
   *
   * @usage
   * ```typescript
   * const vault = new Vault(existingVaultConfig);
   * await vault.unlock();
   * ```
   */


  unlock() {
    return new Promise((resolve, reject) => {
      cordova.exec(() => {
        resolve();
      }, error => {
        this.handleError(resolve, reject, error, () => this.unlock());
      }, 'VaultPlugin', 'unlock', [this.config]);
    });
  }
  /**
   * Updates the configuration of the current vault.
   *
   *  @usage
   * ```typescript
   * async function changeVaultType(type: VaultType) {
   *  const vault = new Vault(this.existingVaultConfig);
   *  const newConfig = { ...this.existingVaultConfig, type };
   *  await vault.updateConfig(newConfig);
   *  this.existingVaultConfig = newConfig;
   * }
   * ```
   *
   * @param config The new config
   *
   */


  updateConfig(config) {
    return new Promise((resolve, reject) => {
      config = Object.assign(this.defaultConfig, config); // setting sane defaults

      if (config.deviceSecurityType === DeviceSecurityType.None && config.type === VaultType$1.DeviceSecurity) {
        config.deviceSecurityType = DeviceSecurityType.Both;
      }

      cordova.exec(() => {
        this.config = config;
        resolve();
      }, error => {
        this.handleError(resolve, reject, error, () => this.updateConfig(config));
      }, 'VaultPlugin', 'updateConfig', [config]);
    });
  }
  /**
   * Resolves true if a vault contains no data, and false if any data exists in the vault.
   * The vault does not need to be unlocked to check.
   *
   * __Note:__ Vaults created prior to version 5.2.0 will return false until the vault is unlocked for the first time after updating, even if the vault contains no data.
   * After which this method will return the expected value.
   *
   * @usage
   * ```typescript
   * const vault = new Vault(existingVaultConfig);
   * const vaultIsEmpty = await vault.isEmpty()
   * if (vaultIsEmpty) {
   *  // the vault is empty and contains no data...
   * }
   * ```
   */


  isEmpty() {
    return new Promise((resolve, reject) => {
      cordova.exec(data => {
        resolve(JSON.parse(data));
      }, error => {
        this.handleError(resolve, reject, error);
      }, 'VaultPlugin', 'isEmpty', [this.config]);
    });
  }
  /** @ignore */


  handleError(resolve, reject, error, retryFunc) {
    var _this = this;

    return (0,_Users_damian_Sample_Code_iv_test_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      if (error.code === VaultErrorCodes.MissingPasscode && _this.passCodeRequestedCallback) {
        const checkRetry = /*#__PURE__*/function () {
          var _ref = (0,_Users_damian_Sample_Code_iv_test_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
            if (retryFunc) {
              try {
                const data = yield retryFunc();
                resolve(data);
              } catch (e) {
                reject(e);
              }
            }
          });

          return function checkRetry() {
            return _ref.apply(this, arguments);
          };
        }();

        const res = _this.passCodeRequestedCallback(error.extra.isPasscodeSetRequest, code => {
          _this.setCustomPasscode(code);

          checkRetry();
        });

        if (res instanceof Promise) {
          yield res;
          yield checkRetry();
        }
      } else if (error.code === VaultErrorCodes.MissingBiometrics) {
        cordova.exec( /*#__PURE__*/(0,_Users_damian_Sample_Code_iv_test_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
          try {
            const data = yield retryFunc();
            resolve(data);
          } catch (e) {
            reject(e);
          }
        }), e => reject(e), 'VaultPlugin', 'requestBiometricPrompt', [_this.config]);
      } else {
        reject(error);
      }
    })();
  }
  /** @ignore */


  requestBiometricPrompt() {
    return new Promise((resolve, reject) => {
      cordova.exec(data => {
        resolve(JSON.parse(data));
      }, error => {
        this.handleError(resolve, reject, error, () => this.requestBiometricPrompt());
      }, 'VaultPlugin', 'requestBiometricPrompt', [this.config]);
    });
  }
  /**
   * @ignore
   */


  resume() {
    const noop = () => {// Do Nothing
    };

    cordova.exec(noop, error => {
      this.handleError(noop, noop, error, () => this.resume());
    }, 'VaultPlugin', 'appResumed', [this.config]);
  }
  /**
   * @ignore
   */


  setup() {
    return new Promise((resolve, reject) => {
      document.addEventListener('resume', this.resume, false);
      cordova.exec(resolve, error => {
        this.handleError(resolve, reject, error);
      }, 'VaultPlugin', 'setup', [this.config]);
    });
  }
  /**
   * @ignore
   */


  getPersistedVaultConfig() {
    return new Promise((resolve, reject) => {
      cordova.exec(data => {
        if (!data) {
          resolve();
        } else {
          const vaultConfig = JSON.parse(data);
          this.config = Object.assign(this.config, vaultConfig);
          resolve();
        }
      }, error => {
        this.handleError(resolve, reject, error);
      }, 'VaultPlugin', 'getVaultConfig', [this.config]);
    });
  }

}

class Device {
  /** @ignore */
  constructor() {// Nothing
  }
  /**
   * Gets the types of biometrics the device supports.
   *
   * @usage
   * ```typescript
   * const hardware = await Device.getAvailableHardware();
   * hardware.forEach((biometricType) => console.log("Type: " + biometricType));
   * ```
   */


  static getAvailableHardware() {
    return new Promise((resolve, reject) => {
      if (!('cordova' in window)) {
        resolve([]);
        return;
      }

      cordova.exec(data => {
        resolve(data);
      }, error => {
        Device.handleError(resolve, reject, error);
      }, 'DevicePlugin', 'getAvailableHardware', []);
    });
  }
  /**
   * Check whether biometrics are locked out on the device.
   *
   * On Android, the locked out state will only known after an attempted biometric unlock.
   *
   * @usage
   * ```typescript
   * const isLockedOut = await Device.isLockedOutOfBiometrics();
   * if (isLockedOut) {
   *  // device is locked out ...
   * }
   * ```
   */


  static isLockedOutOfBiometrics() {
    return new Promise((resolve, reject) => {
      if (!('cordova' in window)) {
        resolve(false);
        return;
      }

      cordova.exec(data => {
        resolve(JSON.parse(data));
      }, error => {
        Device.handleError(resolve, reject, error);
      }, 'DevicePlugin', 'isLockedOutOfBiometrics', []);
    });
  }
  /**
   * Checks the device biometric strength level.
   *
   * On iOS this will always return 'strong'.
   *
   * @usage
   * ```typescript
   * const biometricStrength = await Device.getBiometricStrengthLevel();
   * ```
   */


  static getBiometricStrengthLevel() {
    return new Promise((resolve, reject) => {
      if (!('cordova' in window)) {
        resolve(BiometricSecurityStrength.Weak);
        return;
      }

      cordova.exec(data => {
        resolve(data);
      }, error => {
        Device.handleError(resolve, reject, error);
      }, 'DevicePlugin', 'getBiometricStrengthLevel', []);
    });
  }
  /**
   * Check whether or not the screen will be obscured in app switcher mode.
   *
   * @usage
   * ```typescript
   * const willHideScreen = await Device.isHideScreenOnBackgroundEnabled();
   * ```
   */


  static isHideScreenOnBackgroundEnabled() {
    return new Promise((resolve, reject) => {
      if (!('cordova' in window)) {
        resolve(false);
        return;
      }

      cordova.exec(data => {
        resolve(JSON.parse(data));
      }, error => {
        Device.handleError(resolve, reject, error);
      }, 'DevicePlugin', 'isHideScreenOnBackgroundEnabled', []);
    });
  }
  /**
   * Set whether or not the screen will be obscured in app switcher mode.
   * If enabled, by default the screen behind biometric prompts will be obscured via the splash screen.
   *
   * For Android, an optional boolean *dimBiometrics* can be set to obscure
   * the screen behind biometric prompts via dimming the background instead.
   *
   * @usage
   * ```typescript
   * await Device.setHideScreenOnBackground(true, true);
   * ```
   */


  static setHideScreenOnBackground(enabled = false, dimBiometrics = false) {
    return new Promise((resolve, reject) => {
      if (!('cordova' in window)) {
        resolve();
        return;
      }

      cordova.exec(() => {
        resolve();
      }, error => {
        Device.handleError(resolve, reject, error);
      }, 'DevicePlugin', 'setHideScreenOnBackground', [enabled, dimBiometrics]);
    });
  }
  /**
   * Check whether the device OS-level passcode has been set.
   *
   * @usage
   * ```typescript
   * const hasSystemPasscode = await Device.isSystemPasscodeSet();
   * if (hasSystemPasscode) {
   *  // device has a system passcode
   * }
   * ```
   */


  static isSystemPasscodeSet() {
    return new Promise((resolve, reject) => {
      if (!('cordova' in window)) {
        resolve(false);
        return;
      }

      cordova.exec(data => {
        resolve(JSON.parse(data));
      }, error => {
        Device.handleError(resolve, reject, error);
      }, 'DevicePlugin', 'isSystemPasscodeSet', []);
    });
  }
  /**
   * Check whether or not biometrics is supported by the device and has been configured by the current user of the device.
   *
   * @usage
   * ```typescript
   * const biometricsEnabled = await Device.isBiometricsEnabled();
   * if (!biometricsEnabled) {
   *  // biometrics not enabled on this device...
   * }
   * ```
   */


  static isBiometricsEnabled() {
    return new Promise((resolve, reject) => {
      if (!('cordova' in window)) {
        resolve(false);
        return;
      }

      cordova.exec(data => {
        console.log('biometrics is enabled: ', data);
        resolve(JSON.parse(data));
      }, error => {
        Device.handleError(resolve, reject, error);
      }, 'DevicePlugin', 'isBiometricsEnabled', []);
    });
  }
  /**
   * Returns the current state of biometric permissions.
   *
   * On Android and iOS devices with TouchID, this always returns `granted`.
   *
   * @usage
   * ```typescript
   * const permissions = await Device.isBiometricsAllowed();
   * if (permissions === BiometricPermissionState.Denied) {
   *  // user must enable FaceID for the application...
   * }
   * ```
   */


  static isBiometricsAllowed() {
    return new Promise((resolve, reject) => {
      if (!('cordova' in window)) {
        resolve(BiometricPermissionState.Denied);
        return;
      }

      cordova.exec(data => {
        resolve(data);
      }, error => {
        Device.handleError(resolve, reject, error);
      }, 'DevicePlugin', 'isBiometricsAllowed', []);
    });
  }
  /**
   * Check whether or not biometrics is supported by the device.
   *
   * @usage
   * ```typescript
   * const biometricsSupported = await Device.isBiometricsSupported();
   * if (biometricsSupported) {
   *   // biometrics is supported on this device...
   * }
   * ```
   */


  static isBiometricsSupported() {
    return new Promise((resolve, reject) => {
      if (!('cordova' in window)) {
        resolve(false);
        return;
      }

      cordova.exec(data => {
        resolve(JSON.parse(data));
      }, error => {
        Device.handleError(resolve, reject, error);
      }, 'DevicePlugin', 'isBiometricsSupported', []);
    });
  }
  /**
   * Check if the device has a secure hardware enclave.
   *
   * @usage
   * ```typescript
   * const hasSecureHardware = await Device.hasSecureHardware();
   * if (!hasSecureHardware) {
   *    // this device doesn't have secure hardware
   * }
   * ```
   */


  static hasSecureHardware() {
    return new Promise((resolve, reject) => {
      if (!('cordova' in window)) {
        resolve(false);
        return;
      }

      cordova.exec(data => {
        resolve(JSON.parse(data));
      }, error => {
        Device.handleError(resolve, reject, error);
      }, 'DevicePlugin', 'hasSecureHardware', []);
    });
  }
  /**
   * Show a biometric prompt.
   *
   * @usage
   * ```typescript
   * try {
   *  const promptConfig = {...};
   *  await Device.showBiometricPrompt(promptConfig);
   *  // biometric prompt succeeded successfully
   * } catch (err) {
   *  // handle error
   * }
   * ```
   */


  static showBiometricPrompt(config) {
    return new Promise((resolve, reject) => {
      if (!('cordova' in window)) {
        resolve();
        return;
      }

      cordova.exec(() => {
        resolve();
      }, error => {
        Device.handleError(resolve, reject, error);
      }, 'DevicePlugin', 'showBiometricPrompt', [config]);
    });
  }
  /**
   * @ignore
   */


  static handleError(resolve, reject, error, retryFunc) {
    return (0,_Users_damian_Sample_Code_iv_test_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      reject(error);
    })();
  }

}
/**
 * @hidden
 *
 * @ignore
 */
// eslint-disable-next-line @typescript-eslint/ban-types


class IonicIdentityVaultUser {
  constructor(platform, options, descriptor) {
    this.platform = platform;
    this.options = options;
    this._readyCalled = false;
    this.descriptor = descriptor || {
      username: '_lastUser',
      vaultId: 'default'
    };
    this._readyPromise = this.initializeVault();
  }

  get token() {
    const session = this.session;
    return session === null || session === void 0 ? void 0 : session.token;
  }

  get username() {
    const session = this.session;
    return session === null || session === void 0 ? void 0 : session.username;
  }

  get config() {
    if (!this._config) {
      return undefined;
    }

    let authMode;
    const bioEnabled = this._config.isBiometricsEnabled;
    const passEnabled = this._config.isPasscodeEnabled;
    const secureStorageMode = this._config.isSecureStorageModeEnabled;

    if (secureStorageMode) {
      authMode = AuthMode.SecureStorage;
    } else if (bioEnabled && passEnabled) {
      authMode = AuthMode.BiometricAndPasscode;
    } else if (bioEnabled && !passEnabled) {
      authMode = AuthMode.BiometricOnly;
    } else if (!bioEnabled && passEnabled) {
      authMode = AuthMode.PasscodeOnly;
    } else if (!bioEnabled && !passEnabled) {
      authMode = AuthMode.InMemoryOnly;
    }

    return {
      authMode: authMode,
      isPasscodeSetupNeeded: this._config.isPasscodeSetupNeeded,
      lockAfter: this._config.lockAfter,
      hideScreenOnBackground: this._config.hideScreenOnBackground
    };
  } // overidable event handlers


  onVaultLocked(_event) {
    /* Do Nothing */
  }

  onSessionRestoreError(_err) {
    /* Do Nothing */
  }

  onUnlockOnReadyError(_err) {
    /* Do Nothing */
  }

  onVaultUnlocked(_config) {
    /* Do Nothing */
  }

  onVaultReady(_config) {
    /* Do Nothing */
  }

  onSetupError(_error) {
    /* Do Nothing */
  }

  onConfigChange(_config) {
    /* Do Nothing */
  }

  onSessionRestored(_session) {
    /* Do Nothing */
  }

  onPasscodeRequest(_isPasscodeSetRequest) {
    return (0,_Users_damian_Sample_Code_iv_test_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      return;
    })();
  }

  onReady(vault) {
    var _this2 = this;

    return (0,_Users_damian_Sample_Code_iv_test_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      if (_this2._readyCalled) {
        return;
      }

      _this2._readyCalled = true;
      _this2.vault = vault;
      const inUse = yield _this2.vault.isInUse(); // eslint-disable-next-line @typescript-eslint/no-non-null-assertion

      _this2._config = vault.config;
      const locked = yield _this2.vault.isLocked();
      let restoreSessionError;

      try {
        if (_this2.options.restoreSessionOnReady && inUse) {
          yield _this2._restoreSession();
        }
      } catch (e) {
        restoreSessionError = e;
      }

      let unlockOnReadyError;

      try {
        if (locked && _this2.options.unlockOnReady) {
          yield _this2._unlock();
        }
      } catch (e) {
        unlockOnReadyError = e;
      } // Note Swallow all errors in init like Vault is Locked Etc.


      try {
        if (!inUse) {
          yield _this2._trySetAuthMode(_this2.options.authMode);
        }
      } catch (e) {// Do Nothing
      }

      _this2._readyResolve();

      _this2.onVaultReady(_this2.config);

      if (restoreSessionError) {
        _this2.onSessionRestoreError(restoreSessionError);
      }

      if (unlockOnReadyError) {
        _this2.onUnlockOnReadyError(restoreSessionError);
      }
    })();
  }

  onLock(event) {
    this.session = undefined;
    this.onVaultLocked(event);
  }

  onUnlock(config) {
    var _this3 = this;

    return (0,_Users_damian_Sample_Code_iv_test_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      yield _this3.ready();
      _this3._config = config;

      _this3.onVaultUnlocked(_this3.config);
    })();
  }

  onError(error) {
    this._readyReject(error);

    this.onSetupError(error);
  }

  onConfig(config) {
    this._config = config;
    this.onConfigChange(this.config);
  }

  ready() {
    var _this4 = this;

    return (0,_Users_damian_Sample_Code_iv_test_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      return _this4._readyPromise;
    })();
  }

  _unlock(authMode) {
    var _this5 = this;

    return (0,_Users_damian_Sample_Code_iv_test_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const locked = yield _this5.vault.isLocked();

      if (!locked) {
        return;
      }

      authMode = authMode !== undefined && authMode !== AuthMode.BiometricOrPasscode ? authMode : _this5.config.authMode;

      switch (authMode) {
        case AuthMode.BiometricOnly:
          return _this5.vault.unlock();

        case AuthMode.PasscodeOnly:
          return _this5.unlockWithPasscode();

        case AuthMode.BiometricAndPasscode:
          try {
            yield _this5.vault.unlock();
            return;
          } catch (e) {
            const handleableErrors = [VaultErrorCodes.AuthFailed, VaultErrorCodes.BiometricsNotEnabled, VaultErrorCodes.UserCanceledInteraction, VaultErrorCodes.InvalidatedCredential];

            if (handleableErrors.indexOf(e.code) > -1) {
              yield _this5.unlockWithPasscode(); // The user removed fingerprints/faceID and so the bio creds are gone
              // if they are using passcode auth we can resave the credential to autoreset
              // the mode to PasscodeOnly if bio is no longer available.

              if (e.code === VaultErrorCodes.InvalidatedCredential) {
                const session = yield _this5.restoreSession(); // eslint-disable-next-line @typescript-eslint/no-non-null-assertion

                yield _this5.saveSession(session);
              }

              return;
            }

            throw e;
          }

      }
    })();
  }

  unlock(authMode) {
    var _this6 = this;

    return (0,_Users_damian_Sample_Code_iv_test_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      yield _this6.ready();
      return _this6._unlock(authMode);
    })();
  }

  unlockWithPasscode() {
    var _this7 = this;

    return (0,_Users_damian_Sample_Code_iv_test_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const passcode = yield _this7.onPasscodeRequest(false);
      return _this7.vault.unlock(true, passcode);
    })();
  }

  _setPasscode() {
    var _this8 = this;

    return (0,_Users_damian_Sample_Code_iv_test_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const locked = yield _this8.vault.isLocked();

      if (locked) {
        // eslint-disable-next-line no-throw-literal
        throw {
          code: VaultErrorCodes.VaultLocked,
          message: 'Operation not allowed while vault locked.'
        };
      }

      const passcode = yield _this8.onPasscodeRequest(true);
      return _this8.vault.setPasscode(passcode);
    })();
  }

  setPasscode() {
    var _this9 = this;

    return (0,_Users_damian_Sample_Code_iv_test_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      yield _this9.ready();
      return _this9._setPasscode();
    })();
  }

  getSession() {
    var _this10 = this;

    return (0,_Users_damian_Sample_Code_iv_test_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      yield _this10.ready();

      if (_this10.options.unlockOnAccess) {
        yield _this10._unlock();
      }

      return _this10.session;
    })();
  }

  _restoreSession() {
    var _this11 = this;

    return (0,_Users_damian_Sample_Code_iv_test_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const inUse = yield _this11.vault.isInUse();

      if (!inUse) {
        return;
      }

      if (_this11.options.unlockOnAccess) {
        yield _this11._unlock();
      }

      _this11.session = yield _this11.vault.getValue('session'); // eslint-disable-next-line @typescript-eslint/no-non-null-assertion

      _this11.onSessionRestored(_this11.session);

      return _this11.session;
    })();
  }

  restoreSession() {
    var _this12 = this;

    return (0,_Users_damian_Sample_Code_iv_test_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      yield _this12.ready();
      return _this12._restoreSession();
    })();
  }

  saveSession(session) {
    var _this13 = this;

    return (0,_Users_damian_Sample_Code_iv_test_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      yield _this13.ready();

      if (_this13.config.isPasscodeSetupNeeded) {
        yield _this13.setPasscode();
      }

      try {
        yield _this13.vault.storeValue('session', session);
      } catch (e) {
        // Catch the case where Biometrics with Passcode Fallback
        // was enabled but the user disabled passcode or removed their
        // fingerprints/faceid and try to recover by setting to passcode only
        // mode.
        if (e.code === VaultErrorCodes.SecurityNotAvailable) {
          const authMode = yield _this13.getAuthMode();

          if (authMode === AuthMode.BiometricAndPasscode) {
            yield _this13.setAuthMode(AuthMode.PasscodeOnly);
            return _this13.saveSession(session);
          }
        }

        throw e;
      }

      _this13.session = session;
    })();
  }

  login(session, authMode) {
    var _this14 = this;

    return (0,_Users_damian_Sample_Code_iv_test_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      yield _this14.ready();
      yield _this14.logout();
      yield _this14._trySetAuthMode(authMode);
      return _this14.saveSession(session);
    })();
  }

  getVault() {
    var _this15 = this;

    return (0,_Users_damian_Sample_Code_iv_test_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      yield _this15.ready();
      return _this15.vault;
    })();
  }

  initializeVault() {
    var _this16 = this;

    return (0,_Users_damian_Sample_Code_iv_test_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      yield _this16.platform.ready();

      if (_this16.vault != null) {
        return Promise.resolve();
      }

      if (_this16.vIonicNativeAuth == null) {
        _this16.vIonicNativeAuth = _this16.getPlugin();
      }

      const readyPromise = new Promise((resolve, reject) => {
        _this16._readyResolve = resolve;
        _this16._readyReject = reject;
      });
      const {
        lockAfter,
        hideScreenOnBackground,
        shouldClearVaultAfterTooManyFailedAttempts,
        allowSystemPinFallback,
        androidPromptNegativeButtonText,
        androidPromptTitle,
        androidPromptSubtitle,
        androidPromptDescription,
        androidPINPromptTitle,
        androidPINPromptSubtitle,
        androidPINPromptConfirmTitle,
        androidPINPromptVerifyTitle,
        androidPINPromptConfirmButtonText,
        androidPINPromptNegativeButtonText,
        iosPromptText
      } = _this16.options;
      _this16.vault = _this16.vIonicNativeAuth.getVault(Object.assign(Object.assign({
        lockAfter,
        hideScreenOnBackground,
        shouldClearVaultAfterTooManyFailedAttempts,
        allowSystemPinFallback,
        androidPromptNegativeButtonText,
        androidPromptTitle,
        androidPromptSubtitle,
        androidPromptDescription,
        androidPINPromptTitle,
        androidPINPromptSubtitle,
        androidPINPromptConfirmTitle,
        androidPINPromptVerifyTitle,
        androidPINPromptConfirmButtonText,
        androidPINPromptNegativeButtonText,
        iosPromptText
      }, _this16.descriptor), {
        onLock: _this16.onLock.bind(_this16),
        onConfig: _this16.onConfig.bind(_this16),
        onError: _this16.onError.bind(_this16),
        onUnlock: _this16.onUnlock.bind(_this16),
        onReady: _this16.onReady.bind(_this16)
      }));
      return readyPromise;
    })();
  }

  getPlugin() {
    return IonicNativeAuth;
  }

  getBiometricType() {
    var _this17 = this;

    return (0,_Users_damian_Sample_Code_iv_test_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      yield _this17.ready();
      return _this17.vault.getBiometricType();
    })();
  }

  getAvailableHardware() {
    var _this18 = this;

    return (0,_Users_damian_Sample_Code_iv_test_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      yield _this18.ready();
      return _this18.vault.getAvailableHardware();
    })();
  }

  lockOut() {
    var _this19 = this;

    return (0,_Users_damian_Sample_Code_iv_test_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      yield _this19.ready();
      yield _this19.vault.lock();
      _this19.session = undefined;
    })();
  }

  logout() {
    var _this20 = this;

    return (0,_Users_damian_Sample_Code_iv_test_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      yield _this20.ready();
      yield _this20.vault.clear();
      _this20.session = undefined;
      _this20._config = yield _this20.vault.getConfig();
    })();
  }

  hasStoredSession() {
    var _this21 = this;

    return (0,_Users_damian_Sample_Code_iv_test_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      yield _this21.ready();
      return _this21.vault.isInUse();
    })();
  }

  setBiometricsEnabled(isBiometricsEnabled) {
    var _this22 = this;

    return (0,_Users_damian_Sample_Code_iv_test_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      yield _this22.ready();
      return _this22._setBiometricsEnabled(isBiometricsEnabled);
    })();
  }

  _setBiometricsEnabled(isBiometricsEnabled) {
    var _this23 = this;

    return (0,_Users_damian_Sample_Code_iv_test_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      return _this23.vault.setBiometricsEnabled(isBiometricsEnabled);
    })();
  }

  setHideScreenOnBackground(enabled) {
    var _this24 = this;

    return (0,_Users_damian_Sample_Code_iv_test_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      yield _this24.ready();
      return _this24.vault.setHideScreenOnBackground(enabled);
    })();
  }

  setPasscodeEnabled(isPasscodeEnabled) {
    var _this25 = this;

    return (0,_Users_damian_Sample_Code_iv_test_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      yield _this25.ready();
      yield _this25._setPasscodeEnabled(isPasscodeEnabled);
    })();
  }

  _setPasscodeEnabled(isPasscodeEnabled) {
    var _this26 = this;

    return (0,_Users_damian_Sample_Code_iv_test_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      yield _this26.vault.setPasscodeEnabled(isPasscodeEnabled);
      _this26._config = yield _this26.vault.getConfig();

      if (_this26.config.isPasscodeSetupNeeded) {
        yield _this26._setPasscode();
      }
    })();
  }

  isBiometricsEnabled() {
    var _this27 = this;

    return (0,_Users_damian_Sample_Code_iv_test_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      yield _this27.ready();
      return _this27.vault.isBiometricsEnabled();
    })();
  }

  isBiometricsAvailable() {
    var _this28 = this;

    return (0,_Users_damian_Sample_Code_iv_test_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      yield _this28.ready();
      return _this28.vault.isBiometricsAvailable();
    })();
  }

  isBiometricsSupported() {
    var _this29 = this;

    return (0,_Users_damian_Sample_Code_iv_test_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      yield _this29.ready();
      return _this29.vault.isBiometricsSupported();
    })();
  }

  isSecureStorageModeEnabled() {
    var _this30 = this;

    return (0,_Users_damian_Sample_Code_iv_test_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      yield _this30.ready();
      return _this30.vault.isSecureStorageModeEnabled();
    })();
  }

  isPasscodeEnabled() {
    var _this31 = this;

    return (0,_Users_damian_Sample_Code_iv_test_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      yield _this31.ready();
      return _this31.vault.isPasscodeEnabled();
    })();
  }

  _setAuthMode(authMode) {
    var _this32 = this;

    return (0,_Users_damian_Sample_Code_iv_test_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      authMode = authMode !== undefined ? authMode : _this32.config.authMode;

      if (authMode === _this32.config.authMode) {
        return;
      }

      switch (authMode) {
        case AuthMode.BiometricOnly:
          yield _this32._setBiometricsEnabled(true);
          yield _this32._setPasscodeEnabled(false);
          break;

        case AuthMode.PasscodeOnly:
          yield _this32._setPasscodeEnabled(true);
          yield _this32._setBiometricsEnabled(false);
          break;

        case AuthMode.BiometricAndPasscode:
          yield _this32._setPasscodeEnabled(true);
          yield _this32._setBiometricsEnabled(true);
          break;

        case AuthMode.BiometricOrPasscode:
          try {
            yield _this32._setBiometricsEnabled(true);
            yield _this32._setPasscodeEnabled(false);
          } catch (error) {
            yield _this32._setPasscodeEnabled(true);
          }

          break;

        case AuthMode.InMemoryOnly:
          yield _this32._setPasscodeEnabled(false);
          yield _this32._setBiometricsEnabled(false);
          yield _this32.vault.setSecureStorageModeEnabled(false);
          break;

        case AuthMode.SecureStorage:
          // Note: Setting this mode automatically disables the other modes in native code.
          yield _this32.vault.setSecureStorageModeEnabled(true);
          break;

        default:
          // eslint-disable-next-line no-throw-literal
          throw {
            code: VaultErrorCodes.InvalidAuthMode,
            message: 'Invalid AuthMode'
          };
      }
    })();
  }

  _trySetAuthMode(authMode) {
    var _this33 = this;

    return (0,_Users_damian_Sample_Code_iv_test_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      try {
        yield _this33._setAuthMode(authMode);
      } catch (error) {
        if (error.code !== VaultErrorCodes.BiometricsNotEnabled && error.code !== VaultErrorCodes.SecurityNotAvailable) {
          throw error;
        }
      }
    })();
  }

  setAuthMode(authMode) {
    var _this34 = this;

    return (0,_Users_damian_Sample_Code_iv_test_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      yield _this34.ready();
      return _this34._setAuthMode(authMode);
    })();
  }

  getAuthMode() {
    var _this35 = this;

    return (0,_Users_damian_Sample_Code_iv_test_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      yield _this35.ready();
      _this35._config = yield _this35.vault.getConfig(); // eslint-disable-next-line @typescript-eslint/no-non-null-assertion

      return _this35.config.authMode;
    })();
  }

}

class MigratorVault extends IonicIdentityVaultUser {
  /** @ignore */
  constructor(options, onPasscodeRequest, descriptor) {
    super({
      ready: () => Promise.resolve(true)
    }, options, descriptor);

    if (onPasscodeRequest) {
      this.onPasscodeRequest = onPasscodeRequest;
    }
  }

  static getInstance(options, onPasscodeRequest, descriptor) {
    if (!MigratorVault.instance) {
      MigratorVault.instance = new MigratorVault(options, onPasscodeRequest, descriptor);
    }

    return MigratorVault.instance;
  }

}

MigratorVault.instance = undefined;

class VaultMigrator {
  /**
   *
   * @usage
   * ```typescript
   * const legacyVaultConfig = {
   *  unlockOnAccess: true,
   *  hideScreenOnBackground: true,
   *  lockAfter: 5000,
   *  // and more ....
   * }
   * const migrator = new VaultMigrator(legacyVaultConfig, customPasscodePrompt);
   * ```
   * @param options The legacy vault configuration options
   * @param onPasscodeRequest An optional callback function that will be called when the vault attempts to request a passcode. The function returns a promise with a boolean that indicates if the passcode is being setup for the first time for the vault or not.
   * @param descriptor An optional interface that describes the legacy vault.
   */
  constructor(options, onPasscodeRequest, descriptor) {
    this.migratorSession = new MigratorVault(options, onPasscodeRequest, descriptor);
  }
  /**
   * Exports the data of the legacy vault in its entirety.
   *
   * @usage
   * ```typescript
   * const data = await migrator.exportVault();
   * console.log("@@VAULT DATA: ", JSON.stringify(data));
   * ```
   * @returns
   */


  exportVault() {
    var _this36 = this;

    return (0,_Users_damian_Sample_Code_iv_test_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      if (!(yield _this36.migratorSession.hasStoredSession())) {
        throw Error('no data in legacy vault');
      }

      yield _this36.migratorSession.unlock();
      const vault = yield _this36.migratorSession.getVault();
      const keys = yield vault.getKeys();
      const vaultData = {};

      for (const key of keys) {
        vaultData[key] = yield vault.getValue(key);
      }

      return vaultData;
    })();
  }
  /**
   * Clears out the legacy vault and removes it from the system.  Be sure to run {@link VaultMigrator.exportVault} before calling this method.
   *
   * @usage
   * ```typescript
   * const data = await migrator.exportVault();
   * await importVault(data);
   * await migrator.clear();
   * ```
   */


  clear() {
    var _this37 = this;

    return (0,_Users_damian_Sample_Code_iv_test_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const vault = yield _this37.migratorSession.getVault();
      return vault.clear();
    })();
  }

}

class TaskQueue {
  // Private constructor to prevent creating new instances of the class
  constructor() {
    this.queue = [];
    this.isProcessing = false;
  } // Public static method to get the singleton instance of TaskQueue


  static getInstance() {
    if (!TaskQueue.instance) {
      TaskQueue.instance = new TaskQueue();
    }

    return TaskQueue.instance;
  } // Add a new task to the queue and process it if not already processing


  addTask(task) {
    var _this38 = this;

    return (0,_Users_damian_Sample_Code_iv_test_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      // eslint-disable-next-line no-async-promise-executor
      return new Promise( /*#__PURE__*/function () {
        var _ref3 = (0,_Users_damian_Sample_Code_iv_test_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* (resolve, reject) {
          const wrappedTask = /*#__PURE__*/function () {
            var _ref4 = (0,_Users_damian_Sample_Code_iv_test_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
              try {
                const result = yield task();
                resolve(result);
              } catch (error) {
                reject(error);
              }
            });

            return function wrappedTask() {
              return _ref4.apply(this, arguments);
            };
          }();

          _this38.queue.push(wrappedTask);

          if (!_this38.isProcessing) {
            yield _this38.processTasks();
          }
        });

        return function (_x, _x2) {
          return _ref3.apply(this, arguments);
        };
      }());
    })();
  } // Process the tasks in the queue one by one


  processTasks() {
    var _this39 = this;

    return (0,_Users_damian_Sample_Code_iv_test_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      _this39.isProcessing = true;

      while (_this39.queue.length > 0) {
        const task = _this39.queue.shift();

        if (task) {
          yield task();
        }
      }

      _this39.isProcessing = false;
    })();
  }

}

var VaultType;

(function (VaultType) {
  VaultType["DeviceSecurity"] = "DeviceSecurity";
})(VaultType || (VaultType = {}));

var LogLevel;

(function (LogLevel) {
  LogLevel["Debug"] = "DEBUG";
  LogLevel["Info"] = "INFO";
  LogLevel["Warning"] = "WARNING";
  LogLevel["Error"] = "ERROR";
})(LogLevel || (LogLevel = {}));

const taskQueue = TaskQueue.getInstance(); // Not properly implemented yet, resolve needs to be replaced with
// a json object parse from the string returned from from native and return type needs change from Promise<any>.

function getConfigForVaultId(_x3) {
  return _getConfigForVaultId.apply(this, arguments);
} // Not properly implemented yet on native side.


function _getConfigForVaultId() {
  _getConfigForVaultId = (0,_Users_damian_Sample_Code_iv_test_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* (vaultId) {
    return new Promise((resolve, reject) => {
      cordova.exec(resolve, reject, 'IdentityVaultPlugin', 'getConfigForVaultId', [{
        vaultId
      }]);
    });
  });
  return _getConfigForVaultId.apply(this, arguments);
}

function destroyVaultByVaultId(_x4) {
  return _destroyVaultByVaultId.apply(this, arguments);
} // Not properly implemented yet, resolve needs to be replaced with switch that
// return Vaulttype enum value based on string from native.


function _destroyVaultByVaultId() {
  _destroyVaultByVaultId = (0,_Users_damian_Sample_Code_iv_test_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* (vaultId) {
    return new Promise((resolve, reject) => {
      cordova.exec(resolve, reject, 'IdentityVaultPlugin', 'destroyVaultByVaultId', [{
        vaultId
      }]);
    });
  });
  return _destroyVaultByVaultId.apply(this, arguments);
}

function getVaultTypeForVaultId(_x5) {
  return _getVaultTypeForVaultId.apply(this, arguments);
}

function _getVaultTypeForVaultId() {
  _getVaultTypeForVaultId = (0,_Users_damian_Sample_Code_iv_test_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* (vaultId) {
    return new Promise((resolve, reject) => {
      cordova.exec(resolve, reject, 'IdentityVaultPlugin', 'getVaultTypeForVaultId', [{
        vaultId
      }]);
    });
  });
  return _getVaultTypeForVaultId.apply(this, arguments);
}

class IdentityVaultBaseClass {
  constructor(vaultId) {
    this.vaultId = vaultId;
  }

  static getOrCreateVault(vaultId, options, vaultType) {
    return (0,_Users_damian_Sample_Code_iv_test_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      yield taskQueue.addTask(() => {
        return new Promise((resolve, reject) => {
          try {
            cordova.exec(resolve, error => {
              reject(error);
            }, 'IdentityVaultPlugin', 'getOrCreate', [{
              vaultId,
              options,
              vaultType
            }]);
          } catch (e) {
            reject(e);
          }
        });
      });
    })();
  }

  clear() {
    throw new Error('Method not implemented.');
  }

  destroy() {
    var _this40 = this;

    return (0,_Users_damian_Sample_Code_iv_test_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      yield taskQueue.addTask(() => {
        return new Promise((resolve, reject) => {
          cordova.exec(resolve, reject, 'IdentityVaultPlugin', 'destroy', [{
            vaultId: _this40.vaultId
          }]);
        });
      });
    })();
  }

  exists() {
    throw new Error('Method not implemented.');
  }

  exportVaultData() {
    throw new Error('Method not implemented.');
  }

  getValue(key) {
    throw new Error('Method not implemented.');
  }

  getValues(keys) {
    throw new Error('Method not implemented.');
  }

  importVaultData() {
    throw new Error('Method not implemented.');
  }

  isEmpty() {
    throw new Error('Method not implemented.');
  }

  isLocked() {
    throw new Error('Method not implemented.');
  }

  lock() {
    throw new Error('Method not implemented.');
  }

  onError(handler) {
    throw new Error('Method not implemented.');
  }

  onLock(handler) {
    throw new Error('Method not implemented.');
  }

  onUnlock(handler) {
    throw new Error('Method not implemented.');
  }

  removeValue() {
    throw new Error('Method not implemented.');
  }

  setLockAfterBackgroundedTime() {
    throw new Error('Method not implemented.');
  }

  setValue(key, value) {
    throw new Error('Method not implemented.');
  }

  setValues(values) {
    throw new Error('Method not implemented.');
  }

  unlock() {
    throw new Error('Method not implemented.');
  }

  getType() {
    throw new Error('Method not implemented.');
  }

}

class DeviceSecurityVault extends IdentityVaultBaseClass {
  constructor(vaultId) {
    super(vaultId);
  }

  static getInstance(vaultId) {
    if (!DeviceSecurityVault.instances[vaultId]) {
      DeviceSecurityVault.instances[vaultId] = new DeviceSecurityVault(vaultId);
    }

    return DeviceSecurityVault.instances[vaultId];
  }

  static getOrCreate(vaultId, options) {
    return (0,_Users_damian_Sample_Code_iv_test_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      yield IdentityVaultBaseClass.getOrCreateVault(vaultId, options, VaultType.DeviceSecurity);
      return DeviceSecurityVault.getInstance(vaultId);
    })();
  }

  destroy() {
    var _superprop_getDestroy = () => super.destroy,
        _this41 = this;

    return (0,_Users_damian_Sample_Code_iv_test_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      yield _superprop_getDestroy().call(_this41);
      delete DeviceSecurityVault.instances[_this41.vaultId];
    })();
  }

  getType() {
    return (0,_Users_damian_Sample_Code_iv_test_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      return VaultType.DeviceSecurity;
    })();
  }

}

DeviceSecurityVault.instances = {};


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVmYXVsdC1zcmNfYXBwX2V4cGxvcmUtY29udGFpbmVyX2V4cGxvcmUtY29udGFpbmVyX21vZHVsZV90cy1ub2RlX21vZHVsZXNfaW9uaWMtZW50ZXJwcmlzZV9pLTg3YjE0ZC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFPTyxNQUFNLHlCQUF5QjtJQUdwQyxnQkFBZ0IsQ0FBQztJQUVqQixRQUFRLEtBQUksQ0FBQzs7a0dBTEYseUJBQXlCO3VIQUF6Qix5QkFBeUI7UUNQdEMseUVBQW9CO1FBQ1YsdURBQVU7UUFBQSw0REFBUztRQUMzQixvRUFBRztRQUFBLG1FQUFRO1FBQUEsdUVBQStGO1FBQUEsd0VBQWE7UUFBQSw0REFBSTs7UUFEbkgsMERBQVU7UUFBVix5RUFBVTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDQTJCO0FBQ0Y7QUFFQTtBQUU2Qjs7QUFPbkUsTUFBTSwrQkFBK0I7OzhHQUEvQiwrQkFBK0I7NEhBQS9CLCtCQUErQjtnSUFKL0IseURBQVksRUFBRSx1REFBVyxFQUFFLHVEQUFXO21JQUl0QywrQkFBK0IsbUJBSDNCLG1GQUF5QixhQUQ3Qix5REFBWSxFQUFFLHVEQUFXLEVBQUUsdURBQVcsYUFFdkMsbUZBQXlCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDWHJDOztBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUlBLGVBQUo7O0FBQ0EsQ0FBQyxVQUFVQSxlQUFWLEVBQTJCO0VBQ3hCO0FBQ0o7QUFDQTtBQUNBO0VBQ0lBLGVBQWUsQ0FBQ0EsZUFBZSxDQUFDLFNBQUQsQ0FBZixHQUE2QixDQUE5QixDQUFmLEdBQWtELFNBQWxEO0VBQ0E7QUFDSjtBQUNBO0FBQ0E7O0VBQ0lBLGVBQWUsQ0FBQ0EsZUFBZSxDQUFDLGFBQUQsQ0FBZixHQUFpQyxDQUFsQyxDQUFmLEdBQXNELGFBQXREO0VBQ0E7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7RUFDSUEsZUFBZSxDQUFDQSxlQUFlLENBQUMsa0JBQUQsQ0FBZixHQUFzQyxDQUF2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LEVBQVU7SUFDakIsTUFBTUEsT0FBTjtFQUNIOztFQUNpQixPQUFYc0csV0FBVyxDQUFDdEcsT0FBRCxFQUFVO0lBQ3hCLElBQUksQ0FBQ3dJLG1CQUFtQixDQUFDQyxTQUFwQixDQUE4QnpJLE9BQTlCLENBQUwsRUFBNkM7TUFDekN3SSxtQkFBbUIsQ0FBQ0MsU0FBcEIsQ0FBOEJ6SSxPQUE5QixJQUF5QyxJQUFJd0ksbUJBQUosQ0FBd0J4SSxPQUF4QixDQUF6QztJQUNIOztJQUNELE9BQU93SSxtQkFBbUIsQ0FBQ0MsU0FBcEIsQ0FBOEJ6SSxPQUE5QixDQUFQO0VBQ0g7O0VBQ3VCLE9BQVgwSSxXQUFXLENBQUMxSSxPQUFELEVBQVVKLE9BQVYsRUFBbUI7SUFBQTtNQUN2QyxNQUFNK0gsc0JBQXNCLENBQUNDLGdCQUF2QixDQUF3QzVILE9BQXhDLEVBQWlESixPQUFqRCxFQUEwRHpJLFNBQVMsQ0FBQ3lGLGNBQXBFLENBQU47TUFDQSxPQUFPNEwsbUJBQW1CLENBQUNsQyxXQUFwQixDQUFnQ3RHLE9BQWhDLENBQVA7SUFGdUM7RUFHMUM7O0VBQ0s4SCxPQUFPLEdBQUc7SUFBQTtJQUFBOztJQUFBO01BQ1osTUFBTSxxQ0FBTjtNQUNBLE9BQU9VLG1CQUFtQixDQUFDQyxTQUFwQixDQUE4QixPQUFJLENBQUN6SSxPQUFuQyxDQUFQO0lBRlk7RUFHZjs7RUFDS3VJLE9BQU8sR0FBRztJQUFBO01BQ1osT0FBT3BSLFNBQVMsQ0FBQ3lGLGNBQWpCO0lBRFk7RUFFZjs7QUFwQm9EOztBQXNCekQ0TCxtQkFBbUIsQ0FBQ0MsU0FBcEIsR0FBZ0MsRUFBaEMiLCJzb3VyY2VzIjpbIi4vc3JjL2FwcC9leHBsb3JlLWNvbnRhaW5lci9leHBsb3JlLWNvbnRhaW5lci5jb21wb25lbnQudHMiLCIuL3NyYy9hcHAvZXhwbG9yZS1jb250YWluZXIvZXhwbG9yZS1jb250YWluZXIuY29tcG9uZW50Lmh0bWwiLCIuL3NyYy9hcHAvZXhwbG9yZS1jb250YWluZXIvZXhwbG9yZS1jb250YWluZXIubW9kdWxlLnRzIiwiLi9ub2RlX21vZHVsZXMvQGlvbmljLWVudGVycHJpc2UvaWRlbnRpdHktdmF1bHQvZGlzdC9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIE9uSW5pdCwgSW5wdXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnYXBwLWV4cGxvcmUtY29udGFpbmVyJyxcbiAgdGVtcGxhdGVVcmw6ICcuL2V4cGxvcmUtY29udGFpbmVyLmNvbXBvbmVudC5odG1sJyxcbiAgc3R5bGVVcmxzOiBbJy4vZXhwbG9yZS1jb250YWluZXIuY29tcG9uZW50LnNjc3MnXSxcbn0pXG5leHBvcnQgY2xhc3MgRXhwbG9yZUNvbnRhaW5lckNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XG4gIEBJbnB1dCgpIG5hbWU6IHN0cmluZztcblxuICBjb25zdHJ1Y3RvcigpIHsgfVxuXG4gIG5nT25Jbml0KCkge31cblxufVxuIiwiPGRpdiBpZD1cImNvbnRhaW5lclwiPlxuICA8c3Ryb25nPnt7IG5hbWUgfX08L3N0cm9uZz5cbiAgPHA+RXhwbG9yZSA8YSB0YXJnZXQ9XCJfYmxhbmtcIiByZWw9XCJub29wZW5lciBub3JlZmVycmVyXCIgaHJlZj1cImh0dHBzOi8vaW9uaWNmcmFtZXdvcmsuY29tL2RvY3MvY29tcG9uZW50c1wiPlVJIENvbXBvbmVudHM8L2E+PC9wPlxuPC9kaXY+IiwiaW1wb3J0IHsgTmdNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IENvbW1vbk1vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5pbXBvcnQgeyBGb3Jtc01vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcblxuaW1wb3J0IHsgSW9uaWNNb2R1bGUgfSBmcm9tICdAaW9uaWMvYW5ndWxhcic7XG5cbmltcG9ydCB7IEV4cGxvcmVDb250YWluZXJDb21wb25lbnQgfSBmcm9tICcuL2V4cGxvcmUtY29udGFpbmVyLmNvbXBvbmVudCc7XG5cbkBOZ01vZHVsZSh7XG4gIGltcG9ydHM6IFsgQ29tbW9uTW9kdWxlLCBGb3Jtc01vZHVsZSwgSW9uaWNNb2R1bGVdLFxuICBkZWNsYXJhdGlvbnM6IFtFeHBsb3JlQ29udGFpbmVyQ29tcG9uZW50XSxcbiAgZXhwb3J0czogW0V4cGxvcmVDb250YWluZXJDb21wb25lbnRdXG59KVxuZXhwb3J0IGNsYXNzIEV4cGxvcmVDb250YWluZXJDb21wb25lbnRNb2R1bGUge31cbiIsIi8qISBJb25pYyBFbnRlcnByaXNlIElkZW50aXR5IFZhdWx0OiBodHRwczovL2lvbmljZnJhbWV3b3JrLmNvbS8gLSBDb21tZXJjaWFsbHkgTGljZW5zZWQgKi9cbi8qKlxuICogVGhlIG1lYW5pbmcgb2YgdGhlIGVycm9yIGNvZGUgaW4gdGhlIHRocm93biB7QGxpbmsgVmF1bHRFcnJvcn0uXG4gKi9cbnZhciBWYXVsdEVycm9yQ29kZXM7XG4oZnVuY3Rpb24gKFZhdWx0RXJyb3JDb2Rlcykge1xuICAgIC8qKlxuICAgICAqIEFuIHVua25vd24gZXJyb3IgaGFwcGVuZWQuXG4gICAgICogQGNvbnN0YW50IGAwYFxuICAgICAqL1xuICAgIFZhdWx0RXJyb3JDb2Rlc1tWYXVsdEVycm9yQ29kZXNbXCJVbmtub3duXCJdID0gMF0gPSBcIlVua25vd25cIjtcbiAgICAvKipcbiAgICAgKiBUaGUgb3BlcmF0aW9uIGZhaWxlZCBiZWNhdXNlIHRoZSB2YXVsdCB3YXMgbG9ja2VkLlxuICAgICAqIEBjb25zdGFudCBgMWBcbiAgICAgKi9cbiAgICBWYXVsdEVycm9yQ29kZXNbVmF1bHRFcnJvckNvZGVzW1wiVmF1bHRMb2NrZWRcIl0gPSAxXSA9IFwiVmF1bHRMb2NrZWRcIjtcbiAgICAvKipcbiAgICAgKiBUaGUgb3BlcmF0aW9uIGZhaWxlZCBiZWNhdXNlIHRoZSB2YXVsdCB3YXMgdW5hdmFpbGFibGUuXG4gICAgICogVGhlIG1vc3QgbGlrZWx5IGNhdXNlIG9mIHRoaXMgZXJyb3IgaXMgdGhhdCBhIHZhdWx0IGhhcyBub3QgYmVlbiBjb25maWd1cmVkLlxuICAgICAqIEBjb25zdGFudCBgMmBcbiAgICAgKi9cbiAgICBWYXVsdEVycm9yQ29kZXNbVmF1bHRFcnJvckNvZGVzW1wiVmF1bHRVbmF2YWlsYWJsZVwiXSA9IDJdID0gXCJWYXVsdFVuYXZhaWxhYmxlXCI7XG4gICAgLyoqXG4gICAgICogVGhlIG9wZXJhdGlvbiBmYWlsZWQgYmVjYXVzZSB0aGUgc29tZSBvZiB0aGUgdmF1bHQgcHJvdmlkZWQgYXJndW1lbnRzIHdlcmUgaW52YWxpZC5cbiAgICAgKiBAY29uc3RhbnQgYDNgXG4gICAgICovXG4gICAgVmF1bHRFcnJvckNvZGVzW1ZhdWx0RXJyb3JDb2Rlc1tcIkludmFsaWRBcmd1bWVudHNcIl0gPSAzXSA9IFwiSW52YWxpZEFyZ3VtZW50c1wiO1xuICAgIC8qKlxuICAgICAqIFRoZSBjcmVkZW50aWFscyB3ZXJlIGludmFsaWRhdGVkLiBUaGlzIGNhbiBoYXBwZW4gd2hlbiBhIHVzZXIgY2hhbmdlcyBiaW9tZXRyaWNzIG9yIHBhc3Njb2RlLlxuICAgICAqIEBjb25zdGFudCBgNGBcbiAgICAgKi9cbiAgICBWYXVsdEVycm9yQ29kZXNbVmF1bHRFcnJvckNvZGVzW1wiSW52YWxpZGF0ZWRDcmVkZW50aWFsXCJdID0gNF0gPSBcIkludmFsaWRhdGVkQ3JlZGVudGlhbFwiO1xuICAgIC8qKlxuICAgICAqIEJpb21ldHJpYyBzZWN1cml0eSBpcyB1bmF2YWlsYWJsZSBkdWUgdG8gYSBwYXNzY29kZSBub3QgYmVpbmcgc2V0IHVwIGF0IHRoZSBzeXN0ZW0gbGV2ZWwuXG4gICAgICogSW4gb3JkZXIgdG8gdXNlIGJpb21ldHJpYyBpZGVudGlmaWNhdGlvbiBvbiB0aGUgZGV2aWNlIGEgc3lzdGVtIGxldmVsIHBhc3Njb2RlIG11c3QgYmUgc2V0IHVwIGJ5IHRoZSB1c2VyLlxuICAgICAqIEBjb25zdGFudCBgNWBcbiAgICAgKi9cbiAgICBWYXVsdEVycm9yQ29kZXNbVmF1bHRFcnJvckNvZGVzW1wiU2VjdXJpdHlOb3RBdmFpbGFibGVcIl0gPSA1XSA9IFwiU2VjdXJpdHlOb3RBdmFpbGFibGVcIjtcbiAgICAvKipcbiAgICAgKiBVc2VyIGF1dGhlbnRpY2F0aW9uIGZhaWxlZC4gVGhpcyBjYW4gb2NjdXIgd2hlbiB0aGUgdXNlciBoYXMgZGVuaWVkIHVzZSBvZiBiaW9tZXRyaWNzIG9yIGZvcmNlIGNsb3NlZCB0aGUgYXBwIGR1cmluZyBhIGJpb21ldHJpYyBwcm9tcHQuXG4gICAgICogWW91IGNhbiBjYWxsIHRoZSBEZXZpY2UuaXNCaW9tZXRyaWNzQWxsb3dlZCBtZXRob2QgdG8gZGV0ZXJtaW5lIGlmIHRoZSB1c2VyIGhhcyBkZW5pZWQgYWNjZXNzIHRvIEJpb21ldHJpY3MuXG4gICAgICogQGNvbnN0YW50IGA2YFxuICAgICAqL1xuICAgIFZhdWx0RXJyb3JDb2Rlc1tWYXVsdEVycm9yQ29kZXNbXCJBdXRoRmFpbGVkXCJdID0gNl0gPSBcIkF1dGhGYWlsZWRcIjtcbiAgICAvKipcbiAgICAgKiBUb28gbWFueSBmYWlsZWQgYXV0aGVudGljYXRpb24gYXR0ZW1wdHMgbWFkZSBhZ2FpbnN0IHRoZSBjdXN0b20gcGFzc2NvZGUgdmF1bHQsIHNvIHRoZSB2YXVsdCB3YXMgY2xlYXJlZCBhbmQgdXNlciB3aWxsIG5lZWQgdG8gbG9naW4gYWdhaW4uXG4gICAgICogQGNvbnN0YW50IGA3YFxuICAgICAqL1xuICAgIFZhdWx0RXJyb3JDb2Rlc1tWYXVsdEVycm9yQ29kZXNbXCJUb29NYW55RmFpbGVkQXR0ZW1wdHNcIl0gPSA3XSA9IFwiVG9vTWFueUZhaWxlZEF0dGVtcHRzXCI7XG4gICAgLyoqXG4gICAgICogVGhlIHVzZXIgY2FuY2VsbGVkIHRoZSBuYXRpdmUgYXV0aGVudGljYXRpb24gZGlhbG9nLlxuICAgICAqXG4gICAgICogKipOb3RlKio6IE9uIGlPUywgdGhpcyBlcnJvciBjb2RlIHdpbGwgYWxzbyBiZSB0aHJvd24gaW4gdGhlIGV2ZW50IHRoYXQgdGhlIG5hdGl2ZSBhdXRoZW50aWNhdGlvbiBkaWFsb2cgZmFpbHMgYXMgYSByZXN1bHQgb2YgdG9vIG1hbnkgZmFpbGVkIGF0dGVtcHRzLlxuICAgICAqIFRoZSB1c2VyIHdpbGwgYmUgZm9yY2VkIHRvIGNhbmNlbCB0aGUgZGlhbG9nLCB0cmlnZ2VyaW5nIHRoaXMgZXJyb3IgY29kZS5cbiAgICAgKlxuICAgICAqIE9uIEFuZHJvaWQsIHRoaXMgZXJyb3IgYWxzbyB3aWxsIGJlIHRocm93biBpZiB1c2luZyB7QGxpbmsgRGV2aWNlU2VjdXJpdHlUeXBlLlN5c3RlbVBhc3Njb2RlfSBvciB7QGxpbmsgRGV2aWNlU2VjdXJpdHlUeXBlLkJvdGh9IGluIHRoZSBldmVudCBvZiB0b28gbWFueSBmYWlsZWQgYXR0ZW1wdHMuXG4gICAgICogSXRzIGN1cnJlbnRseSBub3QgcG9zc2libGUgdG8gZ2V0IHRoZSBuYXR1cmUgb2YgZmFpbHVyZXMgZnJvbSB0aGUgbmF0aXZlIGF1dGhlbnRpY2F0aW9uIGRpYWxvZywgYW5kIHNpbWlsYXIgdG8gaU9TLCB0aGUgdXNlciB3aWxsIGJlIGZvcmNlZCB0byBjYW5jZWwgdGhlIGRpYWxvZywgdHJpZ2dlcmluZyB0aGlzIGVycm9yIGNvZGUuXG4gICAgICogQGNvbnN0YW50IGA4YFxuICAgICAqL1xuICAgIFZhdWx0RXJyb3JDb2Rlc1tWYXVsdEVycm9yQ29kZXNbXCJVc2VyQ2FuY2VsZWRJbnRlcmFjdGlvblwiXSA9IDhdID0gXCJVc2VyQ2FuY2VsZWRJbnRlcmFjdGlvblwiO1xuICAgIC8qKlxuICAgICAqIFRoZSB1c2VyIHByb3ZpZGVkIG1pc21hdGNoZWQgcGFzc2NvZGVzLlxuICAgICAqIEBjb25zdGFudCBgOWBcbiAgICAgKi9cbiAgICBWYXVsdEVycm9yQ29kZXNbVmF1bHRFcnJvckNvZGVzW1wiTWlzbWF0Y2hlZFBhc3Njb2RlXCJdID0gOV0gPSBcIk1pc21hdGNoZWRQYXNzY29kZVwiO1xuICAgIC8qKlxuICAgICAqIFRoZSBvcGVyYXRpb24gcmVxdWlyZXMgcGFzc2NvZGUgdG8gYmUgc2V0dXAgYnV0IGl0IGlzbid0IHNldCB5ZXQuIENhbGwge0BsaW5rIFZhdWx0LnNldEN1c3RvbVBhc3Njb2RlfSB0byBzZXQgaXQuXG4gICAgICogQGNvbnN0YW50IGAxMGBcbiAgICAgKi9cbiAgICBWYXVsdEVycm9yQ29kZXNbVmF1bHRFcnJvckNvZGVzW1wiTWlzc2luZ1Bhc3Njb2RlXCJdID0gMTBdID0gXCJNaXNzaW5nUGFzc2NvZGVcIjtcbiAgICAvKipcbiAgICAgKiBUaGUgb3BlcmF0aW9uIGZhaWxlZCBiZWNhdXNlIHRoZSBhcHBsaWNhdGlvbiB0cmllZCB0byB1bmxvY2sgdGhlIHZhdWx0IHdpdGggcGFzc2NvZGUgYXV0aGVudGljYXRpb24sXG4gICAgICogYnV0IHRoZSB2YXVsdCBpcyBub3QgY29uZmlndXJlZCB0byBhbGxvdyBwYXNzY29kZSBhdXRoZW50aWNhdGlvbi5cbiAgICAgKiBAY29uc3RhbnQgYDExYFxuICAgICAqL1xuICAgIFZhdWx0RXJyb3JDb2Rlc1tWYXVsdEVycm9yQ29kZXNbXCJQYXNzY29kZU5vdEVuYWJsZWRcIl0gPSAxMV0gPSBcIlBhc3Njb2RlTm90RW5hYmxlZFwiO1xuICAgIC8qKlxuICAgICAqIFRoZSBrZXkgd2FzIG5vdCBmb3VuZC4gVGhpcyBjYW4gaGFwcGVuIHdoZW4gYSB1c2VyIGNoYW5nZXMgYmlvbWV0cmljcyBvciBwYXNzY29kZS5cbiAgICAgKiBAY29uc3RhbnQgYDEyYFxuICAgICAqL1xuICAgIFZhdWx0RXJyb3JDb2Rlc1tWYXVsdEVycm9yQ29kZXNbXCJLZXlOb3RGb3VuZFwiXSA9IDEyXSA9IFwiS2V5Tm90Rm91bmRcIjtcbiAgICAvKipcbiAgICAgKiBUaGUgb3BlcmF0aW9uIGZhaWxlZCBiZWNhdXNlIGJpb21ldHJpYyBhdXRoZW50aWNhdGlvbiBpcyBub3QgZW5hYmxlZC5cbiAgICAgKiBUaGlzIGNhbiBvY2N1ciB3aGVuIGJpb21ldHJpY3MgaXMgbm90IHN1cHBvcnRlZCBieSB0aGUgZGV2aWNlXG4gICAgICogb3Igd2hlbiBiaW9tZXRyaWNzIGhhcyBub3QgYmVlbiBjb25maWd1cmVkIGZvciB0aGUgZGV2aWNlIG9yIHZhdWx0LlxuICAgICAqIEBjb25zdGFudCBgMTNgXG4gICAgICovXG4gICAgVmF1bHRFcnJvckNvZGVzW1ZhdWx0RXJyb3JDb2Rlc1tcIkJpb21ldHJpY3NOb3RFbmFibGVkXCJdID0gMTNdID0gXCJCaW9tZXRyaWNzTm90RW5hYmxlZFwiO1xuICAgIC8qKlxuICAgICAqIEBpZ25vcmVcbiAgICAgKi9cbiAgICBWYXVsdEVycm9yQ29kZXNbVmF1bHRFcnJvckNvZGVzW1wiSW52YWxpZEF1dGhNb2RlXCJdID0gMTRdID0gXCJJbnZhbGlkQXV0aE1vZGVcIjtcbiAgICAvKipcbiAgICAgKiBCaW9tZXRyaWNzIGhhdmUgbm90IGJlZW4gYXV0aGVkIHlldCAoQW5kcm9pZCBvbmx5KVxuICAgICAqIEBjb25zdGFudCBgMTVgXG4gICAgICovXG4gICAgVmF1bHRFcnJvckNvZGVzW1ZhdWx0RXJyb3JDb2Rlc1tcIk1pc3NpbmdCaW9tZXRyaWNzXCJdID0gMTVdID0gXCJNaXNzaW5nQmlvbWV0cmljc1wiO1xuICAgIC8qKlxuICAgICAqIHtAbGluayBEZXZpY2VTZWN1cml0eVR5cGUuU3lzdGVtUGFzc2NvZGV9IGZvciB7QGxpbmsgRGV2aWNlU2VjdXJpdHlUeXBlfSBub3QgYXZhaWxhYmxlIG9uIHRoaXMgQW5kcm9pZCBkZXZpY2UuXG4gICAgICogQGNvbnN0YW50IGAxNmBcbiAgICAgKi9cbiAgICBWYXVsdEVycm9yQ29kZXNbVmF1bHRFcnJvckNvZGVzW1wiQW5kcm9pZFN5c3RlbVBhc3Njb2RlVW5hdmFpbGFibGVcIl0gPSAxNl0gPSBcIkFuZHJvaWRTeXN0ZW1QYXNzY29kZVVuYXZhaWxhYmxlXCI7XG4gICAgLyoqXG4gICAgICogQmlvbWV0cmljcyBoYXZlIGJlZW4gbG9ja2VkIG91dCwgdXN1YWxseSBiZWNhdXNlIG9mIHRvbyBtYW55IGZhaWxlZCBhdHRlbXB0cy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIGVycm9yIHdpbGwgbmV2ZXIgYmUgdGhyb3duIGlmIHVzaW5nIHtAbGluayBEZXZpY2VTZWN1cml0eVR5cGUuU3lzdGVtUGFzc2NvZGV9IG9yIHtAbGluayBEZXZpY2VTZWN1cml0eVR5cGUuQm90aH0uXG4gICAgICogSXRzIGN1cnJlbnRseSBub3QgcG9zc2libGUgdG8gZ2V0IHRoZSBuYXR1cmUgb2YgZmFpbHVyZXMgZnJvbSB0aGUgbmF0aXZlIGF1dGhlbnRpY2F0aW9uIGRpYWxvZywgc28gdGhlIG9ubHkgZXJyb3IgdGhhdCB3b3VsZCBiZSB0aHJvd24gaXMge0BsaW5rIFZhdWx0RXJyb3JDb2Rlcy5Vc2VyQ2FuY2VsZWRJbnRlcmFjdGlvbn0gYXMgdGhlIHVzZXJcbiAgICAgKiBpcyBmb3JjZWQgdG8gY2FuY2VsIHRoZSBwcm9tcHQuXG4gICAgICpcbiAgICAgKiBAY29uc3RhbnQgYDE3YFxuICAgICAqL1xuICAgIFZhdWx0RXJyb3JDb2Rlc1tWYXVsdEVycm9yQ29kZXNbXCJBbmRyb2lkQmlvbWV0cmljc0xvY2tlZE91dFwiXSA9IDE3XSA9IFwiQW5kcm9pZEJpb21ldHJpY3NMb2NrZWRPdXRcIjtcbiAgICAvKipcbiAgICAgKiBCaW9tZXRyaWNzIGhhdmUgYmVlbiBsb2NrZWQgb3V0LCB1c3VhbGx5IGJlY2F1c2Ugb2YgdG9vIG1hbnkgZmFpbGVkIGF0dGVtcHRzLlxuICAgICAqXG4gICAgICogQGNvbnN0YW50IGAxOGBcbiAgICAgKi9cbiAgICBWYXVsdEVycm9yQ29kZXNbVmF1bHRFcnJvckNvZGVzW1wiaU9TQmlvbWV0cmljc0xvY2tlZE91dFwiXSA9IDE4XSA9IFwiaU9TQmlvbWV0cmljc0xvY2tlZE91dFwiO1xuICAgIC8qKlxuICAgICAqIEFuIHVuZXhwZWN0ZWQgZXJyb3IgaGFzIG9jY3VycmVkIGluIHRoZSBBbmRyb2lkIGtleXN0b3JlLlxuICAgICAqIFNvbWUgYW5kcm9pZCBkZXZpY2VzIChzdWNoIGFzIHRoZSBTYW1zdW5nIFMxMCkgd2lsbCByZXR1cm4gdGhpcyBlcnJvciBjb2RlIHdoZW5cbiAgICAgKiBhIG1heGltdW0gbnVtYmVyIG9mIGZhaWxlZCBhdHRlbXB0cyBpcyByZWFjaGVkIGFuZCB0aGUgZGV2aWNlIG11c3QgYmUgcmVzdGFydGVkLlxuICAgICAqIFNlZTogW01heCBVc2VzIFBlciBCb290XShodHRwczovL3NvdXJjZS5hbmRyb2lkLmNvbS9zZWN1cml0eS9rZXlzdG9yZS90YWdzI21heF91c2VzX3Blcl9ib290KVxuICAgICAqXG4gICAgICogQGNvbnN0YW50IGAxOWBcbiAgICAgKi9cbiAgICBWYXVsdEVycm9yQ29kZXNbVmF1bHRFcnJvckNvZGVzW1wiQW5kcm9pZFVuZXhwZWN0ZWRLZXlzdG9yZUVycm9yXCJdID0gMTldID0gXCJBbmRyb2lkVW5leHBlY3RlZEtleXN0b3JlRXJyb3JcIjtcbn0pKFZhdWx0RXJyb3JDb2RlcyB8fCAoVmF1bHRFcnJvckNvZGVzID0ge30pKTtcbi8qKlxuICogVGhlIG1lYW5pbmcgb2YgdGhlIGVycm9yIGNvZGUgaW4gdGhlIHRocm93biB7QGxpbmsgRGV2aWNlRXJyb3J9LlxuICovXG52YXIgRGV2aWNlRXJyb3JDb2RlcztcbihmdW5jdGlvbiAoRGV2aWNlRXJyb3JDb2Rlcykge1xuICAgIC8qKlxuICAgICAqIEFuIHVua25vd24gZXJyb3IgaGFwcGVuZWQuXG4gICAgICogQGNvbnN0YW50IGAwYFxuICAgICAqL1xuICAgIERldmljZUVycm9yQ29kZXNbRGV2aWNlRXJyb3JDb2Rlc1tcIlVua25vd25cIl0gPSAwXSA9IFwiVW5rbm93blwiO1xuICAgIC8qKlxuICAgICAqIFRoZSBvcGVyYXRpb24gZmFpbGVkIGJlY2F1c2UgdGhlIHNvbWUgb2YgdGhlIHZhdWx0IHByb3ZpZGVkIGFyZ3VtZW50cyB3ZXJlIGludmFsaWQuXG4gICAgICogQGNvbnN0YW50IGAxYFxuICAgICAqL1xuICAgIERldmljZUVycm9yQ29kZXNbRGV2aWNlRXJyb3JDb2Rlc1tcIkludmFsaWRBcmd1bWVudHNcIl0gPSAxXSA9IFwiSW52YWxpZEFyZ3VtZW50c1wiO1xuICAgIC8qKlxuICAgICAqIFRoZSB1c2VyIGNhbmNlbGxlZCB0aGUgbmF0aXZlIGF1dGhlbnRpY2F0aW9uIGRpYWxvZy5cbiAgICAgKlxuICAgICAqICoqTm90ZSoqOiBPbiBpT1MsIHRoaXMgZXJyb3IgY29kZSB3aWxsIGFsc28gYmUgdGhyb3duIGluIHRoZSBldmVudCB0aGF0IHRoZSBuYXRpdmUgYXV0aGVudGljYXRpb24gZGlhbG9nIGZhaWxzIGFzIGEgcmVzdWx0IG9mIHRvbyBtYW55IGZhaWxlZCBhdHRlbXB0cy5cbiAgICAgKiBUaGUgdXNlciB3aWxsIGJlIGZvcmNlZCB0byBjYW5jZWwgdGhlIGRpYWxvZywgdHJpZ2dlcmluZyB0aGlzIGVycm9yIGNvZGUuXG4gICAgICpcbiAgICAgKiBAY29uc3RhbnQgYDJgXG4gICAgICovXG4gICAgRGV2aWNlRXJyb3JDb2Rlc1tEZXZpY2VFcnJvckNvZGVzW1wiVXNlckNhbmNlbGVkSW50ZXJhY3Rpb25cIl0gPSAyXSA9IFwiVXNlckNhbmNlbGVkSW50ZXJhY3Rpb25cIjtcbiAgICAvKipcbiAgICAgKiBCaW9tZXRyaWMgc2VjdXJpdHkgaXMgdW5hdmFpbGFibGUgZHVlIHRvIGEgcGFzc2NvZGUgbm90IGJlaW5nIHNldCB1cCBhdCB0aGUgc3lzdGVtIGxldmVsLlxuICAgICAqIEluIG9yZGVyIHRvIHVzZSBiaW9tZXRyaWMgaWRlbnRpZmljYXRpb24gb24gdGhlIGRldmljZSBhIHN5c3RlbSBsZXZlbCBwYXNzY29kZSBtdXN0IGJlIHNldCB1cCBieSB0aGUgdXNlci5cbiAgICAgKiBAY29uc3RhbnQgYDNgXG4gICAgICovXG4gICAgRGV2aWNlRXJyb3JDb2Rlc1tEZXZpY2VFcnJvckNvZGVzW1wiU2VjdXJpdHlOb3RBdmFpbGFibGVcIl0gPSAzXSA9IFwiU2VjdXJpdHlOb3RBdmFpbGFibGVcIjtcbiAgICAvKipcbiAgICAgKiBVc2VyIGF1dGhlbnRpY2F0aW9uIGZhaWxlZC5cbiAgICAgKiBAY29uc3RhbnQgYDRgXG4gICAgICovXG4gICAgRGV2aWNlRXJyb3JDb2Rlc1tEZXZpY2VFcnJvckNvZGVzW1wiQXV0aEZhaWxlZFwiXSA9IDRdID0gXCJBdXRoRmFpbGVkXCI7XG4gICAgLyoqXG4gICAgICogQmlvbWV0cmljcyBoYXZlIGJlZW4gbG9ja2VkIG91dCwgdXN1YWxseSBiZWNhdXNlIG9mIHRvbyBtYW55IGZhaWxlZCBhdHRlbXB0cy5cbiAgICAgKlxuICAgICAqIEBjb25zdGFudCBgNWBcbiAgICAgKi9cbiAgICBEZXZpY2VFcnJvckNvZGVzW0RldmljZUVycm9yQ29kZXNbXCJCaW9tZXRyaWNzTG9ja2VkT3V0XCJdID0gNV0gPSBcIkJpb21ldHJpY3NMb2NrZWRPdXRcIjtcbiAgICAvKipcbiAgICAgKiBUaGUgb3BlcmF0aW9uIGZhaWxlZCBiZWNhdXNlIGJpb21ldHJpYyBhdXRoZW50aWNhdGlvbiBpcyBub3QgZW5hYmxlZC5cbiAgICAgKiBUaGlzIGNhbiBvY2N1ciB3aGVuIGJpb21ldHJpY3MgaXMgbm90IHN1cHBvcnRlZCBieSB0aGUgZGV2aWNlXG4gICAgICogb3Igd2hlbiBiaW9tZXRyaWNzIGhhcyBub3QgYmVlbiBjb25maWd1cmVkIGZvciB0aGUgZGV2aWNlIG9yIHZhdWx0LlxuICAgICAqIEBjb25zdGFudCBgNmBcbiAgICAgKi9cbiAgICBEZXZpY2VFcnJvckNvZGVzW0RldmljZUVycm9yQ29kZXNbXCJCaW9tZXRyaWNzTm90RW5hYmxlZFwiXSA9IDZdID0gXCJCaW9tZXRyaWNzTm90RW5hYmxlZFwiO1xufSkoRGV2aWNlRXJyb3JDb2RlcyB8fCAoRGV2aWNlRXJyb3JDb2RlcyA9IHt9KSk7XG4vKipcbiAqIFRoZSBwb3NzaWJsZSB2YWx1ZXMgcmV0dXJuZWQgYnkge0BsaW5rIERldmljZS5nZXRBdmFpbGFibGVIYXJkd2FyZX1cbiAqL1xudmFyIFN1cHBvcnRlZEJpb21ldHJpY1R5cGU7XG4oZnVuY3Rpb24gKFN1cHBvcnRlZEJpb21ldHJpY1R5cGUpIHtcbiAgICAvKiogVGhlIGRldmljZSBzdXBwb3J0cyBmaW5nZXJwcmludCBzY2FubmluZy4gKi9cbiAgICBTdXBwb3J0ZWRCaW9tZXRyaWNUeXBlW1wiRmluZ2VycHJpbnRcIl0gPSBcImZpbmdlcnByaW50XCI7XG4gICAgLyoqIFRoZSBkZXZpY2Ugc3VwcG9ydHMgZmFjaWFsIHJlY29nbml0aW9uLiAqL1xuICAgIFN1cHBvcnRlZEJpb21ldHJpY1R5cGVbXCJGYWNlXCJdID0gXCJmYWNlXCI7XG4gICAgLyoqIFRoZSBkZXZpY2Ugc3VwcG9ydHMgaXJpcyBzY2FubmluZy4gKi9cbiAgICBTdXBwb3J0ZWRCaW9tZXRyaWNUeXBlW1wiSXJpc1wiXSA9IFwiaXJpc1wiO1xufSkoU3VwcG9ydGVkQmlvbWV0cmljVHlwZSB8fCAoU3VwcG9ydGVkQmlvbWV0cmljVHlwZSA9IHt9KSk7XG4vKipcbiAqIFBvc3NpYmxlIGRldmljZSBiaW9tZXRyaWMgc3RyZW5ndGggbGV2ZWxzIG9uIEFuZHJvaWQgKGFsd2F5cyBgc3Ryb25nYCBvbiBpT1MpLlxuICogW01vcmUgSW5mb3JtYXRpb25dKGh0dHBzOi8vc291cmNlLmFuZHJvaWQuY29tL3NlY3VyaXR5L2Jpb21ldHJpYy9tZWFzdXJlI3RpZXJlZC1hdXRoZW50aWNhdGlvbikuXG4gKi9cbnZhciBCaW9tZXRyaWNTZWN1cml0eVN0cmVuZ3RoO1xuKGZ1bmN0aW9uIChCaW9tZXRyaWNTZWN1cml0eVN0cmVuZ3RoKSB7XG4gICAgLyoqIFJlZmVycyB0byBDbGFzcyAyIC0gV2VhayBiaW9tZXRyaWMgc2VjdXJpdHkgKi9cbiAgICBCaW9tZXRyaWNTZWN1cml0eVN0cmVuZ3RoW1wiV2Vha1wiXSA9IFwid2Vha1wiO1xuICAgIC8qKiBSZWZlcnMgdG8gQ2xhc3MgMyAtIFN0cm9uZyBiaW9tZXRyaWMgc2VjdXJpdHkgKi9cbiAgICBCaW9tZXRyaWNTZWN1cml0eVN0cmVuZ3RoW1wiU3Ryb25nXCJdID0gXCJzdHJvbmdcIjtcbn0pKEJpb21ldHJpY1NlY3VyaXR5U3RyZW5ndGggfHwgKEJpb21ldHJpY1NlY3VyaXR5U3RyZW5ndGggPSB7fSkpO1xuLyoqXG4gKiBQb3NzaWJsZSBhcHAgYmlvbWV0cmljIHBlcm1pc3Npb25zIHN0YXRlcyBvbiBpT1MgKGFsd2F5cyBgZ3JhbnRlZGAgb24gQW5kcm9pZCBhbmQgb24gaU9TIHdpdGggVG91Y2hJRCkuXG4gKi9cbnZhciBCaW9tZXRyaWNQZXJtaXNzaW9uU3RhdGU7XG4oZnVuY3Rpb24gKEJpb21ldHJpY1Blcm1pc3Npb25TdGF0ZSkge1xuICAgIC8qKiBBcHAgaGFzIGJlZW4gZ3JhbnRlZCBwZXJtaXNzaW9uIHRvIHVzZSBGYWNlSUQgKi9cbiAgICBCaW9tZXRyaWNQZXJtaXNzaW9uU3RhdGVbXCJHcmFudGVkXCJdID0gXCJncmFudGVkXCI7XG4gICAgLyoqIEFwcCBoYXMgYmVlbiBkZW5pZWQgcGVybWlzc2lvbiB0byB1c2UgRmFjZUlEICovXG4gICAgQmlvbWV0cmljUGVybWlzc2lvblN0YXRlW1wiRGVuaWVkXCJdID0gXCJkZW5pZWRcIjtcbiAgICAvKiogVXNlciBoYXMgbm90IHlldCBiZWVuIHByb21wdGVkIHRvIGFsbG93IEZhY2VJRCAqL1xuICAgIEJpb21ldHJpY1Blcm1pc3Npb25TdGF0ZVtcIlByb21wdFwiXSA9IFwicHJvbXB0XCI7XG59KShCaW9tZXRyaWNQZXJtaXNzaW9uU3RhdGUgfHwgKEJpb21ldHJpY1Blcm1pc3Npb25TdGF0ZSA9IHt9KSk7XG4vKipcbiAqIFdoZW4gdHlwZSBpcyBzZXQgdG8gJ0RldmljZVNlY3VyaXR5JywgZGV0ZXJtaW5lcyB3aGljaCBhc3BlY3RzIG9mIHRoZSBkZXZpY2UgdG8gdXNlIHRvIHNlY3VyZSB0aGUgdmF1bHQuXG4gKiBOb3RlOiBBbmRyb2lkIG9ubHkgc3VwcG9ydHMgYFN5c3RlbVBhc3Njb2RlYCBvbiBBbmRyb2lkIDExIGFuZCBncmVhdGVyLlxuICogQGRlZmF1bHQgYEJvdGhgXG4gKi9cbnZhciBEZXZpY2VTZWN1cml0eVR5cGU7XG4oZnVuY3Rpb24gKERldmljZVNlY3VyaXR5VHlwZSkge1xuICAgIC8qKiBXaWxsIGFsbG93IGEgc3lzdGVtIHBhc3Njb2RlIHRvIHNlY3VyZSB0aGUgdmF1bHQuIE9uIEFuZHJvaWQsIG9ubHkgc3VwcG9ydGVkIG9uIEFuZHJvaWQgMTEgYW5kIGdyZWF0ZXIuICovXG4gICAgRGV2aWNlU2VjdXJpdHlUeXBlW1wiU3lzdGVtUGFzc2NvZGVcIl0gPSBcIlN5c3RlbVBhc3Njb2RlXCI7XG4gICAgLyoqIFdJbGwgYWxsb3cgYmlvbWV0cmljIGhhcmR3YXJlIHRvcyBzZWN1cmUgdGhlIHZhdWx0LiAqL1xuICAgIERldmljZVNlY3VyaXR5VHlwZVtcIkJpb21ldHJpY3NcIl0gPSBcIkJpb21ldHJpY3NcIjtcbiAgICAvKiogV0lsbCBhbGxvdyBib3RoIFN5c3RlbVBhc3Njb2RlIG9yIEJpb21ldHJpY3MgYXMgYW4gb3B0aW9uIHRvIHNlY3VyZSB0aGUgdmF1bHQuICovXG4gICAgRGV2aWNlU2VjdXJpdHlUeXBlW1wiQm90aFwiXSA9IFwiQm90aFwiO1xuICAgIC8qKiBObyBiaW9tZXRyaWMgc2VjdXJpdHkgb3B0aW9uIHdpbGwgYmUgdXNlZC4gKi9cbiAgICBEZXZpY2VTZWN1cml0eVR5cGVbXCJOb25lXCJdID0gXCJOb25lXCI7XG59KShEZXZpY2VTZWN1cml0eVR5cGUgfHwgKERldmljZVNlY3VyaXR5VHlwZSA9IHt9KSk7XG4vKipcbiAqIFRoZSB0eXBlIG9mIHZhdWx0XG4gKi9cbnZhciBWYXVsdFR5cGUkMTtcbihmdW5jdGlvbiAoVmF1bHRUeXBlKSB7XG4gICAgLyoqXG4gICAgICogTm8gYWRkaXRpb25hbCBzZWN1cml0eSBpcyByZXF1aXJlZCBpbiB0aGUgYXBwIGFzIGxvbmcgYXMgdGhlIGRldmljZSB3YXMgdW5sb2NrZWQgd2l0aCBhIHNlY3VyZSBtZXRob2QuXG4gICAgICogVGhpcyB2YXVsdCB0eXBlIGNhbm5vdCBiZSBsb2NrZWQvdW5sb2NrIHNvIG1ldGhvZHMgbGlrZSBgbG9ja2AsIGB1bmxvY2tgLCBgaXNMb2NrZWRgLCBhbmQgYGxvY2tBZnRlcmJhY2tncm91bmRlZGAgaGF2ZSBubyBlZmZlY3QuXG4gICAgICpcbiAgICAgKiBPbiBpT1MsIHRoaXMgdmF1bHQgaXMgc3luY2hyb25pemVkIHZpYSBpQ2xvdWQgb3IgbmV3IGRldmljZSBzZXR1cC5cbiAgICAgKiAqL1xuICAgIFZhdWx0VHlwZVtcIlNlY3VyZVN0b3JhZ2VcIl0gPSBcIlNlY3VyZVN0b3JhZ2VcIjtcbiAgICAvKipcbiAgICAgKiBVc2VzIGFkZGl0aW9uYWwgZGV2aWNlIGZlYXR1cmVzIHRvIGFkZCBhbiBhZGRpdGlvbmFsIGxheWVyIG9mIHNlY3VyaXR5IHdoaWxlIHRoZSB1c2VyIGlzIGluIHRoZSBhcHAuXG4gICAgICpcbiAgICAgKiBPbiBpT1MsIHRoaXMgdmF1bHQgaXMgTk9UIHN5bmNocm9uaXplZCB2aWEgaUNsb3VkIG9yIG5ldyBkZXZpY2Ugc2V0dXAuXG4gICAgICogKi9cbiAgICBWYXVsdFR5cGVbXCJEZXZpY2VTZWN1cml0eVwiXSA9IFwiRGV2aWNlU2VjdXJpdHlcIjtcbiAgICAvKipcbiAgICAgKiBVc2VyIHdpbGwgc2V0IGEgY3VzdG9tIHBhc3Njb2RlIHRoYXQgd2lsbCBiZSB1c2VkIHRvIGFjY2VzcyB0aGUgdmF1bHQuXG4gICAgICpcbiAgICAgKiBPbiBpT1MsIHRoaXMgdmF1bHQgaXMgTk9UIHN5bmNocm9uaXplZCB2aWEgaUNsb3VkIG9yIG5ldyBkZXZpY2Ugc2V0dXAuXG4gICAgICogKi9cbiAgICBWYXVsdFR5cGVbXCJDdXN0b21QYXNzY29kZVwiXSA9IFwiQ3VzdG9tUGFzc2NvZGVcIjtcbiAgICAvKiogRGF0YSB3aWxsIHBlcnNpc3Qgb25seSB3aGlsZSB0aGUgYXBwbGljYXRpb24gaXMgaW4gbWVtb3J5LlxuICAgICAqIFRoaXMgdmF1bHQgdHlwZSBjYW5ub3QgYmUgbG9ja2VkL3VubG9jayBzbyBtZXRob2RzIGxpa2UgYGxvY2tgLCBgdW5sb2NrYCwgYGlzTG9ja2VkYCwgYW5kIGBsb2NrQWZ0ZXJiYWNrZ3JvdW5kZWRgIGhhdmUgbm8gZWZmZWN0LlxuICAgICAqXG4gICAgICogIE9uIGlPUywgdGhpcyB2YXVsdCBpcyBOT1Qgc3luY2hyb25pemVkIHZpYSBpQ2xvdWQgb3IgbmV3IGRldmljZSBzZXR1cC5cbiAgICAgKi9cbiAgICBWYXVsdFR5cGVbXCJJbk1lbW9yeVwiXSA9IFwiSW5NZW1vcnlcIjtcbn0pKFZhdWx0VHlwZSQxIHx8IChWYXVsdFR5cGUkMSA9IHt9KSk7XG4vKipcbiAqIEZvciBBbmRyb2lkLCB3aGVuIHR5cGUgaXMge0BsaW5rIFZhdWx0VHlwZS5EZXZpY2VTZWN1cml0eX0gYW5kIGRldmljZVNlY3VyaXR5VHlwZSBpcyB7QGxpbmsgRGV2aWNlU2VjdXJpdHlUeXBlLkJvdGh9LCB0aGlzIG9wdGlvbnMgc3BlY2lmaWVzIGlmIHlvdSB3YW50IHRvXG4gKiBwcmVmZXIgYSBTdHJvbmcgQ3J5cHRvZ3JhcGhpYyBWYXVsdCBvciB0aGUgU3lzdGVtIFBhc3Njb2RlIGZhbGxiYWNrIHdoZW4gdGhleSBib3RoIGFyZW4ndCBhdmFpbGFibGUuXG4gKiBAZGVmYXVsdCBgU3Ryb25nVmF1bHRgXG4gKi9cbnZhciBBbmRyb2lkQmlvbWV0cmljQ3J5cHRvUHJlZmVyZW5jZTtcbihmdW5jdGlvbiAoQW5kcm9pZEJpb21ldHJpY0NyeXB0b1ByZWZlcmVuY2UpIHtcbiAgICAvKiogUHJlZmVyIHRvIHVzZSBhIHN0cm9uZyBjcnlwdG9ncmFwaGljIHZhdWx0LiAqL1xuICAgIEFuZHJvaWRCaW9tZXRyaWNDcnlwdG9QcmVmZXJlbmNlW1wiU3Ryb25nVmF1bHRcIl0gPSBcIlN0cm9uZ1ZhdWx0XCI7XG4gICAgLyoqIFByZWZlciB0aGUgc3lzdGVtIHBhc3Njb2RlIGZhbGxiYWNrLiAqL1xuICAgIEFuZHJvaWRCaW9tZXRyaWNDcnlwdG9QcmVmZXJlbmNlW1wiU3lzdGVtUGFzc2NvZGVcIl0gPSBcIlN5c3RlbVBhc3Njb2RlXCI7XG59KShBbmRyb2lkQmlvbWV0cmljQ3J5cHRvUHJlZmVyZW5jZSB8fCAoQW5kcm9pZEJpb21ldHJpY0NyeXB0b1ByZWZlcmVuY2UgPSB7fSkpO1xuLy8gT0xEIE1FVEhPRFNcbi8qKlxuICogVGhlIHR5cGUgb2YgYXV0aGVudGljYXRpb24gdGhlIHZhdWx0IHNob3VsZCBiZSBjb25maWd1cmVkIHRvIGFsbG93LlxuICogQGRlcHJlY2F0ZWQgRm9yIHVzZSBpbiBsZWdhY3kgVmF1bHQgTWlncmF0b3Igb25seS5cbiAqIEBpZ25vcmVcbiAqL1xudmFyIEF1dGhNb2RlO1xuKGZ1bmN0aW9uIChBdXRoTW9kZSkge1xuICAgIC8qKlxuICAgICAqIEJpb21ldHJpY3MgYXV0aGVudGljYXRpb24gc2hvdWxkIG9ubHkgYmUgYWxsb3dlZFxuICAgICAqL1xuICAgIEF1dGhNb2RlW0F1dGhNb2RlW1wiQmlvbWV0cmljT25seVwiXSA9IDBdID0gXCJCaW9tZXRyaWNPbmx5XCI7XG4gICAgLyoqXG4gICAgICogUGFzc2NvZGUgYXV0aGVudGljYXRpb24gc2hvdWxkIG9ubHkgYmUgYWxsb3dlZFxuICAgICAqL1xuICAgIEF1dGhNb2RlW0F1dGhNb2RlW1wiUGFzc2NvZGVPbmx5XCJdID0gMV0gPSBcIlBhc3Njb2RlT25seVwiO1xuICAgIC8qKlxuICAgICAqIEJvdGggYmlvbWV0cmljIGFuZCBwYXNzY29kZSBhdXRoZW50aWNhdGlvbiBzaG91bGQgYmUgYWxsb3dlZFxuICAgICAqL1xuICAgIEF1dGhNb2RlW0F1dGhNb2RlW1wiQmlvbWV0cmljQW5kUGFzc2NvZGVcIl0gPSAyXSA9IFwiQmlvbWV0cmljQW5kUGFzc2NvZGVcIjtcbiAgICAvKipcbiAgICAgKiBCb3RoIGJpb21ldHJpYyBhbmQgcGFzc2NvZGUgYXV0aGVudGljYXRpb24gc2hvdWxkIGJlIGRpc2FibGVkLlxuICAgICAqIFdpdGggdGhpcyBzZXR0aW5nIGFsbCBkYXRhIGluIHRoZSB2YXVsdCB3aWxsIGJlIGNsZWFyZWQgb24gbG9jayBvclxuICAgICAqIGlmIHRoZSBhcHAgaXMgY2xvc2VkLiBTdG9yZWQgZGF0YSBpcyBrZXB0IG9ubHkgaW4gbWVtb3J5LlxuICAgICAqL1xuICAgIEF1dGhNb2RlW0F1dGhNb2RlW1wiSW5NZW1vcnlPbmx5XCJdID0gM10gPSBcIkluTWVtb3J5T25seVwiO1xuICAgIC8qKlxuICAgICAqIFVzZSBiaW9tZXRyaWNzIGlmIGl0IGlzIGF2YWlsYWJsZSwgb3RoZXJ3aXNlIHVzZSBwYXNzY29kZVxuICAgICAqL1xuICAgIEF1dGhNb2RlW0F1dGhNb2RlW1wiQmlvbWV0cmljT3JQYXNzY29kZVwiXSA9IDRdID0gXCJCaW9tZXRyaWNPclBhc3Njb2RlXCI7XG4gICAgLyoqXG4gICAgICogQm90aCBiaW9tZXRyaWMgYW5kIHBhc3Njb2RlIGF1dGhlbnRpY2F0aW9uIHdpbGwgYmUgZGlzYWJsZWQgYnV0IGFueSBzdG9yZWQgdmFsdWVzXG4gICAgICogd2lsbCBwZXJzaXN0IGFuZCBiZSBzdG9yZWQgc2VjdXJlbHkgYXQgcmVzdCB1c2luZyB0aGUga2V5Y2hhaW4gYW5kIHdpbGwgYmUgYXZhaWxhYmxlXG4gICAgICogd2l0aG91dCBuZWVkaW5nIHRvIGF1dGhlbnRpY2F0ZSB2aWEgcGFzc2NvZGUgb3IgYmlvbWV0cmljcyB3aGVuIHRoZSBkZXZpY2UgaXMgdW5sb2NrZWQuXG4gICAgICovXG4gICAgQXV0aE1vZGVbQXV0aE1vZGVbXCJTZWN1cmVTdG9yYWdlXCJdID0gNV0gPSBcIlNlY3VyZVN0b3JhZ2VcIjtcbn0pKEF1dGhNb2RlIHx8IChBdXRoTW9kZSA9IHt9KSk7XG5cbi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cclxuXHJcblBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxyXG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXHJcblJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxyXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXHJcbklORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxyXG5MT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxyXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXHJcblBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcblxyXG5mdW5jdGlvbiBfX3Jlc3QocywgZSkge1xyXG4gICAgdmFyIHQgPSB7fTtcclxuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxyXG4gICAgICAgIHRbcF0gPSBzW3BdO1xyXG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKVxyXG4gICAgICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XHJcbiAgICAgICAgfVxyXG4gICAgcmV0dXJuIHQ7XHJcbn1cblxuY29uc3QgU1RPUkFHRV9LRVlTID0ge1xuICAgIERBVEE6ICdkYXRhJyxcbn07XG4vKipcbiAqIFRISVMgVkFVTFQgRE9FUyBOT1QgSU1QTEVNRU5UIFNFQ1VSRSBTVE9SQUdFIElOIFRIRSBCUk9XU0VSLiBJdCBvbmx5IGV4aXN0c1xuICogYXMgYSB3YXkgdG8gcnVuIGJyb3dzZXItY29tcGF0aWJsZSBjb2RlIGluIHBsYWNlIG9mIElkZW50aXR5IFZhdWx0LiBCcm93c2Vyc1xuICogZG8gbm90IGhhdmUgYSBzZWN1cmUgc3RvcmFnZSBlbGVtZW50IHNhbWUgYXMgbmF0aXZlIGRldmljZXMuIFRoaXMgY2xhc3NcbiAqIGlzIGludGVuZGVkIHRvIGJlIHVzZWQgdG8gZW5hYmxlIHJ1bm5pbmcgeW91ciBhcHBsaWNhdGlvbiBpbiB0aGUgYnJvd3NlciB3aGlsZVxuICogc2ltdWxhdGluZyB0aGUgZnVuY3Rpb25zIG9mIElkZW50aXR5IFZhdWx0IHVzaW5nIHNlc3Npb25TdG9yYWdlLlxuICpcbiAqIFJlcHJlc2VudHMgYSB2YXVsdCBpbXBsZW1lbnRhdGlvbiBmb3IgYnJvd3NlciBjb21wYXRpYmlsaXR5LlxuICovXG5jbGFzcyBCcm93c2VyVmF1bHQge1xuICAgIC8qKlxuICAgICAqIEB1c2FnZVxuICAgICAqIGBgYHR5cGVzY3JpcHRcbiAgICAgKiBjb25zdCB2YXVsdCA9IG5ldyBWYXVsdCh7XG4gICAgICogIGtleTogJ2NvbS5jb21wYW55Lm15dmF1bHRhcHAnLFxuICAgICAqICB0eXBlOiAnQ3VzdG9tUGFzc2NvZGUnLFxuICAgICAqICBkZXZpY2VTZWN1cml0eVR5cGU6ICdCb3RoJyxcbiAgICAgKiAgbG9ja0FmdGVyQmFja2dyb3VuZGVkOiAyMDAwLFxuICAgICAqIH0pO1xuICAgICAqIGBgYFxuICAgICAqIEBwYXJhbSBjb25maWdcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihjb25maWcpIHtcbiAgICAgICAgLyoqIEBpZ25vcmUgKi9cbiAgICAgICAgdGhpcy5pc1ZhdWx0TG9ja2VkID0gZmFsc2U7XG4gICAgICAgIC8qKiBAaWdub3JlICovXG4gICAgICAgIHRoaXMuaXNWYXVsdEVtcHR5ID0gdHJ1ZTtcbiAgICAgICAgY29uc29sZS53YXJuKCdUSElTIFZBVUxUIERPRVMgTk9UIElNUExFTUVOVCBTRUNVUkUgU1RPUkFHRSBJTiBUSEUgQlJPV1NFUiBBTkQgSVMgTk9UIElOVEVOREVEIEZPUiBQUk9EVUNUSU9OIFVTRS4gSXQgb25seSBleGlzdHMgYXMgYSB3YXkgdG8gcnVuIGJyb3dzZXItY29tcGF0aWJsZSBjb2RlIGluIHBsYWNlIG9mIElkZW50aXR5IFZhdWx0LiBCcm93c2VycyBkbyBub3QgaGF2ZSBhIHNlY3VyZSBzdG9yYWdlIGVsZW1lbnQgc2FtZSBhcyBuYXRpdmUgZGV2aWNlcy4gVGhpcyBjbGFzcyBpcyBpbnRlbmRlZCB0byBiZSB1c2VkIHRvIGVuYWJsZSBydW5uaW5nIHlvdXIgYXBwbGljYXRpb24gaW4gdGhlIGJyb3dzZXIgd2hpbGUgc2ltdWxhdGluZyB0aGUgZnVuY3Rpb25zIG9mIElkZW50aXR5IFZhdWx0IHVzaW5nIHNlc3Npb25TdG9yYWdlLicpO1xuICAgICAgICB0aGlzLmNvbmZpZyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgZGV2aWNlU2VjdXJpdHlUeXBlOiAnQm90aCcsXG4gICAgICAgICAgICBhbmRyb2lkQmlvbWV0cmljc1ByZWZlclN0cm9uZ1ZhdWx0T3JTeXN0ZW1QYXNzY29kZTogJ1N0cm9uZ1ZhdWx0JyxcbiAgICAgICAgICAgIHNob3VsZENsZWFyVmF1bHRBZnRlclRvb01hbnlGYWlsZWRBdHRlbXB0czogZmFsc2UsXG4gICAgICAgICAgICBjdXN0b21QYXNzY29kZUludmFsaWRVbmxvY2tBdHRlbXB0czogNSxcbiAgICAgICAgICAgIHVubG9ja1ZhdWx0T25Mb2FkOiBmYWxzZSxcbiAgICAgICAgfSwgY29uZmlnKTtcbiAgICAgICAgdGhpcy5pc1ZhdWx0TG9ja2VkID0gY29uZmlnLnVubG9ja1ZhdWx0T25Mb2FkID8gZmFsc2UgOiB0cnVlO1xuICAgIH1cbiAgICAvKiogQGRlcHJlY2F0ZWQgRGVwcmVjYXRlZCBpbiBmYXZvciBvZiB1c2luZyB0aGUgaXNFbXB0eSBtZXRob2QuICovXG4gICAgLyoqIFNlZSB7QGxpbmsgVmF1bHQuZG9lc1ZhdWx0RXhpc3R9ICovXG4gICAgZG9lc1ZhdWx0RXhpc3QoKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLmdldERhdGFPYmooKTtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSghIWRhdGEpO1xuICAgIH1cbiAgICAvKiogU2VlIHtAbGluayBWYXVsdC5jbGVhcn0gKi9cbiAgICBjbGVhcigpIHtcbiAgICAgICAgdGhpcy51bmxvY2tJZkxvY2tlZCgpO1xuICAgICAgICBzZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKHRoaXMuZ2V0S2V5KFNUT1JBR0VfS0VZUy5EQVRBKSk7XG4gICAgICAgIHRoaXMuaXNWYXVsdEVtcHR5ID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cbiAgICAvKiogU2VlIHtAbGluayBWYXVsdC5leHBvcnRWYXVsdH0gKi9cbiAgICBleHBvcnRWYXVsdCgpIHtcbiAgICAgICAgdGhpcy51bmxvY2tJZkxvY2tlZCgpO1xuICAgICAgICBjb25zdCBkYXRhID0gdGhpcy5nZXREYXRhT2JqKCk7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoZGF0YSAhPT0gbnVsbCAmJiBkYXRhICE9PSB2b2lkIDAgPyBkYXRhIDoge30pO1xuICAgIH1cbiAgICAvKiogU2VlIHtAbGluayBWYXVsdC5pbXBvcnRWYXVsdH0gKi9cbiAgICBpbXBvcnRWYXVsdChkYXRhKSB7XG4gICAgICAgIHRoaXMuc2V0RGF0YU9iaihkYXRhKTtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cbiAgICAvKiogU2VlIHtAbGluayBWYXVsdC5pc0xvY2tlZH0gKi9cbiAgICBpc0xvY2tlZCgpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmlzVmF1bHRMb2NrZWQpO1xuICAgIH1cbiAgICAvKiogU2VlIHtAbGluayBWYXVsdC5pc0VtcHR5fSAqL1xuICAgIGlzRW1wdHkoKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5pc1ZhdWx0RW1wdHkpO1xuICAgIH1cbiAgICAvKiogU2VlIHtAbGluayBWYXVsdC5nZXRLZXlzfSAqL1xuICAgIGdldEtleXMoKSB7XG4gICAgICAgIHRoaXMudW5sb2NrSWZMb2NrZWQoKTtcbiAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMuZ2V0RGF0YU9iaigpO1xuICAgICAgICBpZiAoIWRhdGEpXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKFtdKTtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShPYmplY3Qua2V5cyhkYXRhKSk7XG4gICAgfVxuICAgIC8qKiBTZWUge0BsaW5rIFZhdWx0LmdldFZhbHVlfSAqL1xuICAgIGdldFZhbHVlKGtleSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHRoaXMudW5sb2NrSWZMb2NrZWQoKTtcbiAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMuZ2V0RGF0YU9iaigpO1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKChfYSA9IGRhdGEgPT09IG51bGwgfHwgZGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGF0YVtrZXldKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBudWxsKTtcbiAgICB9XG4gICAgLyoqIFNlZSB7QGxpbmsgVmF1bHQubG9ja30gKi9cbiAgICBsb2NrKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIChfYSA9IHRoaXMubG9ja0NhbGxiYWNrKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbCh0aGlzLCB7IHRpbWVvdXQ6IGZhbHNlIH0pO1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuICAgIC8qKiBTZWUge0BsaW5rIFZhdWx0LnJlbW92ZVZhbHVlfSAqL1xuICAgIHJlbW92ZVZhbHVlKGtleSkge1xuICAgICAgICB0aGlzLnVubG9ja0lmTG9ja2VkKCk7XG4gICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLmdldERhdGFPYmooKTtcbiAgICAgICAgaWYgKCFkYXRhKVxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICBjb25zdCBfYSA9IGRhdGEsIF9iID0ga2V5OyBfYVtfYl07IGNvbnN0IGRhdGFBZnRlclJlbW92YWwgPSBfX3Jlc3QoX2EsIFt0eXBlb2YgX2IgPT09IFwic3ltYm9sXCIgPyBfYiA6IF9iICsgXCJcIl0pO1xuICAgICAgICB0aGlzLnNldERhdGFPYmooZGF0YUFmdGVyUmVtb3ZhbCk7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG4gICAgLyoqIFNlZSB7QGxpbmsgVmF1bHQuc2V0Q3VzdG9tUGFzc2NvZGV9ICovXG4gICAgc2V0Q3VzdG9tUGFzc2NvZGUocGFzc2NvZGUpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cbiAgICAvKiogU2VlIHtAbGluayBWYXVsdC5zZXRWYWx1ZX0gKi9cbiAgICBzZXRWYWx1ZShrZXksIHZhbHVlKSB7XG4gICAgICAgIHRoaXMudW5sb2NrSWZMb2NrZWQoKTtcbiAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMuZ2V0RGF0YU9iaigpO1xuICAgICAgICBpZiAoIWRhdGEpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0RGF0YU9iaih7IFtrZXldOiB2YWx1ZSB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc2V0RGF0YU9iaihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGRhdGEpLCB7IFtrZXldOiB2YWx1ZSB9KSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cbiAgICAvKiogU2VlIHtAbGluayBWYXVsdC5vbkNvbmZpZ0NoYW5nZWR9ICovXG4gICAgb25Db25maWdDaGFuZ2VkKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuY29uZmlnQ2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICB9XG4gICAgLyoqIFNlZSB7QGxpbmsgVmF1bHQub25FcnJvcn0gKi9cbiAgICBvbkVycm9yKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuZXJyb3JDYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgIH1cbiAgICAvKiogU2VlIHtAbGluayBWYXVsdC5vbkxvY2t9ICovXG4gICAgb25Mb2NrKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMubG9ja0NhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgfVxuICAgIG9uUGFzc2NvZGVSZXF1ZXN0ZWQoY2FsbGJhY2spIHtcbiAgICAgICAgLy8gTm8gcGFzc2NvZGUgc3VwcG9ydFxuICAgIH1cbiAgICAvKiogU2VlIHtAbGluayBWYXVsdC5vblVubG9ja30gKi9cbiAgICBvblVubG9jayhjYWxsYmFjaykge1xuICAgICAgICB0aGlzLnVubG9ja0NhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgfVxuICAgIC8qKiBTZWUge0BsaW5rIFZhdWx0LnVubG9ja30gKi9cbiAgICB1bmxvY2soKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgKF9hID0gdGhpcy51bmxvY2tDYWxsYmFjaykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwodGhpcyk7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG4gICAgLyoqIFNlZSB7QGxpbmsgVmF1bHQudXBkYXRlQ29uZmlnfSAqL1xuICAgIHVwZGF0ZUNvbmZpZyhjb25maWcpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgICAgICAgKF9hID0gdGhpcy5jb25maWdDYWxsYmFjaykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwodGhpcywgY29uZmlnKTtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cbiAgICAvKiogQGlnbm9yZSAqL1xuICAgIHJlcXVlc3RCaW9tZXRyaWNQcm9tcHQoKSB7XG4gICAgICAgIHRoaXMudW5sb2NrSWZMb2NrZWQoKTtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0cnVlKTtcbiAgICB9XG4gICAgLyoqIEBpZ25vcmUgKi9cbiAgICB1bmxvY2tJZkxvY2tlZCgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNWYXVsdExvY2tlZCkge1xuICAgICAgICAgICAgdGhpcy51bmxvY2soKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKiogQGlnbm9yZSAqL1xuICAgIGdldERhdGFPYmooKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKHRoaXMuZ2V0S2V5KFNUT1JBR0VfS0VZUy5EQVRBKSk7XG4gICAgICAgIGlmICghdmFsdWUpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGFPYmogPSBKU09OLnBhcnNlKHZhbHVlKTtcbiAgICAgICAgICAgIHRoaXMuaXNWYXVsdEVtcHR5ID0gT2JqZWN0LmtleXMoZGF0YU9iaikubGVuZ3RoIDw9IDA7XG4gICAgICAgICAgICByZXR1cm4gZGF0YU9iajtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgKF9hID0gdGhpcy5lcnJvckNhbGxiYWNrKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbCh0aGlzLCB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogJ1VuYWJsZSB0byBwYXJzZSBkYXRhIHN0b3JlJyxcbiAgICAgICAgICAgICAgICBjb2RlOiBWYXVsdEVycm9yQ29kZXMuVW5rbm93bixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqIEBpZ25vcmUgKi9cbiAgICBzZXREYXRhT2JqKGRhdGEpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgZGF0YVN0ciA9IEpTT04uc3RyaW5naWZ5KGRhdGEpO1xuICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSh0aGlzLmdldEtleShTVE9SQUdFX0tFWVMuREFUQSksIGRhdGFTdHIpO1xuICAgICAgICAgICAgdGhpcy5pc1ZhdWx0RW1wdHkgPSBPYmplY3Qua2V5cyhkYXRhKS5sZW5ndGggPD0gMDtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgKF9hID0gdGhpcy5lcnJvckNhbGxiYWNrKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbCh0aGlzLCB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogJ1VuYWJsZSB0byBzZXJpYWxpemUgZGF0YScsXG4gICAgICAgICAgICAgICAgY29kZTogVmF1bHRFcnJvckNvZGVzLlVua25vd24sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKiogQGlnbm9yZSAqL1xuICAgIGdldEtleShrZXkpIHtcbiAgICAgICAgcmV0dXJuIGBJVi0ke3RoaXMuY29uZmlnLmtleX0tJHtrZXl9YDtcbiAgICB9XG59XG5cbi8qKlxuICogUmVwcmVzZW50cyBhIHZhdWx0IGZvciBzZWN1cmUgdmFsdWUgc3RvcmFnZVxuICovXG5jbGFzcyBWYXVsdCB7XG4gICAgLyoqXG4gICAgICogQHVzYWdlXG4gICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAqIGNvbnN0IHZhdWx0ID0gbmV3IFZhdWx0KHtcbiAgICAgKiAga2V5OiAnY29tLmNvbXBhbnkubXl2YXVsdGFwcCcsXG4gICAgICogIHR5cGU6ICdDdXN0b21QYXNzY29kZScsXG4gICAgICogIGRldmljZVNlY3VyaXR5VHlwZTogRGV2aWNlU2VjdXJpdHlUeXBlLk5vbmUsXG4gICAgICogIGxvY2tBZnRlckJhY2tncm91bmRlZDogMjAwMCxcbiAgICAgKiB9KTtcbiAgICAgKiBgYGBcbiAgICAgKiBAcGFyYW0gY29uZmlnXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgICAgIC8qKiBAaWdub3JlICovXG4gICAgICAgIHRoaXMuZGVmYXVsdENvbmZpZyA9IHtcbiAgICAgICAgICAgIGRldmljZVNlY3VyaXR5VHlwZTogRGV2aWNlU2VjdXJpdHlUeXBlLk5vbmUsXG4gICAgICAgICAgICBhbmRyb2lkQmlvbWV0cmljc1ByZWZlclN0cm9uZ1ZhdWx0T3JTeXN0ZW1QYXNzY29kZTogQW5kcm9pZEJpb21ldHJpY0NyeXB0b1ByZWZlcmVuY2UuU3Ryb25nVmF1bHQsXG4gICAgICAgICAgICBzaG91bGRDbGVhclZhdWx0QWZ0ZXJUb29NYW55RmFpbGVkQXR0ZW1wdHM6IGZhbHNlLFxuICAgICAgICAgICAgY3VzdG9tUGFzc2NvZGVJbnZhbGlkVW5sb2NrQXR0ZW1wdHM6IDUsXG4gICAgICAgICAgICB1bmxvY2tWYXVsdE9uTG9hZDogZmFsc2UsXG4gICAgICAgIH07XG4gICAgICAgIC8vIHNldCBkZWZhdWx0c1xuICAgICAgICB0aGlzLmNvbmZpZyA9IE9iamVjdC5hc3NpZ24odGhpcy5kZWZhdWx0Q29uZmlnLCBjb25maWcpO1xuICAgICAgICAvLyBzZXR0aW5nIHNhbmUgZGVmYXVsdHNcbiAgICAgICAgaWYgKGNvbmZpZy5kZXZpY2VTZWN1cml0eVR5cGUgPT09IERldmljZVNlY3VyaXR5VHlwZS5Ob25lICYmIGNvbmZpZy50eXBlID09PSBWYXVsdFR5cGUkMS5EZXZpY2VTZWN1cml0eSkge1xuICAgICAgICAgICAgY29uZmlnLmRldmljZVNlY3VyaXR5VHlwZSA9IERldmljZVNlY3VyaXR5VHlwZS5Cb3RoO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVzdW1lID0gdGhpcy5yZXN1bWUuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5oYW5kbGVFcnJvciA9IHRoaXMuaGFuZGxlRXJyb3IuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5zZXR1cCgpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5nZXRQZXJzaXN0ZWRWYXVsdENvbmZpZygpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVzb2x2ZXMgdHJ1ZSBpZiBhIHZhdWx0IHdpdGggdGhlIHNhbWUga2V5IGFscmVhZHkgZXhpc3RzLCBhbmQgZmFsc2UgaWYgbm90LlxuICAgICAqIFRoZSB2YXVsdCBkb2VzIG5vdCBuZWVkIHRvIGJlIHVubG9ja2VkIHRvIGNoZWNrLlxuICAgICAqXG4gICAgICogX19Ob3RlOl9fXG4gICAgICogIC0gVXNpbmcge0BsaW5rIFZhdWx0LnJlbW92ZVZhbHVlIHwgcmVtb3ZlVmFsdWUoKX0gdG8gcmVtb3ZlIGFsbCBvZiB5b3VyIHZhdWx0IGRhdGEgd2lsbCBub3QgY2F1c2UgdGhpcyBmdW5jdGlvbiB0byByZXNvbHZlIGZhbHNlLCBob3dldmVyIHtAbGluayBWYXVsdC5jbGVhciB8IGNsZWFyKCl9IHdpbGwuXG4gICAgICogIC0gQSB2YXVsdCBvbmx5IGV4aXN0cyBvbmNlIGl0IGhhcyBiZWVuIGludGVyYWN0ZWQgd2l0aCBhdCBsZWFzdCBvbmNlIHZpYSBhbnkgb2YgdGhlIGZvbGxvd2luZyBpbnN0YW5jZSBtZXRob2RzLlxuICAgICAqICAgIC0ge0BsaW5rIFZhdWx0LnNldFZhbHVlIHwgc2V0VmFsdWUoKX1cbiAgICAgKiAgICAtIHtAbGluayBWYXVsdC5yZW1vdmVWYWx1ZSB8IHJlbW92ZVZhbHVlKCl9XG4gICAgICogICAgLSB7QGxpbmsgVmF1bHQuaW1wb3J0VmF1bHQgfCBpbXBvcnRWYXVsdCgpfVxuICAgICAqICAgIC0ge0BsaW5rIFZhdWx0LmV4cG9ydFZhdWx0IHwgZXhwb3J0VmF1bHQoKX1cbiAgICAgKiAgICAtIHtAbGluayBWYXVsdC51bmxvY2sgfCB1bmxvY2soKX1cbiAgICAgKiAgICAtIHtAbGluayBWYXVsdC51cGRhdGVDb25maWcgfCB1cGRhdGVDb25maWcoKX1cbiAgICAgKlxuICAgICAqIEB1c2FnZVxuICAgICAqIGBgYHR5cGVzY3JpcHRcbiAgICAgKiBjb25zdCB2YXVsdCA9IG5ldyBWYXVsdChleGlzdGluZ1ZhdWx0Q29uZmlnKTtcbiAgICAgKiBjb25zdCB2YXVsdEV4aXN0cyA9IGF3YWl0IHZhdWx0LmRvZXNWYXVsdEV4aXN0cygpXG4gICAgICogaWYgKCF2YXVsdEV4aXN0cykge1xuICAgICAqICAvLyB0aGUgdmF1bHQgZG9lcyBub3QgZXhpc3QuLi5cbiAgICAgKiB9XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAZGVwcmVjYXRlZCBEZXByZWNhdGVkIGluIGZhdm9yIG9mIHVzaW5nIHRoZSB7QGxpbmsgVmF1bHQuaXNFbXB0eSB8IGlzRW1wdHkoKX0gbWV0aG9kLlxuICAgICAqL1xuICAgIGRvZXNWYXVsdEV4aXN0KCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgY29yZG92YS5leGVjKChkYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShKU09OLnBhcnNlKGRhdGEpKTtcbiAgICAgICAgICAgIH0sIChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlRXJyb3IocmVzb2x2ZSwgcmVqZWN0LCBlcnJvciwgKCkgPT4gdGhpcy5kb2VzVmF1bHRFeGlzdCgpKTtcbiAgICAgICAgICAgIH0sICdWYXVsdFBsdWdpbicsICdkb2VzVmF1bHRFeGlzdCcsIFt0aGlzLmNvbmZpZ10pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xlYXJzIG91dCB0aGUgY3VycmVudCB2YXVsdCBhbmQgcmVtb3ZlcyBpdCBmcm9tIHRoZSBzeXN0ZW0uXG4gICAgICogTm90ZTogVGhlIHZhdWx0IGRvZXMgbm90IG5lZWQgdG8gYmUgdW5sb2NrZWQgaW4gb3JkZXIgdG8gY2xlYXIgaXQuIE5vIGNyZWRlbnRpYWxzIGFyZSBjaGVja2VkXG4gICAgICogd2hlbiBjbGVhcmluZyB0aGUgdmF1bHQuXG4gICAgICpcbiAgICAgKiBAdXNhZ2VcbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogY29uc3QgdmF1bHQgPSBuZXcgVmF1bHQoZXhpc3RpbmdWYXVsdENvbmZpZyk7XG4gICAgICogYXdhaXQgdmF1bHQuY2xlYXIoKTtcbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBjbGVhcigpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGNvcmRvdmEuZXhlYygoZGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgIH0sIChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlRXJyb3IocmVzb2x2ZSwgcmVqZWN0LCBlcnJvciwgKCkgPT4gdGhpcy5jbGVhcigpKTtcbiAgICAgICAgICAgIH0sICdWYXVsdFBsdWdpbicsICdjbGVhcicsIFt0aGlzLmNvbmZpZ10pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRXhwb3J0cyB0aGUgZGF0YSBvZiB0aGUgY3VycmVudCB2YXVsdCBpbiBpdHMgZW50aXJldHkuXG4gICAgICogVGhlIGRhdGEgaXMgYSBtYXAgd2l0aCBrZXlzIHRoYXQgYXJlIHN0cmluZ3MgYW5kIHZhbHVlcyB0aGF0IGFyZSBKU09OLlxuICAgICAqIENhbGxpbmcgYGV4cG9ydFZhdWx0YCB3aWxsIGF0dGVtcHQgdG8gdW5sb2NrIHRoZSB2YXVsdCBpZiBpdCBpcyBjdXJyZW50bHkgbG9ja2VkLlxuICAgICAqXG4gICAgICogQHVzYWdlXG4gICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAqIGNvbnN0IHZhdWx0ID0gbmV3IFZhdWx0KGV4aXN0aW5nVmF1bHRDb25maWcpO1xuICAgICAqIGNvbnN0IGRhdGEgPSBhd2FpdCB2YXVsdC5leHBvcnRWYXVsdCgpO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQHJldHVybiBUaGUgcmVzb2x2ZWQgb2JqZWN0IGlzIGEgbWFwIHdpdGggc3RyaW5nIGtleXMgYW5kIHN0cmluZyB2YWx1ZXMuXG4gICAgICpcbiAgICAgKi9cbiAgICBleHBvcnRWYXVsdCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGNvcmRvdmEuZXhlYygoZGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgIHJlc29sdmUoSlNPTi5wYXJzZShkYXRhKSk7XG4gICAgICAgICAgICB9LCAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZUVycm9yKHJlc29sdmUsIHJlamVjdCwgZXJyb3IsICgpID0+IHRoaXMuZXhwb3J0VmF1bHQoKSk7XG4gICAgICAgICAgICB9LCAnVmF1bHRQbHVnaW4nLCAnZXhwb3J0VmF1bHQnLCBbdGhpcy5jb25maWddKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEltcG9ydHMgZGF0YSBpbnRvIHRoZSB2YXVsdCwgcmVwbGFjaW5nIHRoZSBjdXJyZW50IGNvbnRlbnRzIG9mIHRoZSB2YXVsdC5cbiAgICAgKiBUaGUgZGF0YSBpcyBhIG1hcCB3aXRoIGtleXMgdGhhdCBhcmUgc3RyaW5ncyBhbmQgdmFsdWVzIHRoYXQgYXJlIEpTT04uXG4gICAgICogQ2FsbGluZyBgaW1wb3J0VmF1bHRgIHdpbGwgYXR0ZW1wdCB0byB1bmxvY2sgdGhlIHZhdWx0IGlmIGl0IGlzIGN1cnJlbnRseSBsb2NrZWQuXG4gICAgICpcbiAgICAgKiBAdXNhZ2VcbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogY29uc3QgZGF0YUZyb21FbHNld2hlcmUgPSBhd2FpdCBnZXRVc2VyRGF0YSgpO1xuICAgICAqIGNvbnN0IG5ld1ZhdWx0ID0gbmV3IFZhdWx0KHZhdWx0Q29uZmlnKTtcbiAgICAgKiBhd2FpdCBuZXdWYXVsdC5pbXBvcnRWYXVsdChkYXRhRnJvbUVsc2V3aGVyZSk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZGF0YSBUaGUgZW50aXJlIGRhdGEgb2JqZWN0IHRvIGJlIGltcG9ydGVkLiBUaGUgc2hhcGUgb2YgZGF0YSBtdXN0IGJlIHtba2V5OiBzdHJpbmddOiBzdHJpbmd9LlxuICAgICAqXG4gICAgICovXG4gICAgaW1wb3J0VmF1bHQoZGF0YSkge1xuICAgICAgICBjb25zdCBqc29uRGF0YSA9IEpTT04uc3RyaW5naWZ5KGRhdGEpO1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgY29yZG92YS5leGVjKHJlc29sdmUsIChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlRXJyb3IocmVzb2x2ZSwgcmVqZWN0LCBlcnJvciwgKCkgPT4gdGhpcy5pbXBvcnRWYXVsdChkYXRhKSk7XG4gICAgICAgICAgICB9LCAnVmF1bHRQbHVnaW4nLCAnaW1wb3J0VmF1bHQnLCBbdGhpcy5jb25maWcsIGpzb25EYXRhXSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgdGhlIHZhdWx0IGlzIGN1cnJlbnRseSBpbiBhIGxvY2tlZCBzdGF0ZSwgd2hpY2ggc2lnbmlmaWVzIHRoYXQgdGhlIGNvbnRlbnRzXG4gICAgICogb2YgdGhlIHNlY3VyZSB2YXVsdCBhcmUgbm90IGN1cnJlbnRseSBhY2Nlc3NpYmxlLiBgaXNMb2NrZWRgIGNhbiBhbHNvIHJldHVybiB0cnVlIGlmIHRoZVxuICAgICAqIHZhdWx0IGRvZXMgbm90IGV4aXN0LlxuICAgICAqXG4gICAgICogSWYgYSB2YXVsdCBoYXMgYSBgVmF1bHRUeXBlYCBvZiBgU2VjdXJlU3RvcmFnZWAgb3IgYEluTWVtb3J5YCB0aGlzIG1ldGhvZCB3aWxsIHJldHVybiBgZmFsc2VgIGFzIHRoZXNlIHZhdWx0IHR5cGVzIGNhbm5vdCBiZSBsb2NrZWQuXG4gICAgICpcbiAgICAgKiBAdXNhZ2VcbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogY29uc3QgdmF1bHQgPSBuZXcgVmF1bHQoZXhpc3RpbmdWYXVsdENvbmZpZyk7XG4gICAgICogY29uc3QgbG9ja2VkID0gYXdhaXQgdmF1bHQuaXNMb2NrZWQoKTtcbiAgICAgKiBpZiAobG9ja2VkKSB7XG4gICAgICogIC8vIHZhdWx0IGlzIGxvY2tlZCAob3IgZG9lcyBub3QgZXhpc3QpO1xuICAgICAqIH1cbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBpc0xvY2tlZCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGNvcmRvdmEuZXhlYygoZGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgIHJlc29sdmUoSlNPTi5wYXJzZShkYXRhKSk7XG4gICAgICAgICAgICB9LCAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZUVycm9yKHJlc29sdmUsIHJlamVjdCwgZXJyb3IpO1xuICAgICAgICAgICAgfSwgJ1ZhdWx0UGx1Z2luJywgJ2lzTG9ja2VkJywgW3RoaXMuY29uZmlnXSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFuIGFycmF5IG9mIGtleXMgdGhhdCBhcmUgY3VycmVudGx5IGluIHRoZSB2YXVsdC5cbiAgICAgKiBDYWxsaW5nIGBnZXRLZXlzYCB3aWxsIGF0dGVtcHQgdG8gdW5sb2NrIHRoZSB2YXVsdCBpZiBpdCBpcyBjdXJyZW50bHkgbG9ja2VkLlxuICAgICAqXG4gICAgICogQHVzYWdlXG4gICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAqIGNvbnN0IHZhdWx0ID0gbmV3IFZhdWx0KGV4aXN0aW5nVmF1bHRDb25maWcpO1xuICAgICAqIGNvbnN0IGFsbEtleXMgPSBhd2FpdCB2YXVsdC5nZXRLZXlzKCk7XG4gICAgICogYWxsS2V5cy5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgKiAgLy8gZG8gc29tZXRoaW5nIHdpdGggdGhlIGtleVxuICAgICAqIH0pO1xuICAgICAqIGBgYFxuICAgICAqL1xuICAgIGdldEtleXMoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBjb3Jkb3ZhLmV4ZWMoKGRhdGEpID0+IHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKEpTT04ucGFyc2UoZGF0YSkpO1xuICAgICAgICAgICAgfSwgKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVFcnJvcihyZXNvbHZlLCByZWplY3QsIGVycm9yLCAoKSA9PiB0aGlzLmdldEtleXMoKSk7XG4gICAgICAgICAgICB9LCAnVmF1bHRQbHVnaW4nLCAnZ2V0S2V5cycsIFt0aGlzLmNvbmZpZ10pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgdmFsdWUgZm9yIGEgZ2l2ZW4ga2V5LiBSZXR1cm5zIG51bGwgaWYgdGhlIGtleSBkb2VzIG5vdCBleGlzdC5cbiAgICAgKiBDYWxsaW5nIGBnZXRWYWx1ZWAgd2lsbCBhdHRlbXB0IHRvIHVubG9jayB0aGUgdmF1bHQgaWYgaXQgaXMgY3VycmVudGx5IGxvY2tlZC5cbiAgICAgKlxuICAgICAqIEB1c2FnZVxuICAgICAqIGBgYHR5cGVzY3JpcHRcbiAgICAgKiBjb25zdCB2YXVsdCA9IG5ldyBWYXVsdChleGlzdGluZ1ZhdWx0Q29uZmlnKTtcbiAgICAgKiBjb25zdCB1c2VyRmlyc3ROYW1lID0gYXdhaXQgdmF1bHQuZ2V0VmFsdWU8c3RyaW5nPihcImZpcnN0bmFtZVwiKTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBwYXJhbSBrZXkgVGhlIGtleSB0byBsb29rIHVwIHRoZSB2YWx1ZSBmb3JcbiAgICAgKlxuICAgICAqL1xuICAgIGdldFZhbHVlKGtleSkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgY29yZG92YS5leGVjKChkYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGFuZHJvaWQgcmV0dXJucyBudWxsIGFzIGFuIGVtcHR5IHN0cmluZywgc28gbWFudWFsbHkgY29udmVydCBpdCBoZXJlXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUobnVsbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShKU09OLnBhcnNlKGRhdGEpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVFcnJvcihyZXNvbHZlLCByZWplY3QsIGVycm9yLCAoKSA9PiB0aGlzLmdldFZhbHVlKGtleSkpO1xuICAgICAgICAgICAgfSwgJ1ZhdWx0UGx1Z2luJywgJ2dldFZhbHVlJywgW3RoaXMuY29uZmlnLCBrZXldKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIExvY2tzIHRoZSB2YXVsdCBpZiBpdCBpcyBjdXJyZW50bHkgdW5sb2NrZWQuXG4gICAgICogTG9ja2luZyB0aGUgdmF1bHQgd2l0aCByZW1vdmUgYWxsIHNlY3VyZSBkYXRhIGZyb20gbWVtb3J5IGluc2lkZSBvZiBJZGVudGl0eSBWYXVsdCwgYnV0IG5vdCB5b3VyIGFwcGxpY2F0aW9uLlxuICAgICAqXG4gICAgICogRm9yIFZhdWx0cyBvZiB0eXBlIGBTZWN1cmVTdG9yYWdlYCBvciBgSW5NZW1vcnlgIHRoaXMgbWV0aG9kIHdpbGwgaGF2ZSBubyBlZmZlY3Qgb24gdGhlIHZhdWx0LlxuICAgICAqXG4gICAgICogQHVzYWdlXG4gICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAqIGNvbnN0IHZhdWx0ID0gbmV3IFZhdWx0KGV4aXN0aW5nVmF1bHRDb25maWcpO1xuICAgICAqIGF3YWl0IHZhdWx0LmxvY2soKTtcbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBsb2NrKCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgY29yZG92YS5leGVjKChkYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgfSwgKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVFcnJvcihyZXNvbHZlLCByZWplY3QsIGVycm9yKTtcbiAgICAgICAgICAgIH0sICdWYXVsdFBsdWdpbicsICdsb2NrJywgW3RoaXMuY29uZmlnXSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGEgdmFsdWUgZnJvbSB0aGUgdmF1bHQuXG4gICAgICogQ2FsbGluZyBgcmVtb3ZlVmFsdWVgIHdpbGwgYXR0ZW1wdCB0byB1bmxvY2sgdGhlIHZhdWx0IGlmIGl0IGlzIGN1cnJlbnRseSBsb2NrZWQuXG4gICAgICpcbiAgICAgKiBAdXNhZ2VcbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogY29uc3QgdmF1bHQgPSBuZXcgVmF1bHQoZXhpc3RpbmdWYXVsdENvbmZpZyk7XG4gICAgICogYXdhaXQgdmF1bHQucmVtb3ZlVmFsdWUoXCJhZGRyZXNzXCIpO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQHBhcmFtIGtleSBUaGUga2V5IHRvIHJlbW92ZVxuICAgICAqXG4gICAgICovXG4gICAgcmVtb3ZlVmFsdWUoa2V5KSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBjb3Jkb3ZhLmV4ZWMocmVzb2x2ZSwgKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVFcnJvcihyZXNvbHZlLCByZWplY3QsIGVycm9yLCAoKSA9PiB0aGlzLnJlbW92ZVZhbHVlKGtleSkpO1xuICAgICAgICAgICAgfSwgJ1ZhdWx0UGx1Z2luJywgJ3JlbW92ZVZhbHVlJywgW3RoaXMuY29uZmlnLCBrZXldKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdoZW4gdGhlIHZhdWx0IHR5cGUgaXMgc2V0IHRvICdDdXN0b21QYXNzY29kZScsIHRoaXMgbWV0aG9kIHNldHMgdGhlIHBhc3Njb2RlIHJlcXVpcmVkIHRvXG4gICAgICogc2VjdXJlIHRoZSB2YXVsdC4gSWYgdGhlIHZhdWx0IGlzIHVubG9ja2VkIHRoaXMgbWV0aG9kIGNhbiBiZSB1c2VkIHRvIGNoYW5nZSB0aGUgcGFzc2NvZGUuXG4gICAgICpcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyB0eXBpY2FsbHkgY2FsbGVkIGluIHRoZSBgb25QYXNzY29kZVJlcXVlc3RlZGAgY2FsbGJhY2suXG4gICAgICpcbiAgICAgKiBAdXNhZ2VcbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogY29uc3QgdmF1bHQgPSBuZXcgVmF1bHQoZXhpc3RpbmdWYXVsdENvbmZpZyk7XG4gICAgICogY29uc3QgY29kZSA9IHdpbmRvdy5wcm9tcHQoXCJFbnRlciB5b3VyIHBhc3Njb2RlLlwiKTtcbiAgICAgKiBpZiAoY29kZSkge1xuICAgICAqICBhd2FpdCB2YXVsdC5zZXRDdXN0b21QYXNzY29kZShjb2RlKTtcbiAgICAgKiB9XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGFzc2NvZGUgVGhlIHVzZXIgc3VwcGxpZWQgcGFzc2NvZGUgdG8gc2VjdXJlIHRoZSB2YXVsdCB3aXRoLlxuICAgICAqXG4gICAgICovXG4gICAgc2V0Q3VzdG9tUGFzc2NvZGUocGFzc2NvZGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGNvcmRvdmEuZXhlYyhyZXNvbHZlLCAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZUVycm9yKHJlc29sdmUsIHJlamVjdCwgZXJyb3IpO1xuICAgICAgICAgICAgfSwgJ1ZhdWx0UGx1Z2luJywgJ3NldEN1c3RvbVBhc3Njb2RlJywgW3RoaXMuY29uZmlnLCBwYXNzY29kZV0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgdmFsdWUgb2YgYW4gaXRlbSBpbiB0aGUgdmF1bHQuXG4gICAgICogQ2FsbGluZyBgc2V0VmFsdWVgIHdpbGwgYXR0ZW1wdCB0byB1bmxvY2sgdGhlIHZhdWx0IGlmIGl0IGlzIGN1cnJlbnRseSBsb2NrZWQuXG4gICAgICpcbiAgICAgKiBAdXNhZ2VcbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogY29uc3QgdmF1bHQgPSBuZXcgVmF1bHQoZXhpc3RpbmdWYXVsdENvbmZpZyk7XG4gICAgICogYXdhaXQgdmF1bHQuc2V0VmFsdWU8c3RyaW5nPihcInRoZW1lXCIsIHRoZW1lKTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBwYXJhbSBrZXkgVGhlIGtleSBmb3IgdGhlIG5ldyB2YWx1ZS5cbiAgICAgKiBAcGFyYW0gdmFsdWUgVGhlIHZhbHVlIHRvIHN0b3JlIGluIHRoZSB2YXVsdC4gVmFsdWUgY2FuIGJlIG9mIGFueSB0eXBlLCBhcyBpdCB3aWxsIGJlIHBhcnNlZCB0byBKU09OIGluIHRoZSB2YXVsdC5cbiAgICAgKlxuICAgICAqL1xuICAgIHNldFZhbHVlKGtleSwgdmFsdWUpIHtcbiAgICAgICAgY29uc3QganNvblZhbHVlID0gSlNPTi5zdHJpbmdpZnkodmFsdWUpO1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgY29yZG92YS5leGVjKHJlc29sdmUsIChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlRXJyb3IocmVzb2x2ZSwgcmVqZWN0LCBlcnJvciwgKCkgPT4gdGhpcy5zZXRWYWx1ZShrZXksIHZhbHVlKSk7XG4gICAgICAgICAgICB9LCAnVmF1bHRQbHVnaW4nLCAnc2V0VmFsdWUnLCBbdGhpcy5jb25maWcsIGtleSwganNvblZhbHVlXSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUcmlnZ2VycyB3aGVuIGEgY29uZmlnIGNoYW5nZSBvY2N1cnMuXG4gICAgICpcbiAgICAgKiBAdXNhZ2VcbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogdmF1bHQub25Db25maWdDaGFuZ2VkKChjb25maWcpID0+IHtcbiAgICAgKiAgY29uc29sZS5sb2coXCJ1cGRhdGVkIGNvbmZpZzogXCIsIGNvbmZpZyk7XG4gICAgICogfSk7XG4gICAgICogYGBgXG4gICAgICogQHBhcmFtIGNhbGxiYWNrIFRoZSBjYWxsYmFjayBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIHdoZW4gdGhlIGV2ZW50IHRyaWdnZXJzLiBQYXNzZXMgaW4gdGhlIGN1cnJlbnQgdmF1bHQgY29uZmlnLlxuICAgICAqXG4gICAgICovXG4gICAgb25Db25maWdDaGFuZ2VkKGNhbGxiYWNrKSB7XG4gICAgICAgIGNvcmRvdmEuZXhlYygoZGF0YSkgPT4ge1xuICAgICAgICAgICAgY2FsbGJhY2soSlNPTi5wYXJzZShkYXRhKSk7XG4gICAgICAgIH0sIChlcnJvcikgPT4gY29uc29sZS5lcnJvcihlcnJvciksICdWYXVsdFBsdWdpbicsICdvbkNvbmZpZ0NoYW5nZWQnLCBbXSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRyaWdnZXJzIHdoZW4gYW4gZXJyb3Igb2NjdXJzIGluIHRoZSBhcHBsaWNhdGlvbi5cbiAgICAgKiBFcnJvcnMgdGhhdCBjb21lIGJhY2sgYXMgcmVqZWN0ZWQgcHJvbWlzZXMgYWxzbyB0cmlnZ2VyIHRoaXMgZXZlbnQuXG4gICAgICpcbiAgICAgKiBAdXNhZ2VcbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogdmF1bHQub25FcnJvcigoZXJyKSA9PiB7XG4gICAgICogIGNvbnNvbGUubG9nKCdFUlJPUiBmcm9tIGNhbGxiYWNrJywgSlNPTi5zdHJpbmdpZnkoZXJyKSk7XG4gICAgICogfSk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY2FsbGJhY2sgVGhlIGNhbGxiYWNrIGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBjYWxsZWQgd2hlbiB0aGUgZXZlbnQgdHJpZ2dlcnMuIFBhc3NlcyBpbiB0aGUgZXJyb3Igb2JqZWN0LlxuICAgICAqXG4gICAgICovXG4gICAgb25FcnJvcihjYWxsYmFjaykge1xuICAgICAgICBjb3Jkb3ZhLmV4ZWMoKCkgPT4ge1xuICAgICAgICAgICAgLy8gRG8gTm90aGluZ1xuICAgICAgICB9LCBjYWxsYmFjaywgJ1ZhdWx0UGx1Z2luJywgJ29uRXJyb3InLCBbdGhpcy5jb25maWddKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVHJpZ2dlcnMgd2hlbiB0aGUgdmF1bHQgZW50ZXJzIGEgbG9ja2VkIHN0YXRlLlxuICAgICAqXG4gICAgICogQHVzYWdlXG4gICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAqIHZhdWx0Lm9uTG9jaygobG9ja0V2ZW50KSA9PiB7IGRpc3BsYXlOb3RpZmljYXRpb24oYFZhdWx0IGxvY2tlZC4gV2FzIGZyb20gdGltZW91dDogJHtsb2NrRXZlbnQudGltZW91dH1gKTsgfSlcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBwYXJhbSBjYWxsYmFjayBUaGUgY2FsbGJhY2sgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIGNhbGxlZCB3aGVuIHRoZSBldmVudCB0cmlnZ2Vycy4gUGFzc2VzIGluIGFuIG9iamVjdCB3aXRoIGEgYm9vbGVhbiBwcm9wZXJ0eSBvZiBgdGltZW91dGAgaW5kaWNhdGluZyBpZiB0aGUgbG9jayB3YXMgZHVlIHRvIGEgYmFja2dyb3VuZCB0aW1lb3V0IG9yIG5vdC5cbiAgICAgKlxuICAgICAqL1xuICAgIG9uTG9jayhjYWxsYmFjaykge1xuICAgICAgICBjb3Jkb3ZhLmV4ZWMoKGRhdGEpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGQgPSBKU09OLnBhcnNlKGRhdGEpO1xuICAgICAgICAgICAgY2FsbGJhY2soeyB0aW1lb3V0OiBkLnRpbWVvdXQgfSk7XG4gICAgICAgIH0sIChlcnJvcikgPT4gY29uc29sZS5lcnJvcihlcnJvciksICdWYXVsdFBsdWdpbicsICdvbkxvY2snLCBbdGhpcy5jb25maWddKTtcbiAgICB9XG4gICAgb25QYXNzY29kZVJlcXVlc3RlZChjYWxsYmFjaykge1xuICAgICAgICB0aGlzLnBhc3NDb2RlUmVxdWVzdGVkQ2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICB9XG4gICAgLyoqXG4gICAgICogVHJpZ2dlcnMgd2hlbiB0aGUgdmF1bHQgZW50ZXJzIGFuIHVubG9ja2VkIHN0YXRlLlxuICAgICAqXG4gICAgICogQHVzYWdlXG4gICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAqIHZhdWx0Lm9uVW5sb2NrKCgpID0+IHtcbiAgICAgKiAgY29uc29sZS5sb2coXCJ2YXVsdCBpcyBub3cgdW5sb2NrZWRcIik7XG4gICAgICogfSk7XG4gICAgICogYGBgXG4gICAgICogQHBhcmFtIGNhbGxiYWNrIFRoZSBjYWxsYmFjayBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIHdoZW4gdGhlIGV2ZW50IHRyaWdnZXJzLlxuICAgICAqXG4gICAgICovXG4gICAgb25VbmxvY2soY2FsbGJhY2spIHtcbiAgICAgICAgY29yZG92YS5leGVjKGNhbGxiYWNrLCAoZXJyb3IpID0+IGNvbnNvbGUuZXJyb3IoZXJyb3IpLCAnVmF1bHRQbHVnaW4nLCAnb25VbmxvY2snLCBbdGhpcy5jb25maWddKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWFudWFsbHkgdW5sb2NrIHRoZSB2YXVsdC4gV2lsbCB0cmlnZ2VyIGFueSBhdXRoZW50aWNhdGlvbiBtZWNoYW5pc20gbmVlZGVkIHRvIGFjY2VzcyB0aGUgdmF1bHQgKHBhc3Njb2RlLCBiaW9tZXRyaWNzLCBldGMuLikuXG4gICAgICpcbiAgICAgKiBGb3IgVmF1bHRzIG9mIHR5cGUgYFNlY3VyZVN0b3JhZ2VgIG9yIGBJbk1lbW9yeWAgdGhpcyBtZXRob2Qgd2lsbCBoYXZlIG5vIGVmZmVjdCBvbiB0aGUgdmF1bHQuXG4gICAgICpcbiAgICAgKiBAdXNhZ2VcbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogY29uc3QgdmF1bHQgPSBuZXcgVmF1bHQoZXhpc3RpbmdWYXVsdENvbmZpZyk7XG4gICAgICogYXdhaXQgdmF1bHQudW5sb2NrKCk7XG4gICAgICogYGBgXG4gICAgICovXG4gICAgdW5sb2NrKCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgY29yZG92YS5leGVjKCgpID0+IHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICB9LCAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZUVycm9yKHJlc29sdmUsIHJlamVjdCwgZXJyb3IsICgpID0+IHRoaXMudW5sb2NrKCkpO1xuICAgICAgICAgICAgfSwgJ1ZhdWx0UGx1Z2luJywgJ3VubG9jaycsIFt0aGlzLmNvbmZpZ10pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgY29uZmlndXJhdGlvbiBvZiB0aGUgY3VycmVudCB2YXVsdC5cbiAgICAgKlxuICAgICAqICBAdXNhZ2VcbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogYXN5bmMgZnVuY3Rpb24gY2hhbmdlVmF1bHRUeXBlKHR5cGU6IFZhdWx0VHlwZSkge1xuICAgICAqICBjb25zdCB2YXVsdCA9IG5ldyBWYXVsdCh0aGlzLmV4aXN0aW5nVmF1bHRDb25maWcpO1xuICAgICAqICBjb25zdCBuZXdDb25maWcgPSB7IC4uLnRoaXMuZXhpc3RpbmdWYXVsdENvbmZpZywgdHlwZSB9O1xuICAgICAqICBhd2FpdCB2YXVsdC51cGRhdGVDb25maWcobmV3Q29uZmlnKTtcbiAgICAgKiAgdGhpcy5leGlzdGluZ1ZhdWx0Q29uZmlnID0gbmV3Q29uZmlnO1xuICAgICAqIH1cbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb25maWcgVGhlIG5ldyBjb25maWdcbiAgICAgKlxuICAgICAqL1xuICAgIHVwZGF0ZUNvbmZpZyhjb25maWcpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGNvbmZpZyA9IE9iamVjdC5hc3NpZ24odGhpcy5kZWZhdWx0Q29uZmlnLCBjb25maWcpO1xuICAgICAgICAgICAgLy8gc2V0dGluZyBzYW5lIGRlZmF1bHRzXG4gICAgICAgICAgICBpZiAoY29uZmlnLmRldmljZVNlY3VyaXR5VHlwZSA9PT0gRGV2aWNlU2VjdXJpdHlUeXBlLk5vbmUgJiYgY29uZmlnLnR5cGUgPT09IFZhdWx0VHlwZSQxLkRldmljZVNlY3VyaXR5KSB7XG4gICAgICAgICAgICAgICAgY29uZmlnLmRldmljZVNlY3VyaXR5VHlwZSA9IERldmljZVNlY3VyaXR5VHlwZS5Cb3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29yZG92YS5leGVjKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICB9LCAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZUVycm9yKHJlc29sdmUsIHJlamVjdCwgZXJyb3IsICgpID0+IHRoaXMudXBkYXRlQ29uZmlnKGNvbmZpZykpO1xuICAgICAgICAgICAgfSwgJ1ZhdWx0UGx1Z2luJywgJ3VwZGF0ZUNvbmZpZycsIFtjb25maWddKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlc29sdmVzIHRydWUgaWYgYSB2YXVsdCBjb250YWlucyBubyBkYXRhLCBhbmQgZmFsc2UgaWYgYW55IGRhdGEgZXhpc3RzIGluIHRoZSB2YXVsdC5cbiAgICAgKiBUaGUgdmF1bHQgZG9lcyBub3QgbmVlZCB0byBiZSB1bmxvY2tlZCB0byBjaGVjay5cbiAgICAgKlxuICAgICAqIF9fTm90ZTpfXyBWYXVsdHMgY3JlYXRlZCBwcmlvciB0byB2ZXJzaW9uIDUuMi4wIHdpbGwgcmV0dXJuIGZhbHNlIHVudGlsIHRoZSB2YXVsdCBpcyB1bmxvY2tlZCBmb3IgdGhlIGZpcnN0IHRpbWUgYWZ0ZXIgdXBkYXRpbmcsIGV2ZW4gaWYgdGhlIHZhdWx0IGNvbnRhaW5zIG5vIGRhdGEuXG4gICAgICogQWZ0ZXIgd2hpY2ggdGhpcyBtZXRob2Qgd2lsbCByZXR1cm4gdGhlIGV4cGVjdGVkIHZhbHVlLlxuICAgICAqXG4gICAgICogQHVzYWdlXG4gICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAqIGNvbnN0IHZhdWx0ID0gbmV3IFZhdWx0KGV4aXN0aW5nVmF1bHRDb25maWcpO1xuICAgICAqIGNvbnN0IHZhdWx0SXNFbXB0eSA9IGF3YWl0IHZhdWx0LmlzRW1wdHkoKVxuICAgICAqIGlmICh2YXVsdElzRW1wdHkpIHtcbiAgICAgKiAgLy8gdGhlIHZhdWx0IGlzIGVtcHR5IGFuZCBjb250YWlucyBubyBkYXRhLi4uXG4gICAgICogfVxuICAgICAqIGBgYFxuICAgICAqL1xuICAgIGlzRW1wdHkoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBjb3Jkb3ZhLmV4ZWMoKGRhdGEpID0+IHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKEpTT04ucGFyc2UoZGF0YSkpO1xuICAgICAgICAgICAgfSwgKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVFcnJvcihyZXNvbHZlLCByZWplY3QsIGVycm9yKTtcbiAgICAgICAgICAgIH0sICdWYXVsdFBsdWdpbicsICdpc0VtcHR5JywgW3RoaXMuY29uZmlnXSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKiogQGlnbm9yZSAqL1xuICAgIGFzeW5jIGhhbmRsZUVycm9yKHJlc29sdmUsIHJlamVjdCwgZXJyb3IsIHJldHJ5RnVuYykge1xuICAgICAgICBpZiAoZXJyb3IuY29kZSA9PT0gVmF1bHRFcnJvckNvZGVzLk1pc3NpbmdQYXNzY29kZSAmJiB0aGlzLnBhc3NDb2RlUmVxdWVzdGVkQ2FsbGJhY2spIHtcbiAgICAgICAgICAgIGNvbnN0IGNoZWNrUmV0cnkgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJldHJ5RnVuYykge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJldHJ5RnVuYygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlcyA9IHRoaXMucGFzc0NvZGVSZXF1ZXN0ZWRDYWxsYmFjayhlcnJvci5leHRyYS5pc1Bhc3Njb2RlU2V0UmVxdWVzdCwgKGNvZGUpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldEN1c3RvbVBhc3Njb2RlKGNvZGUpO1xuICAgICAgICAgICAgICAgIGNoZWNrUmV0cnkoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKHJlcyBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCByZXM7XG4gICAgICAgICAgICAgICAgYXdhaXQgY2hlY2tSZXRyeSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGVycm9yLmNvZGUgPT09IFZhdWx0RXJyb3JDb2Rlcy5NaXNzaW5nQmlvbWV0cmljcykge1xuICAgICAgICAgICAgY29yZG92YS5leGVjKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmV0cnlGdW5jKCk7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoZGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCAoZSkgPT4gcmVqZWN0KGUpLCAnVmF1bHRQbHVnaW4nLCAncmVxdWVzdEJpb21ldHJpY1Byb21wdCcsIFt0aGlzLmNvbmZpZ10pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKiogQGlnbm9yZSAqL1xuICAgIHJlcXVlc3RCaW9tZXRyaWNQcm9tcHQoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBjb3Jkb3ZhLmV4ZWMoKGRhdGEpID0+IHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKEpTT04ucGFyc2UoZGF0YSkpO1xuICAgICAgICAgICAgfSwgKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVFcnJvcihyZXNvbHZlLCByZWplY3QsIGVycm9yLCAoKSA9PiB0aGlzLnJlcXVlc3RCaW9tZXRyaWNQcm9tcHQoKSk7XG4gICAgICAgICAgICB9LCAnVmF1bHRQbHVnaW4nLCAncmVxdWVzdEJpb21ldHJpY1Byb21wdCcsIFt0aGlzLmNvbmZpZ10pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGlnbm9yZVxuICAgICAqL1xuICAgIHJlc3VtZSgpIHtcbiAgICAgICAgY29uc3Qgbm9vcCA9ICgpID0+IHtcbiAgICAgICAgICAgIC8vIERvIE5vdGhpbmdcbiAgICAgICAgfTtcbiAgICAgICAgY29yZG92YS5leGVjKG5vb3AsIChlcnJvcikgPT4ge1xuICAgICAgICAgICAgdGhpcy5oYW5kbGVFcnJvcihub29wLCBub29wLCBlcnJvciwgKCkgPT4gdGhpcy5yZXN1bWUoKSk7XG4gICAgICAgIH0sICdWYXVsdFBsdWdpbicsICdhcHBSZXN1bWVkJywgW3RoaXMuY29uZmlnXSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBpZ25vcmVcbiAgICAgKi9cbiAgICBzZXR1cCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc3VtZScsIHRoaXMucmVzdW1lLCBmYWxzZSk7XG4gICAgICAgICAgICBjb3Jkb3ZhLmV4ZWMocmVzb2x2ZSwgKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVFcnJvcihyZXNvbHZlLCByZWplY3QsIGVycm9yKTtcbiAgICAgICAgICAgIH0sICdWYXVsdFBsdWdpbicsICdzZXR1cCcsIFt0aGlzLmNvbmZpZ10pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGlnbm9yZVxuICAgICAqL1xuICAgIGdldFBlcnNpc3RlZFZhdWx0Q29uZmlnKCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgY29yZG92YS5leGVjKChkYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhdWx0Q29uZmlnID0gSlNPTi5wYXJzZShkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25maWcgPSBPYmplY3QuYXNzaWduKHRoaXMuY29uZmlnLCB2YXVsdENvbmZpZyk7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZUVycm9yKHJlc29sdmUsIHJlamVjdCwgZXJyb3IpO1xuICAgICAgICAgICAgfSwgJ1ZhdWx0UGx1Z2luJywgJ2dldFZhdWx0Q29uZmlnJywgW3RoaXMuY29uZmlnXSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuY2xhc3MgRGV2aWNlIHtcbiAgICAvKiogQGlnbm9yZSAqL1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAvLyBOb3RoaW5nXG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHR5cGVzIG9mIGJpb21ldHJpY3MgdGhlIGRldmljZSBzdXBwb3J0cy5cbiAgICAgKlxuICAgICAqIEB1c2FnZVxuICAgICAqIGBgYHR5cGVzY3JpcHRcbiAgICAgKiBjb25zdCBoYXJkd2FyZSA9IGF3YWl0IERldmljZS5nZXRBdmFpbGFibGVIYXJkd2FyZSgpO1xuICAgICAqIGhhcmR3YXJlLmZvckVhY2goKGJpb21ldHJpY1R5cGUpID0+IGNvbnNvbGUubG9nKFwiVHlwZTogXCIgKyBiaW9tZXRyaWNUeXBlKSk7XG4gICAgICogYGBgXG4gICAgICovXG4gICAgc3RhdGljIGdldEF2YWlsYWJsZUhhcmR3YXJlKCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgaWYgKCEoJ2NvcmRvdmEnIGluIHdpbmRvdykpIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKFtdKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb3Jkb3ZhLmV4ZWMoKGRhdGEpID0+IHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKGRhdGEpO1xuICAgICAgICAgICAgfSwgKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgRGV2aWNlLmhhbmRsZUVycm9yKHJlc29sdmUsIHJlamVjdCwgZXJyb3IpO1xuICAgICAgICAgICAgfSwgJ0RldmljZVBsdWdpbicsICdnZXRBdmFpbGFibGVIYXJkd2FyZScsIFtdKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoZWNrIHdoZXRoZXIgYmlvbWV0cmljcyBhcmUgbG9ja2VkIG91dCBvbiB0aGUgZGV2aWNlLlxuICAgICAqXG4gICAgICogT24gQW5kcm9pZCwgdGhlIGxvY2tlZCBvdXQgc3RhdGUgd2lsbCBvbmx5IGtub3duIGFmdGVyIGFuIGF0dGVtcHRlZCBiaW9tZXRyaWMgdW5sb2NrLlxuICAgICAqXG4gICAgICogQHVzYWdlXG4gICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAqIGNvbnN0IGlzTG9ja2VkT3V0ID0gYXdhaXQgRGV2aWNlLmlzTG9ja2VkT3V0T2ZCaW9tZXRyaWNzKCk7XG4gICAgICogaWYgKGlzTG9ja2VkT3V0KSB7XG4gICAgICogIC8vIGRldmljZSBpcyBsb2NrZWQgb3V0IC4uLlxuICAgICAqIH1cbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBzdGF0aWMgaXNMb2NrZWRPdXRPZkJpb21ldHJpY3MoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBpZiAoISgnY29yZG92YScgaW4gd2luZG93KSkge1xuICAgICAgICAgICAgICAgIHJlc29sdmUoZmFsc2UpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvcmRvdmEuZXhlYygoZGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgIHJlc29sdmUoSlNPTi5wYXJzZShkYXRhKSk7XG4gICAgICAgICAgICB9LCAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICBEZXZpY2UuaGFuZGxlRXJyb3IocmVzb2x2ZSwgcmVqZWN0LCBlcnJvcik7XG4gICAgICAgICAgICB9LCAnRGV2aWNlUGx1Z2luJywgJ2lzTG9ja2VkT3V0T2ZCaW9tZXRyaWNzJywgW10pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHRoZSBkZXZpY2UgYmlvbWV0cmljIHN0cmVuZ3RoIGxldmVsLlxuICAgICAqXG4gICAgICogT24gaU9TIHRoaXMgd2lsbCBhbHdheXMgcmV0dXJuICdzdHJvbmcnLlxuICAgICAqXG4gICAgICogQHVzYWdlXG4gICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAqIGNvbnN0IGJpb21ldHJpY1N0cmVuZ3RoID0gYXdhaXQgRGV2aWNlLmdldEJpb21ldHJpY1N0cmVuZ3RoTGV2ZWwoKTtcbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0QmlvbWV0cmljU3RyZW5ndGhMZXZlbCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGlmICghKCdjb3Jkb3ZhJyBpbiB3aW5kb3cpKSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShCaW9tZXRyaWNTZWN1cml0eVN0cmVuZ3RoLldlYWspO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvcmRvdmEuZXhlYygoZGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgIHJlc29sdmUoZGF0YSk7XG4gICAgICAgICAgICB9LCAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICBEZXZpY2UuaGFuZGxlRXJyb3IocmVzb2x2ZSwgcmVqZWN0LCBlcnJvcik7XG4gICAgICAgICAgICB9LCAnRGV2aWNlUGx1Z2luJywgJ2dldEJpb21ldHJpY1N0cmVuZ3RoTGV2ZWwnLCBbXSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDaGVjayB3aGV0aGVyIG9yIG5vdCB0aGUgc2NyZWVuIHdpbGwgYmUgb2JzY3VyZWQgaW4gYXBwIHN3aXRjaGVyIG1vZGUuXG4gICAgICpcbiAgICAgKiBAdXNhZ2VcbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogY29uc3Qgd2lsbEhpZGVTY3JlZW4gPSBhd2FpdCBEZXZpY2UuaXNIaWRlU2NyZWVuT25CYWNrZ3JvdW5kRW5hYmxlZCgpO1xuICAgICAqIGBgYFxuICAgICAqL1xuICAgIHN0YXRpYyBpc0hpZGVTY3JlZW5PbkJhY2tncm91bmRFbmFibGVkKCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgaWYgKCEoJ2NvcmRvdmEnIGluIHdpbmRvdykpIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKGZhbHNlKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb3Jkb3ZhLmV4ZWMoKGRhdGEpID0+IHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKEpTT04ucGFyc2UoZGF0YSkpO1xuICAgICAgICAgICAgfSwgKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgRGV2aWNlLmhhbmRsZUVycm9yKHJlc29sdmUsIHJlamVjdCwgZXJyb3IpO1xuICAgICAgICAgICAgfSwgJ0RldmljZVBsdWdpbicsICdpc0hpZGVTY3JlZW5PbkJhY2tncm91bmRFbmFibGVkJywgW10pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IHdoZXRoZXIgb3Igbm90IHRoZSBzY3JlZW4gd2lsbCBiZSBvYnNjdXJlZCBpbiBhcHAgc3dpdGNoZXIgbW9kZS5cbiAgICAgKiBJZiBlbmFibGVkLCBieSBkZWZhdWx0IHRoZSBzY3JlZW4gYmVoaW5kIGJpb21ldHJpYyBwcm9tcHRzIHdpbGwgYmUgb2JzY3VyZWQgdmlhIHRoZSBzcGxhc2ggc2NyZWVuLlxuICAgICAqXG4gICAgICogRm9yIEFuZHJvaWQsIGFuIG9wdGlvbmFsIGJvb2xlYW4gKmRpbUJpb21ldHJpY3MqIGNhbiBiZSBzZXQgdG8gb2JzY3VyZVxuICAgICAqIHRoZSBzY3JlZW4gYmVoaW5kIGJpb21ldHJpYyBwcm9tcHRzIHZpYSBkaW1taW5nIHRoZSBiYWNrZ3JvdW5kIGluc3RlYWQuXG4gICAgICpcbiAgICAgKiBAdXNhZ2VcbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogYXdhaXQgRGV2aWNlLnNldEhpZGVTY3JlZW5PbkJhY2tncm91bmQodHJ1ZSwgdHJ1ZSk7XG4gICAgICogYGBgXG4gICAgICovXG4gICAgc3RhdGljIHNldEhpZGVTY3JlZW5PbkJhY2tncm91bmQoZW5hYmxlZCA9IGZhbHNlLCBkaW1CaW9tZXRyaWNzID0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGlmICghKCdjb3Jkb3ZhJyBpbiB3aW5kb3cpKSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvcmRvdmEuZXhlYygoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgfSwgKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgRGV2aWNlLmhhbmRsZUVycm9yKHJlc29sdmUsIHJlamVjdCwgZXJyb3IpO1xuICAgICAgICAgICAgfSwgJ0RldmljZVBsdWdpbicsICdzZXRIaWRlU2NyZWVuT25CYWNrZ3JvdW5kJywgW2VuYWJsZWQsIGRpbUJpb21ldHJpY3NdKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoZWNrIHdoZXRoZXIgdGhlIGRldmljZSBPUy1sZXZlbCBwYXNzY29kZSBoYXMgYmVlbiBzZXQuXG4gICAgICpcbiAgICAgKiBAdXNhZ2VcbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogY29uc3QgaGFzU3lzdGVtUGFzc2NvZGUgPSBhd2FpdCBEZXZpY2UuaXNTeXN0ZW1QYXNzY29kZVNldCgpO1xuICAgICAqIGlmIChoYXNTeXN0ZW1QYXNzY29kZSkge1xuICAgICAqICAvLyBkZXZpY2UgaGFzIGEgc3lzdGVtIHBhc3Njb2RlXG4gICAgICogfVxuICAgICAqIGBgYFxuICAgICAqL1xuICAgIHN0YXRpYyBpc1N5c3RlbVBhc3Njb2RlU2V0KCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgaWYgKCEoJ2NvcmRvdmEnIGluIHdpbmRvdykpIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKGZhbHNlKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb3Jkb3ZhLmV4ZWMoKGRhdGEpID0+IHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKEpTT04ucGFyc2UoZGF0YSkpO1xuICAgICAgICAgICAgfSwgKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgRGV2aWNlLmhhbmRsZUVycm9yKHJlc29sdmUsIHJlamVjdCwgZXJyb3IpO1xuICAgICAgICAgICAgfSwgJ0RldmljZVBsdWdpbicsICdpc1N5c3RlbVBhc3Njb2RlU2V0JywgW10pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2sgd2hldGhlciBvciBub3QgYmlvbWV0cmljcyBpcyBzdXBwb3J0ZWQgYnkgdGhlIGRldmljZSBhbmQgaGFzIGJlZW4gY29uZmlndXJlZCBieSB0aGUgY3VycmVudCB1c2VyIG9mIHRoZSBkZXZpY2UuXG4gICAgICpcbiAgICAgKiBAdXNhZ2VcbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogY29uc3QgYmlvbWV0cmljc0VuYWJsZWQgPSBhd2FpdCBEZXZpY2UuaXNCaW9tZXRyaWNzRW5hYmxlZCgpO1xuICAgICAqIGlmICghYmlvbWV0cmljc0VuYWJsZWQpIHtcbiAgICAgKiAgLy8gYmlvbWV0cmljcyBub3QgZW5hYmxlZCBvbiB0aGlzIGRldmljZS4uLlxuICAgICAqIH1cbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBzdGF0aWMgaXNCaW9tZXRyaWNzRW5hYmxlZCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGlmICghKCdjb3Jkb3ZhJyBpbiB3aW5kb3cpKSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29yZG92YS5leGVjKChkYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2Jpb21ldHJpY3MgaXMgZW5hYmxlZDogJywgZGF0YSk7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShKU09OLnBhcnNlKGRhdGEpKTtcbiAgICAgICAgICAgIH0sIChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgIERldmljZS5oYW5kbGVFcnJvcihyZXNvbHZlLCByZWplY3QsIGVycm9yKTtcbiAgICAgICAgICAgIH0sICdEZXZpY2VQbHVnaW4nLCAnaXNCaW9tZXRyaWNzRW5hYmxlZCcsIFtdKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGN1cnJlbnQgc3RhdGUgb2YgYmlvbWV0cmljIHBlcm1pc3Npb25zLlxuICAgICAqXG4gICAgICogT24gQW5kcm9pZCBhbmQgaU9TIGRldmljZXMgd2l0aCBUb3VjaElELCB0aGlzIGFsd2F5cyByZXR1cm5zIGBncmFudGVkYC5cbiAgICAgKlxuICAgICAqIEB1c2FnZVxuICAgICAqIGBgYHR5cGVzY3JpcHRcbiAgICAgKiBjb25zdCBwZXJtaXNzaW9ucyA9IGF3YWl0IERldmljZS5pc0Jpb21ldHJpY3NBbGxvd2VkKCk7XG4gICAgICogaWYgKHBlcm1pc3Npb25zID09PSBCaW9tZXRyaWNQZXJtaXNzaW9uU3RhdGUuRGVuaWVkKSB7XG4gICAgICogIC8vIHVzZXIgbXVzdCBlbmFibGUgRmFjZUlEIGZvciB0aGUgYXBwbGljYXRpb24uLi5cbiAgICAgKiB9XG4gICAgICogYGBgXG4gICAgICovXG4gICAgc3RhdGljIGlzQmlvbWV0cmljc0FsbG93ZWQoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBpZiAoISgnY29yZG92YScgaW4gd2luZG93KSkge1xuICAgICAgICAgICAgICAgIHJlc29sdmUoQmlvbWV0cmljUGVybWlzc2lvblN0YXRlLkRlbmllZCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29yZG92YS5leGVjKChkYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShkYXRhKTtcbiAgICAgICAgICAgIH0sIChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgIERldmljZS5oYW5kbGVFcnJvcihyZXNvbHZlLCByZWplY3QsIGVycm9yKTtcbiAgICAgICAgICAgIH0sICdEZXZpY2VQbHVnaW4nLCAnaXNCaW9tZXRyaWNzQWxsb3dlZCcsIFtdKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoZWNrIHdoZXRoZXIgb3Igbm90IGJpb21ldHJpY3MgaXMgc3VwcG9ydGVkIGJ5IHRoZSBkZXZpY2UuXG4gICAgICpcbiAgICAgKiBAdXNhZ2VcbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogY29uc3QgYmlvbWV0cmljc1N1cHBvcnRlZCA9IGF3YWl0IERldmljZS5pc0Jpb21ldHJpY3NTdXBwb3J0ZWQoKTtcbiAgICAgKiBpZiAoYmlvbWV0cmljc1N1cHBvcnRlZCkge1xuICAgICAqICAgLy8gYmlvbWV0cmljcyBpcyBzdXBwb3J0ZWQgb24gdGhpcyBkZXZpY2UuLi5cbiAgICAgKiB9XG4gICAgICogYGBgXG4gICAgICovXG4gICAgc3RhdGljIGlzQmlvbWV0cmljc1N1cHBvcnRlZCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGlmICghKCdjb3Jkb3ZhJyBpbiB3aW5kb3cpKSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29yZG92YS5leGVjKChkYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShKU09OLnBhcnNlKGRhdGEpKTtcbiAgICAgICAgICAgIH0sIChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgIERldmljZS5oYW5kbGVFcnJvcihyZXNvbHZlLCByZWplY3QsIGVycm9yKTtcbiAgICAgICAgICAgIH0sICdEZXZpY2VQbHVnaW4nLCAnaXNCaW9tZXRyaWNzU3VwcG9ydGVkJywgW10pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgdGhlIGRldmljZSBoYXMgYSBzZWN1cmUgaGFyZHdhcmUgZW5jbGF2ZS5cbiAgICAgKlxuICAgICAqIEB1c2FnZVxuICAgICAqIGBgYHR5cGVzY3JpcHRcbiAgICAgKiBjb25zdCBoYXNTZWN1cmVIYXJkd2FyZSA9IGF3YWl0IERldmljZS5oYXNTZWN1cmVIYXJkd2FyZSgpO1xuICAgICAqIGlmICghaGFzU2VjdXJlSGFyZHdhcmUpIHtcbiAgICAgKiAgICAvLyB0aGlzIGRldmljZSBkb2Vzbid0IGhhdmUgc2VjdXJlIGhhcmR3YXJlXG4gICAgICogfVxuICAgICAqIGBgYFxuICAgICAqL1xuICAgIHN0YXRpYyBoYXNTZWN1cmVIYXJkd2FyZSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGlmICghKCdjb3Jkb3ZhJyBpbiB3aW5kb3cpKSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29yZG92YS5leGVjKChkYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShKU09OLnBhcnNlKGRhdGEpKTtcbiAgICAgICAgICAgIH0sIChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgIERldmljZS5oYW5kbGVFcnJvcihyZXNvbHZlLCByZWplY3QsIGVycm9yKTtcbiAgICAgICAgICAgIH0sICdEZXZpY2VQbHVnaW4nLCAnaGFzU2VjdXJlSGFyZHdhcmUnLCBbXSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTaG93IGEgYmlvbWV0cmljIHByb21wdC5cbiAgICAgKlxuICAgICAqIEB1c2FnZVxuICAgICAqIGBgYHR5cGVzY3JpcHRcbiAgICAgKiB0cnkge1xuICAgICAqICBjb25zdCBwcm9tcHRDb25maWcgPSB7Li4ufTtcbiAgICAgKiAgYXdhaXQgRGV2aWNlLnNob3dCaW9tZXRyaWNQcm9tcHQocHJvbXB0Q29uZmlnKTtcbiAgICAgKiAgLy8gYmlvbWV0cmljIHByb21wdCBzdWNjZWVkZWQgc3VjY2Vzc2Z1bGx5XG4gICAgICogfSBjYXRjaCAoZXJyKSB7XG4gICAgICogIC8vIGhhbmRsZSBlcnJvclxuICAgICAqIH1cbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBzdGF0aWMgc2hvd0Jpb21ldHJpY1Byb21wdChjb25maWcpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGlmICghKCdjb3Jkb3ZhJyBpbiB3aW5kb3cpKSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvcmRvdmEuZXhlYygoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgfSwgKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgRGV2aWNlLmhhbmRsZUVycm9yKHJlc29sdmUsIHJlamVjdCwgZXJyb3IpO1xuICAgICAgICAgICAgfSwgJ0RldmljZVBsdWdpbicsICdzaG93QmlvbWV0cmljUHJvbXB0JywgW2NvbmZpZ10pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGlnbm9yZVxuICAgICAqL1xuICAgIHN0YXRpYyBhc3luYyBoYW5kbGVFcnJvcihyZXNvbHZlLCByZWplY3QsIGVycm9yLCByZXRyeUZ1bmMpIHtcbiAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICB9XG59XG5cbi8qKlxuICogQGhpZGRlblxuICpcbiAqIEBpZ25vcmVcbiAqL1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHlwZXNcbmNsYXNzIElvbmljSWRlbnRpdHlWYXVsdFVzZXIge1xuICAgIGNvbnN0cnVjdG9yKHBsYXRmb3JtLCBvcHRpb25zLCBkZXNjcmlwdG9yKSB7XG4gICAgICAgIHRoaXMucGxhdGZvcm0gPSBwbGF0Zm9ybTtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgdGhpcy5fcmVhZHlDYWxsZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5kZXNjcmlwdG9yID0gZGVzY3JpcHRvciB8fCB7IHVzZXJuYW1lOiAnX2xhc3RVc2VyJywgdmF1bHRJZDogJ2RlZmF1bHQnIH07XG4gICAgICAgIHRoaXMuX3JlYWR5UHJvbWlzZSA9IHRoaXMuaW5pdGlhbGl6ZVZhdWx0KCk7XG4gICAgfVxuICAgIGdldCB0b2tlbigpIHtcbiAgICAgICAgY29uc3Qgc2Vzc2lvbiA9IHRoaXMuc2Vzc2lvbjtcbiAgICAgICAgcmV0dXJuIHNlc3Npb24gPT09IG51bGwgfHwgc2Vzc2lvbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogc2Vzc2lvbi50b2tlbjtcbiAgICB9XG4gICAgZ2V0IHVzZXJuYW1lKCkge1xuICAgICAgICBjb25zdCBzZXNzaW9uID0gdGhpcy5zZXNzaW9uO1xuICAgICAgICByZXR1cm4gc2Vzc2lvbiA9PT0gbnVsbCB8fCBzZXNzaW9uID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzZXNzaW9uLnVzZXJuYW1lO1xuICAgIH1cbiAgICBnZXQgY29uZmlnKCkge1xuICAgICAgICBpZiAoIXRoaXMuX2NvbmZpZykge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBsZXQgYXV0aE1vZGU7XG4gICAgICAgIGNvbnN0IGJpb0VuYWJsZWQgPSB0aGlzLl9jb25maWcuaXNCaW9tZXRyaWNzRW5hYmxlZDtcbiAgICAgICAgY29uc3QgcGFzc0VuYWJsZWQgPSB0aGlzLl9jb25maWcuaXNQYXNzY29kZUVuYWJsZWQ7XG4gICAgICAgIGNvbnN0IHNlY3VyZVN0b3JhZ2VNb2RlID0gdGhpcy5fY29uZmlnLmlzU2VjdXJlU3RvcmFnZU1vZGVFbmFibGVkO1xuICAgICAgICBpZiAoc2VjdXJlU3RvcmFnZU1vZGUpIHtcbiAgICAgICAgICAgIGF1dGhNb2RlID0gQXV0aE1vZGUuU2VjdXJlU3RvcmFnZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChiaW9FbmFibGVkICYmIHBhc3NFbmFibGVkKSB7XG4gICAgICAgICAgICBhdXRoTW9kZSA9IEF1dGhNb2RlLkJpb21ldHJpY0FuZFBhc3Njb2RlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGJpb0VuYWJsZWQgJiYgIXBhc3NFbmFibGVkKSB7XG4gICAgICAgICAgICBhdXRoTW9kZSA9IEF1dGhNb2RlLkJpb21ldHJpY09ubHk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIWJpb0VuYWJsZWQgJiYgcGFzc0VuYWJsZWQpIHtcbiAgICAgICAgICAgIGF1dGhNb2RlID0gQXV0aE1vZGUuUGFzc2NvZGVPbmx5O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFiaW9FbmFibGVkICYmICFwYXNzRW5hYmxlZCkge1xuICAgICAgICAgICAgYXV0aE1vZGUgPSBBdXRoTW9kZS5Jbk1lbW9yeU9ubHk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGF1dGhNb2RlOiBhdXRoTW9kZSxcbiAgICAgICAgICAgIGlzUGFzc2NvZGVTZXR1cE5lZWRlZDogdGhpcy5fY29uZmlnLmlzUGFzc2NvZGVTZXR1cE5lZWRlZCxcbiAgICAgICAgICAgIGxvY2tBZnRlcjogdGhpcy5fY29uZmlnLmxvY2tBZnRlcixcbiAgICAgICAgICAgIGhpZGVTY3JlZW5PbkJhY2tncm91bmQ6IHRoaXMuX2NvbmZpZy5oaWRlU2NyZWVuT25CYWNrZ3JvdW5kLFxuICAgICAgICB9O1xuICAgIH1cbiAgICAvLyBvdmVyaWRhYmxlIGV2ZW50IGhhbmRsZXJzXG4gICAgb25WYXVsdExvY2tlZChfZXZlbnQpIHtcbiAgICAgICAgLyogRG8gTm90aGluZyAqL1xuICAgIH1cbiAgICBvblNlc3Npb25SZXN0b3JlRXJyb3IoX2Vycikge1xuICAgICAgICAvKiBEbyBOb3RoaW5nICovXG4gICAgfVxuICAgIG9uVW5sb2NrT25SZWFkeUVycm9yKF9lcnIpIHtcbiAgICAgICAgLyogRG8gTm90aGluZyAqL1xuICAgIH1cbiAgICBvblZhdWx0VW5sb2NrZWQoX2NvbmZpZykge1xuICAgICAgICAvKiBEbyBOb3RoaW5nICovXG4gICAgfVxuICAgIG9uVmF1bHRSZWFkeShfY29uZmlnKSB7XG4gICAgICAgIC8qIERvIE5vdGhpbmcgKi9cbiAgICB9XG4gICAgb25TZXR1cEVycm9yKF9lcnJvcikge1xuICAgICAgICAvKiBEbyBOb3RoaW5nICovXG4gICAgfVxuICAgIG9uQ29uZmlnQ2hhbmdlKF9jb25maWcpIHtcbiAgICAgICAgLyogRG8gTm90aGluZyAqL1xuICAgIH1cbiAgICBvblNlc3Npb25SZXN0b3JlZChfc2Vzc2lvbikge1xuICAgICAgICAvKiBEbyBOb3RoaW5nICovXG4gICAgfVxuICAgIGFzeW5jIG9uUGFzc2NvZGVSZXF1ZXN0KF9pc1Bhc3Njb2RlU2V0UmVxdWVzdCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGFzeW5jIG9uUmVhZHkodmF1bHQpIHtcbiAgICAgICAgaWYgKHRoaXMuX3JlYWR5Q2FsbGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcmVhZHlDYWxsZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLnZhdWx0ID0gdmF1bHQ7XG4gICAgICAgIGNvbnN0IGluVXNlID0gYXdhaXQgdGhpcy52YXVsdC5pc0luVXNlKCk7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbm9uLW51bGwtYXNzZXJ0aW9uXG4gICAgICAgIHRoaXMuX2NvbmZpZyA9IHZhdWx0LmNvbmZpZztcbiAgICAgICAgY29uc3QgbG9ja2VkID0gYXdhaXQgdGhpcy52YXVsdC5pc0xvY2tlZCgpO1xuICAgICAgICBsZXQgcmVzdG9yZVNlc3Npb25FcnJvcjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMucmVzdG9yZVNlc3Npb25PblJlYWR5ICYmIGluVXNlKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5fcmVzdG9yZVNlc3Npb24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgcmVzdG9yZVNlc3Npb25FcnJvciA9IGU7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHVubG9ja09uUmVhZHlFcnJvcjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChsb2NrZWQgJiYgdGhpcy5vcHRpb25zLnVubG9ja09uUmVhZHkpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLl91bmxvY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgdW5sb2NrT25SZWFkeUVycm9yID0gZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBOb3RlIFN3YWxsb3cgYWxsIGVycm9ycyBpbiBpbml0IGxpa2UgVmF1bHQgaXMgTG9ja2VkIEV0Yy5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmICghaW5Vc2UpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLl90cnlTZXRBdXRoTW9kZSh0aGlzLm9wdGlvbnMuYXV0aE1vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAvLyBEbyBOb3RoaW5nXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcmVhZHlSZXNvbHZlKCk7XG4gICAgICAgIHRoaXMub25WYXVsdFJlYWR5KHRoaXMuY29uZmlnKTtcbiAgICAgICAgaWYgKHJlc3RvcmVTZXNzaW9uRXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMub25TZXNzaW9uUmVzdG9yZUVycm9yKHJlc3RvcmVTZXNzaW9uRXJyb3IpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh1bmxvY2tPblJlYWR5RXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMub25VbmxvY2tPblJlYWR5RXJyb3IocmVzdG9yZVNlc3Npb25FcnJvcik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgb25Mb2NrKGV2ZW50KSB7XG4gICAgICAgIHRoaXMuc2Vzc2lvbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5vblZhdWx0TG9ja2VkKGV2ZW50KTtcbiAgICB9XG4gICAgYXN5bmMgb25VbmxvY2soY29uZmlnKSB7XG4gICAgICAgIGF3YWl0IHRoaXMucmVhZHkoKTtcbiAgICAgICAgdGhpcy5fY29uZmlnID0gY29uZmlnO1xuICAgICAgICB0aGlzLm9uVmF1bHRVbmxvY2tlZCh0aGlzLmNvbmZpZyk7XG4gICAgfVxuICAgIG9uRXJyb3IoZXJyb3IpIHtcbiAgICAgICAgdGhpcy5fcmVhZHlSZWplY3QoZXJyb3IpO1xuICAgICAgICB0aGlzLm9uU2V0dXBFcnJvcihlcnJvcik7XG4gICAgfVxuICAgIG9uQ29uZmlnKGNvbmZpZykge1xuICAgICAgICB0aGlzLl9jb25maWcgPSBjb25maWc7XG4gICAgICAgIHRoaXMub25Db25maWdDaGFuZ2UodGhpcy5jb25maWcpO1xuICAgIH1cbiAgICBhc3luYyByZWFkeSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlYWR5UHJvbWlzZTtcbiAgICB9XG4gICAgYXN5bmMgX3VubG9jayhhdXRoTW9kZSkge1xuICAgICAgICBjb25zdCBsb2NrZWQgPSBhd2FpdCB0aGlzLnZhdWx0LmlzTG9ja2VkKCk7XG4gICAgICAgIGlmICghbG9ja2VkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgYXV0aE1vZGUgPSBhdXRoTW9kZSAhPT0gdW5kZWZpbmVkICYmIGF1dGhNb2RlICE9PSBBdXRoTW9kZS5CaW9tZXRyaWNPclBhc3Njb2RlID8gYXV0aE1vZGUgOiB0aGlzLmNvbmZpZy5hdXRoTW9kZTtcbiAgICAgICAgc3dpdGNoIChhdXRoTW9kZSkge1xuICAgICAgICAgICAgY2FzZSBBdXRoTW9kZS5CaW9tZXRyaWNPbmx5OlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnZhdWx0LnVubG9jaygpO1xuICAgICAgICAgICAgY2FzZSBBdXRoTW9kZS5QYXNzY29kZU9ubHk6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudW5sb2NrV2l0aFBhc3Njb2RlKCk7XG4gICAgICAgICAgICBjYXNlIEF1dGhNb2RlLkJpb21ldHJpY0FuZFBhc3Njb2RlOlxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMudmF1bHQudW5sb2NrKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaGFuZGxlYWJsZUVycm9ycyA9IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIFZhdWx0RXJyb3JDb2Rlcy5BdXRoRmFpbGVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgVmF1bHRFcnJvckNvZGVzLkJpb21ldHJpY3NOb3RFbmFibGVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgVmF1bHRFcnJvckNvZGVzLlVzZXJDYW5jZWxlZEludGVyYWN0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgVmF1bHRFcnJvckNvZGVzLkludmFsaWRhdGVkQ3JlZGVudGlhbCxcbiAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhhbmRsZWFibGVFcnJvcnMuaW5kZXhPZihlLmNvZGUpID4gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMudW5sb2NrV2l0aFBhc3Njb2RlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGUgdXNlciByZW1vdmVkIGZpbmdlcnByaW50cy9mYWNlSUQgYW5kIHNvIHRoZSBiaW8gY3JlZHMgYXJlIGdvbmVcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIHRoZXkgYXJlIHVzaW5nIHBhc3Njb2RlIGF1dGggd2UgY2FuIHJlc2F2ZSB0aGUgY3JlZGVudGlhbCB0byBhdXRvcmVzZXRcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoZSBtb2RlIHRvIFBhc3Njb2RlT25seSBpZiBiaW8gaXMgbm8gbG9uZ2VyIGF2YWlsYWJsZS5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLmNvZGUgPT09IFZhdWx0RXJyb3JDb2Rlcy5JbnZhbGlkYXRlZENyZWRlbnRpYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzZXNzaW9uID0gYXdhaXQgdGhpcy5yZXN0b3JlU2Vzc2lvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbm9uLW51bGwtYXNzZXJ0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zYXZlU2Vzc2lvbihzZXNzaW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyB1bmxvY2soYXV0aE1vZGUpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5yZWFkeSgpO1xuICAgICAgICByZXR1cm4gdGhpcy5fdW5sb2NrKGF1dGhNb2RlKTtcbiAgICB9XG4gICAgYXN5bmMgdW5sb2NrV2l0aFBhc3Njb2RlKCkge1xuICAgICAgICBjb25zdCBwYXNzY29kZSA9IGF3YWl0IHRoaXMub25QYXNzY29kZVJlcXVlc3QoZmFsc2UpO1xuICAgICAgICByZXR1cm4gdGhpcy52YXVsdC51bmxvY2sodHJ1ZSwgcGFzc2NvZGUpO1xuICAgIH1cbiAgICBhc3luYyBfc2V0UGFzc2NvZGUoKSB7XG4gICAgICAgIGNvbnN0IGxvY2tlZCA9IGF3YWl0IHRoaXMudmF1bHQuaXNMb2NrZWQoKTtcbiAgICAgICAgaWYgKGxvY2tlZCkge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXRocm93LWxpdGVyYWxcbiAgICAgICAgICAgIHRocm93IHsgY29kZTogVmF1bHRFcnJvckNvZGVzLlZhdWx0TG9ja2VkLCBtZXNzYWdlOiAnT3BlcmF0aW9uIG5vdCBhbGxvd2VkIHdoaWxlIHZhdWx0IGxvY2tlZC4nIH07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFzc2NvZGUgPSBhd2FpdCB0aGlzLm9uUGFzc2NvZGVSZXF1ZXN0KHRydWUpO1xuICAgICAgICByZXR1cm4gdGhpcy52YXVsdC5zZXRQYXNzY29kZShwYXNzY29kZSk7XG4gICAgfVxuICAgIGFzeW5jIHNldFBhc3Njb2RlKCkge1xuICAgICAgICBhd2FpdCB0aGlzLnJlYWR5KCk7XG4gICAgICAgIHJldHVybiB0aGlzLl9zZXRQYXNzY29kZSgpO1xuICAgIH1cbiAgICBhc3luYyBnZXRTZXNzaW9uKCkge1xuICAgICAgICBhd2FpdCB0aGlzLnJlYWR5KCk7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMudW5sb2NrT25BY2Nlc3MpIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuX3VubG9jaygpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnNlc3Npb247XG4gICAgfVxuICAgIGFzeW5jIF9yZXN0b3JlU2Vzc2lvbigpIHtcbiAgICAgICAgY29uc3QgaW5Vc2UgPSBhd2FpdCB0aGlzLnZhdWx0LmlzSW5Vc2UoKTtcbiAgICAgICAgaWYgKCFpblVzZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMudW5sb2NrT25BY2Nlc3MpIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuX3VubG9jaygpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2Vzc2lvbiA9IGF3YWl0IHRoaXMudmF1bHQuZ2V0VmFsdWUoJ3Nlc3Npb24nKTtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb25cbiAgICAgICAgdGhpcy5vblNlc3Npb25SZXN0b3JlZCh0aGlzLnNlc3Npb24pO1xuICAgICAgICByZXR1cm4gdGhpcy5zZXNzaW9uO1xuICAgIH1cbiAgICBhc3luYyByZXN0b3JlU2Vzc2lvbigpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5yZWFkeSgpO1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVzdG9yZVNlc3Npb24oKTtcbiAgICB9XG4gICAgYXN5bmMgc2F2ZVNlc3Npb24oc2Vzc2lvbikge1xuICAgICAgICBhd2FpdCB0aGlzLnJlYWR5KCk7XG4gICAgICAgIGlmICh0aGlzLmNvbmZpZy5pc1Bhc3Njb2RlU2V0dXBOZWVkZWQpIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuc2V0UGFzc2NvZGUoKTtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy52YXVsdC5zdG9yZVZhbHVlKCdzZXNzaW9uJywgc2Vzc2lvbik7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIC8vIENhdGNoIHRoZSBjYXNlIHdoZXJlIEJpb21ldHJpY3Mgd2l0aCBQYXNzY29kZSBGYWxsYmFja1xuICAgICAgICAgICAgLy8gd2FzIGVuYWJsZWQgYnV0IHRoZSB1c2VyIGRpc2FibGVkIHBhc3Njb2RlIG9yIHJlbW92ZWQgdGhlaXJcbiAgICAgICAgICAgIC8vIGZpbmdlcnByaW50cy9mYWNlaWQgYW5kIHRyeSB0byByZWNvdmVyIGJ5IHNldHRpbmcgdG8gcGFzc2NvZGUgb25seVxuICAgICAgICAgICAgLy8gbW9kZS5cbiAgICAgICAgICAgIGlmIChlLmNvZGUgPT09IFZhdWx0RXJyb3JDb2Rlcy5TZWN1cml0eU5vdEF2YWlsYWJsZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGF1dGhNb2RlID0gYXdhaXQgdGhpcy5nZXRBdXRoTW9kZSgpO1xuICAgICAgICAgICAgICAgIGlmIChhdXRoTW9kZSA9PT0gQXV0aE1vZGUuQmlvbWV0cmljQW5kUGFzc2NvZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zZXRBdXRoTW9kZShBdXRoTW9kZS5QYXNzY29kZU9ubHkpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zYXZlU2Vzc2lvbihzZXNzaW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2Vzc2lvbiA9IHNlc3Npb247XG4gICAgfVxuICAgIGFzeW5jIGxvZ2luKHNlc3Npb24sIGF1dGhNb2RlKSB7XG4gICAgICAgIGF3YWl0IHRoaXMucmVhZHkoKTtcbiAgICAgICAgYXdhaXQgdGhpcy5sb2dvdXQoKTtcbiAgICAgICAgYXdhaXQgdGhpcy5fdHJ5U2V0QXV0aE1vZGUoYXV0aE1vZGUpO1xuICAgICAgICByZXR1cm4gdGhpcy5zYXZlU2Vzc2lvbihzZXNzaW9uKTtcbiAgICB9XG4gICAgYXN5bmMgZ2V0VmF1bHQoKSB7XG4gICAgICAgIGF3YWl0IHRoaXMucmVhZHkoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMudmF1bHQ7XG4gICAgfVxuICAgIGFzeW5jIGluaXRpYWxpemVWYXVsdCgpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5wbGF0Zm9ybS5yZWFkeSgpO1xuICAgICAgICBpZiAodGhpcy52YXVsdCAhPSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMudklvbmljTmF0aXZlQXV0aCA9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLnZJb25pY05hdGl2ZUF1dGggPSB0aGlzLmdldFBsdWdpbigpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlYWR5UHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX3JlYWR5UmVzb2x2ZSA9IHJlc29sdmU7XG4gICAgICAgICAgICB0aGlzLl9yZWFkeVJlamVjdCA9IHJlamVjdDtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHsgbG9ja0FmdGVyLCBoaWRlU2NyZWVuT25CYWNrZ3JvdW5kLCBzaG91bGRDbGVhclZhdWx0QWZ0ZXJUb29NYW55RmFpbGVkQXR0ZW1wdHMsIGFsbG93U3lzdGVtUGluRmFsbGJhY2ssIGFuZHJvaWRQcm9tcHROZWdhdGl2ZUJ1dHRvblRleHQsIGFuZHJvaWRQcm9tcHRUaXRsZSwgYW5kcm9pZFByb21wdFN1YnRpdGxlLCBhbmRyb2lkUHJvbXB0RGVzY3JpcHRpb24sIGFuZHJvaWRQSU5Qcm9tcHRUaXRsZSwgYW5kcm9pZFBJTlByb21wdFN1YnRpdGxlLCBhbmRyb2lkUElOUHJvbXB0Q29uZmlybVRpdGxlLCBhbmRyb2lkUElOUHJvbXB0VmVyaWZ5VGl0bGUsIGFuZHJvaWRQSU5Qcm9tcHRDb25maXJtQnV0dG9uVGV4dCwgYW5kcm9pZFBJTlByb21wdE5lZ2F0aXZlQnV0dG9uVGV4dCwgaW9zUHJvbXB0VGV4dCwgfSA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgdGhpcy52YXVsdCA9IHRoaXMudklvbmljTmF0aXZlQXV0aC5nZXRWYXVsdChPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oeyBsb2NrQWZ0ZXIsXG4gICAgICAgICAgICBoaWRlU2NyZWVuT25CYWNrZ3JvdW5kLFxuICAgICAgICAgICAgc2hvdWxkQ2xlYXJWYXVsdEFmdGVyVG9vTWFueUZhaWxlZEF0dGVtcHRzLFxuICAgICAgICAgICAgYWxsb3dTeXN0ZW1QaW5GYWxsYmFjayxcbiAgICAgICAgICAgIGFuZHJvaWRQcm9tcHROZWdhdGl2ZUJ1dHRvblRleHQsXG4gICAgICAgICAgICBhbmRyb2lkUHJvbXB0VGl0bGUsXG4gICAgICAgICAgICBhbmRyb2lkUHJvbXB0U3VidGl0bGUsXG4gICAgICAgICAgICBhbmRyb2lkUHJvbXB0RGVzY3JpcHRpb24sXG4gICAgICAgICAgICBhbmRyb2lkUElOUHJvbXB0VGl0bGUsXG4gICAgICAgICAgICBhbmRyb2lkUElOUHJvbXB0U3VidGl0bGUsXG4gICAgICAgICAgICBhbmRyb2lkUElOUHJvbXB0Q29uZmlybVRpdGxlLFxuICAgICAgICAgICAgYW5kcm9pZFBJTlByb21wdFZlcmlmeVRpdGxlLFxuICAgICAgICAgICAgYW5kcm9pZFBJTlByb21wdENvbmZpcm1CdXR0b25UZXh0LFxuICAgICAgICAgICAgYW5kcm9pZFBJTlByb21wdE5lZ2F0aXZlQnV0dG9uVGV4dCxcbiAgICAgICAgICAgIGlvc1Byb21wdFRleHQgfSwgdGhpcy5kZXNjcmlwdG9yKSwgeyBvbkxvY2s6IHRoaXMub25Mb2NrLmJpbmQodGhpcyksIG9uQ29uZmlnOiB0aGlzLm9uQ29uZmlnLmJpbmQodGhpcyksIG9uRXJyb3I6IHRoaXMub25FcnJvci5iaW5kKHRoaXMpLCBvblVubG9jazogdGhpcy5vblVubG9jay5iaW5kKHRoaXMpLCBvblJlYWR5OiB0aGlzLm9uUmVhZHkuYmluZCh0aGlzKSB9KSk7XG4gICAgICAgIHJldHVybiByZWFkeVByb21pc2U7XG4gICAgfVxuICAgIGdldFBsdWdpbigpIHtcbiAgICAgICAgcmV0dXJuIElvbmljTmF0aXZlQXV0aDtcbiAgICB9XG4gICAgYXN5bmMgZ2V0QmlvbWV0cmljVHlwZSgpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5yZWFkeSgpO1xuICAgICAgICByZXR1cm4gdGhpcy52YXVsdC5nZXRCaW9tZXRyaWNUeXBlKCk7XG4gICAgfVxuICAgIGFzeW5jIGdldEF2YWlsYWJsZUhhcmR3YXJlKCkge1xuICAgICAgICBhd2FpdCB0aGlzLnJlYWR5KCk7XG4gICAgICAgIHJldHVybiB0aGlzLnZhdWx0LmdldEF2YWlsYWJsZUhhcmR3YXJlKCk7XG4gICAgfVxuICAgIGFzeW5jIGxvY2tPdXQoKSB7XG4gICAgICAgIGF3YWl0IHRoaXMucmVhZHkoKTtcbiAgICAgICAgYXdhaXQgdGhpcy52YXVsdC5sb2NrKCk7XG4gICAgICAgIHRoaXMuc2Vzc2lvbiA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgYXN5bmMgbG9nb3V0KCkge1xuICAgICAgICBhd2FpdCB0aGlzLnJlYWR5KCk7XG4gICAgICAgIGF3YWl0IHRoaXMudmF1bHQuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5zZXNzaW9uID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9jb25maWcgPSBhd2FpdCB0aGlzLnZhdWx0LmdldENvbmZpZygpO1xuICAgIH1cbiAgICBhc3luYyBoYXNTdG9yZWRTZXNzaW9uKCkge1xuICAgICAgICBhd2FpdCB0aGlzLnJlYWR5KCk7XG4gICAgICAgIHJldHVybiB0aGlzLnZhdWx0LmlzSW5Vc2UoKTtcbiAgICB9XG4gICAgYXN5bmMgc2V0QmlvbWV0cmljc0VuYWJsZWQoaXNCaW9tZXRyaWNzRW5hYmxlZCkge1xuICAgICAgICBhd2FpdCB0aGlzLnJlYWR5KCk7XG4gICAgICAgIHJldHVybiB0aGlzLl9zZXRCaW9tZXRyaWNzRW5hYmxlZChpc0Jpb21ldHJpY3NFbmFibGVkKTtcbiAgICB9XG4gICAgYXN5bmMgX3NldEJpb21ldHJpY3NFbmFibGVkKGlzQmlvbWV0cmljc0VuYWJsZWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmF1bHQuc2V0QmlvbWV0cmljc0VuYWJsZWQoaXNCaW9tZXRyaWNzRW5hYmxlZCk7XG4gICAgfVxuICAgIGFzeW5jIHNldEhpZGVTY3JlZW5PbkJhY2tncm91bmQoZW5hYmxlZCkge1xuICAgICAgICBhd2FpdCB0aGlzLnJlYWR5KCk7XG4gICAgICAgIHJldHVybiB0aGlzLnZhdWx0LnNldEhpZGVTY3JlZW5PbkJhY2tncm91bmQoZW5hYmxlZCk7XG4gICAgfVxuICAgIGFzeW5jIHNldFBhc3Njb2RlRW5hYmxlZChpc1Bhc3Njb2RlRW5hYmxlZCkge1xuICAgICAgICBhd2FpdCB0aGlzLnJlYWR5KCk7XG4gICAgICAgIGF3YWl0IHRoaXMuX3NldFBhc3Njb2RlRW5hYmxlZChpc1Bhc3Njb2RlRW5hYmxlZCk7XG4gICAgfVxuICAgIGFzeW5jIF9zZXRQYXNzY29kZUVuYWJsZWQoaXNQYXNzY29kZUVuYWJsZWQpIHtcbiAgICAgICAgYXdhaXQgdGhpcy52YXVsdC5zZXRQYXNzY29kZUVuYWJsZWQoaXNQYXNzY29kZUVuYWJsZWQpO1xuICAgICAgICB0aGlzLl9jb25maWcgPSBhd2FpdCB0aGlzLnZhdWx0LmdldENvbmZpZygpO1xuICAgICAgICBpZiAodGhpcy5jb25maWcuaXNQYXNzY29kZVNldHVwTmVlZGVkKSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLl9zZXRQYXNzY29kZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIGlzQmlvbWV0cmljc0VuYWJsZWQoKSB7XG4gICAgICAgIGF3YWl0IHRoaXMucmVhZHkoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMudmF1bHQuaXNCaW9tZXRyaWNzRW5hYmxlZCgpO1xuICAgIH1cbiAgICBhc3luYyBpc0Jpb21ldHJpY3NBdmFpbGFibGUoKSB7XG4gICAgICAgIGF3YWl0IHRoaXMucmVhZHkoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMudmF1bHQuaXNCaW9tZXRyaWNzQXZhaWxhYmxlKCk7XG4gICAgfVxuICAgIGFzeW5jIGlzQmlvbWV0cmljc1N1cHBvcnRlZCgpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5yZWFkeSgpO1xuICAgICAgICByZXR1cm4gdGhpcy52YXVsdC5pc0Jpb21ldHJpY3NTdXBwb3J0ZWQoKTtcbiAgICB9XG4gICAgYXN5bmMgaXNTZWN1cmVTdG9yYWdlTW9kZUVuYWJsZWQoKSB7XG4gICAgICAgIGF3YWl0IHRoaXMucmVhZHkoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMudmF1bHQuaXNTZWN1cmVTdG9yYWdlTW9kZUVuYWJsZWQoKTtcbiAgICB9XG4gICAgYXN5bmMgaXNQYXNzY29kZUVuYWJsZWQoKSB7XG4gICAgICAgIGF3YWl0IHRoaXMucmVhZHkoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMudmF1bHQuaXNQYXNzY29kZUVuYWJsZWQoKTtcbiAgICB9XG4gICAgYXN5bmMgX3NldEF1dGhNb2RlKGF1dGhNb2RlKSB7XG4gICAgICAgIGF1dGhNb2RlID0gYXV0aE1vZGUgIT09IHVuZGVmaW5lZCA/IGF1dGhNb2RlIDogdGhpcy5jb25maWcuYXV0aE1vZGU7XG4gICAgICAgIGlmIChhdXRoTW9kZSA9PT0gdGhpcy5jb25maWcuYXV0aE1vZGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzd2l0Y2ggKGF1dGhNb2RlKSB7XG4gICAgICAgICAgICBjYXNlIEF1dGhNb2RlLkJpb21ldHJpY09ubHk6XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5fc2V0QmlvbWV0cmljc0VuYWJsZWQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5fc2V0UGFzc2NvZGVFbmFibGVkKGZhbHNlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgQXV0aE1vZGUuUGFzc2NvZGVPbmx5OlxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuX3NldFBhc3Njb2RlRW5hYmxlZCh0cnVlKTtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLl9zZXRCaW9tZXRyaWNzRW5hYmxlZChmYWxzZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEF1dGhNb2RlLkJpb21ldHJpY0FuZFBhc3Njb2RlOlxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuX3NldFBhc3Njb2RlRW5hYmxlZCh0cnVlKTtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLl9zZXRCaW9tZXRyaWNzRW5hYmxlZCh0cnVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgQXV0aE1vZGUuQmlvbWV0cmljT3JQYXNzY29kZTpcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLl9zZXRCaW9tZXRyaWNzRW5hYmxlZCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5fc2V0UGFzc2NvZGVFbmFibGVkKGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuX3NldFBhc3Njb2RlRW5hYmxlZCh0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEF1dGhNb2RlLkluTWVtb3J5T25seTpcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLl9zZXRQYXNzY29kZUVuYWJsZWQoZmFsc2UpO1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuX3NldEJpb21ldHJpY3NFbmFibGVkKGZhbHNlKTtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnZhdWx0LnNldFNlY3VyZVN0b3JhZ2VNb2RlRW5hYmxlZChmYWxzZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEF1dGhNb2RlLlNlY3VyZVN0b3JhZ2U6XG4gICAgICAgICAgICAgICAgLy8gTm90ZTogU2V0dGluZyB0aGlzIG1vZGUgYXV0b21hdGljYWxseSBkaXNhYmxlcyB0aGUgb3RoZXIgbW9kZXMgaW4gbmF0aXZlIGNvZGUuXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy52YXVsdC5zZXRTZWN1cmVTdG9yYWdlTW9kZUVuYWJsZWQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby10aHJvdy1saXRlcmFsXG4gICAgICAgICAgICAgICAgdGhyb3cgeyBjb2RlOiBWYXVsdEVycm9yQ29kZXMuSW52YWxpZEF1dGhNb2RlLCBtZXNzYWdlOiAnSW52YWxpZCBBdXRoTW9kZScgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBfdHJ5U2V0QXV0aE1vZGUoYXV0aE1vZGUpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuX3NldEF1dGhNb2RlKGF1dGhNb2RlKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGlmIChlcnJvci5jb2RlICE9PSBWYXVsdEVycm9yQ29kZXMuQmlvbWV0cmljc05vdEVuYWJsZWQgJiYgZXJyb3IuY29kZSAhPT0gVmF1bHRFcnJvckNvZGVzLlNlY3VyaXR5Tm90QXZhaWxhYmxlKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgc2V0QXV0aE1vZGUoYXV0aE1vZGUpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5yZWFkeSgpO1xuICAgICAgICByZXR1cm4gdGhpcy5fc2V0QXV0aE1vZGUoYXV0aE1vZGUpO1xuICAgIH1cbiAgICBhc3luYyBnZXRBdXRoTW9kZSgpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5yZWFkeSgpO1xuICAgICAgICB0aGlzLl9jb25maWcgPSBhd2FpdCB0aGlzLnZhdWx0LmdldENvbmZpZygpO1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5vbi1udWxsLWFzc2VydGlvblxuICAgICAgICByZXR1cm4gdGhpcy5jb25maWcuYXV0aE1vZGU7XG4gICAgfVxufVxuXG5jbGFzcyBNaWdyYXRvclZhdWx0IGV4dGVuZHMgSW9uaWNJZGVudGl0eVZhdWx0VXNlciB7XG4gICAgLyoqIEBpZ25vcmUgKi9cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zLCBvblBhc3Njb2RlUmVxdWVzdCwgZGVzY3JpcHRvcikge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICByZWFkeTogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKHRydWUpLFxuICAgICAgICB9LCBvcHRpb25zLCBkZXNjcmlwdG9yKTtcbiAgICAgICAgaWYgKG9uUGFzc2NvZGVSZXF1ZXN0KSB7XG4gICAgICAgICAgICB0aGlzLm9uUGFzc2NvZGVSZXF1ZXN0ID0gb25QYXNzY29kZVJlcXVlc3Q7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGljIGdldEluc3RhbmNlKG9wdGlvbnMsIG9uUGFzc2NvZGVSZXF1ZXN0LCBkZXNjcmlwdG9yKSB7XG4gICAgICAgIGlmICghTWlncmF0b3JWYXVsdC5pbnN0YW5jZSkge1xuICAgICAgICAgICAgTWlncmF0b3JWYXVsdC5pbnN0YW5jZSA9IG5ldyBNaWdyYXRvclZhdWx0KG9wdGlvbnMsIG9uUGFzc2NvZGVSZXF1ZXN0LCBkZXNjcmlwdG9yKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gTWlncmF0b3JWYXVsdC5pbnN0YW5jZTtcbiAgICB9XG59XG5NaWdyYXRvclZhdWx0Lmluc3RhbmNlID0gdW5kZWZpbmVkO1xuY2xhc3MgVmF1bHRNaWdyYXRvciB7XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAdXNhZ2VcbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogY29uc3QgbGVnYWN5VmF1bHRDb25maWcgPSB7XG4gICAgICogIHVubG9ja09uQWNjZXNzOiB0cnVlLFxuICAgICAqICBoaWRlU2NyZWVuT25CYWNrZ3JvdW5kOiB0cnVlLFxuICAgICAqICBsb2NrQWZ0ZXI6IDUwMDAsXG4gICAgICogIC8vIGFuZCBtb3JlIC4uLi5cbiAgICAgKiB9XG4gICAgICogY29uc3QgbWlncmF0b3IgPSBuZXcgVmF1bHRNaWdyYXRvcihsZWdhY3lWYXVsdENvbmZpZywgY3VzdG9tUGFzc2NvZGVQcm9tcHQpO1xuICAgICAqIGBgYFxuICAgICAqIEBwYXJhbSBvcHRpb25zIFRoZSBsZWdhY3kgdmF1bHQgY29uZmlndXJhdGlvbiBvcHRpb25zXG4gICAgICogQHBhcmFtIG9uUGFzc2NvZGVSZXF1ZXN0IEFuIG9wdGlvbmFsIGNhbGxiYWNrIGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBjYWxsZWQgd2hlbiB0aGUgdmF1bHQgYXR0ZW1wdHMgdG8gcmVxdWVzdCBhIHBhc3Njb2RlLiBUaGUgZnVuY3Rpb24gcmV0dXJucyBhIHByb21pc2Ugd2l0aCBhIGJvb2xlYW4gdGhhdCBpbmRpY2F0ZXMgaWYgdGhlIHBhc3Njb2RlIGlzIGJlaW5nIHNldHVwIGZvciB0aGUgZmlyc3QgdGltZSBmb3IgdGhlIHZhdWx0IG9yIG5vdC5cbiAgICAgKiBAcGFyYW0gZGVzY3JpcHRvciBBbiBvcHRpb25hbCBpbnRlcmZhY2UgdGhhdCBkZXNjcmliZXMgdGhlIGxlZ2FjeSB2YXVsdC5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zLCBvblBhc3Njb2RlUmVxdWVzdCwgZGVzY3JpcHRvcikge1xuICAgICAgICB0aGlzLm1pZ3JhdG9yU2Vzc2lvbiA9IG5ldyBNaWdyYXRvclZhdWx0KG9wdGlvbnMsIG9uUGFzc2NvZGVSZXF1ZXN0LCBkZXNjcmlwdG9yKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRXhwb3J0cyB0aGUgZGF0YSBvZiB0aGUgbGVnYWN5IHZhdWx0IGluIGl0cyBlbnRpcmV0eS5cbiAgICAgKlxuICAgICAqIEB1c2FnZVxuICAgICAqIGBgYHR5cGVzY3JpcHRcbiAgICAgKiBjb25zdCBkYXRhID0gYXdhaXQgbWlncmF0b3IuZXhwb3J0VmF1bHQoKTtcbiAgICAgKiBjb25zb2xlLmxvZyhcIkBAVkFVTFQgREFUQTogXCIsIEpTT04uc3RyaW5naWZ5KGRhdGEpKTtcbiAgICAgKiBgYGBcbiAgICAgKiBAcmV0dXJuc1xuICAgICAqL1xuICAgIGFzeW5jIGV4cG9ydFZhdWx0KCkge1xuICAgICAgICBpZiAoIShhd2FpdCB0aGlzLm1pZ3JhdG9yU2Vzc2lvbi5oYXNTdG9yZWRTZXNzaW9uKCkpKSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcignbm8gZGF0YSBpbiBsZWdhY3kgdmF1bHQnKTtcbiAgICAgICAgfVxuICAgICAgICBhd2FpdCB0aGlzLm1pZ3JhdG9yU2Vzc2lvbi51bmxvY2soKTtcbiAgICAgICAgY29uc3QgdmF1bHQgPSBhd2FpdCB0aGlzLm1pZ3JhdG9yU2Vzc2lvbi5nZXRWYXVsdCgpO1xuICAgICAgICBjb25zdCBrZXlzID0gYXdhaXQgdmF1bHQuZ2V0S2V5cygpO1xuICAgICAgICBjb25zdCB2YXVsdERhdGEgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgb2Yga2V5cykge1xuICAgICAgICAgICAgdmF1bHREYXRhW2tleV0gPSBhd2FpdCB2YXVsdC5nZXRWYWx1ZShrZXkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YXVsdERhdGE7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsZWFycyBvdXQgdGhlIGxlZ2FjeSB2YXVsdCBhbmQgcmVtb3ZlcyBpdCBmcm9tIHRoZSBzeXN0ZW0uICBCZSBzdXJlIHRvIHJ1biB7QGxpbmsgVmF1bHRNaWdyYXRvci5leHBvcnRWYXVsdH0gYmVmb3JlIGNhbGxpbmcgdGhpcyBtZXRob2QuXG4gICAgICpcbiAgICAgKiBAdXNhZ2VcbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogY29uc3QgZGF0YSA9IGF3YWl0IG1pZ3JhdG9yLmV4cG9ydFZhdWx0KCk7XG4gICAgICogYXdhaXQgaW1wb3J0VmF1bHQoZGF0YSk7XG4gICAgICogYXdhaXQgbWlncmF0b3IuY2xlYXIoKTtcbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBhc3luYyBjbGVhcigpIHtcbiAgICAgICAgY29uc3QgdmF1bHQgPSBhd2FpdCB0aGlzLm1pZ3JhdG9yU2Vzc2lvbi5nZXRWYXVsdCgpO1xuICAgICAgICByZXR1cm4gdmF1bHQuY2xlYXIoKTtcbiAgICB9XG59XG5cbmNsYXNzIFRhc2tRdWV1ZSB7XG4gICAgLy8gUHJpdmF0ZSBjb25zdHJ1Y3RvciB0byBwcmV2ZW50IGNyZWF0aW5nIG5ldyBpbnN0YW5jZXMgb2YgdGhlIGNsYXNzXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMucXVldWUgPSBbXTtcbiAgICAgICAgdGhpcy5pc1Byb2Nlc3NpbmcgPSBmYWxzZTtcbiAgICB9XG4gICAgLy8gUHVibGljIHN0YXRpYyBtZXRob2QgdG8gZ2V0IHRoZSBzaW5nbGV0b24gaW5zdGFuY2Ugb2YgVGFza1F1ZXVlXG4gICAgc3RhdGljIGdldEluc3RhbmNlKCkge1xuICAgICAgICBpZiAoIVRhc2tRdWV1ZS5pbnN0YW5jZSkge1xuICAgICAgICAgICAgVGFza1F1ZXVlLmluc3RhbmNlID0gbmV3IFRhc2tRdWV1ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBUYXNrUXVldWUuaW5zdGFuY2U7XG4gICAgfVxuICAgIC8vIEFkZCBhIG5ldyB0YXNrIHRvIHRoZSBxdWV1ZSBhbmQgcHJvY2VzcyBpdCBpZiBub3QgYWxyZWFkeSBwcm9jZXNzaW5nXG4gICAgYXN5bmMgYWRkVGFzayh0YXNrKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1hc3luYy1wcm9taXNlLWV4ZWN1dG9yXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCB3cmFwcGVkVGFzayA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0YXNrKCk7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMucXVldWUucHVzaCh3cmFwcGVkVGFzayk7XG4gICAgICAgICAgICBpZiAoIXRoaXMuaXNQcm9jZXNzaW5nKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wcm9jZXNzVGFza3MoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vIFByb2Nlc3MgdGhlIHRhc2tzIGluIHRoZSBxdWV1ZSBvbmUgYnkgb25lXG4gICAgYXN5bmMgcHJvY2Vzc1Rhc2tzKCkge1xuICAgICAgICB0aGlzLmlzUHJvY2Vzc2luZyA9IHRydWU7XG4gICAgICAgIHdoaWxlICh0aGlzLnF1ZXVlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IHRhc2sgPSB0aGlzLnF1ZXVlLnNoaWZ0KCk7XG4gICAgICAgICAgICBpZiAodGFzaykge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRhc2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmlzUHJvY2Vzc2luZyA9IGZhbHNlO1xuICAgIH1cbn1cblxudmFyIFZhdWx0VHlwZTtcbihmdW5jdGlvbiAoVmF1bHRUeXBlKSB7XG4gICAgVmF1bHRUeXBlW1wiRGV2aWNlU2VjdXJpdHlcIl0gPSBcIkRldmljZVNlY3VyaXR5XCI7XG59KShWYXVsdFR5cGUgfHwgKFZhdWx0VHlwZSA9IHt9KSk7XG52YXIgTG9nTGV2ZWw7XG4oZnVuY3Rpb24gKExvZ0xldmVsKSB7XG4gICAgTG9nTGV2ZWxbXCJEZWJ1Z1wiXSA9IFwiREVCVUdcIjtcbiAgICBMb2dMZXZlbFtcIkluZm9cIl0gPSBcIklORk9cIjtcbiAgICBMb2dMZXZlbFtcIldhcm5pbmdcIl0gPSBcIldBUk5JTkdcIjtcbiAgICBMb2dMZXZlbFtcIkVycm9yXCJdID0gXCJFUlJPUlwiO1xufSkoTG9nTGV2ZWwgfHwgKExvZ0xldmVsID0ge30pKTtcblxuY29uc3QgdGFza1F1ZXVlID0gVGFza1F1ZXVlLmdldEluc3RhbmNlKCk7XG4vLyBOb3QgcHJvcGVybHkgaW1wbGVtZW50ZWQgeWV0LCByZXNvbHZlIG5lZWRzIHRvIGJlIHJlcGxhY2VkIHdpdGhcbi8vIGEganNvbiBvYmplY3QgcGFyc2UgZnJvbSB0aGUgc3RyaW5nIHJldHVybmVkIGZyb20gZnJvbSBuYXRpdmUgYW5kIHJldHVybiB0eXBlIG5lZWRzIGNoYW5nZSBmcm9tIFByb21pc2U8YW55Pi5cbmFzeW5jIGZ1bmN0aW9uIGdldENvbmZpZ0ZvclZhdWx0SWQodmF1bHRJZCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGNvcmRvdmEuZXhlYyhyZXNvbHZlLCByZWplY3QsICdJZGVudGl0eVZhdWx0UGx1Z2luJywgJ2dldENvbmZpZ0ZvclZhdWx0SWQnLCBbeyB2YXVsdElkIH1dKTtcbiAgICB9KTtcbn1cbi8vIE5vdCBwcm9wZXJseSBpbXBsZW1lbnRlZCB5ZXQgb24gbmF0aXZlIHNpZGUuXG5hc3luYyBmdW5jdGlvbiBkZXN0cm95VmF1bHRCeVZhdWx0SWQodmF1bHRJZCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGNvcmRvdmEuZXhlYyhyZXNvbHZlLCByZWplY3QsICdJZGVudGl0eVZhdWx0UGx1Z2luJywgJ2Rlc3Ryb3lWYXVsdEJ5VmF1bHRJZCcsIFt7IHZhdWx0SWQgfV0pO1xuICAgIH0pO1xufVxuLy8gTm90IHByb3Blcmx5IGltcGxlbWVudGVkIHlldCwgcmVzb2x2ZSBuZWVkcyB0byBiZSByZXBsYWNlZCB3aXRoIHN3aXRjaCB0aGF0XG4vLyByZXR1cm4gVmF1bHR0eXBlIGVudW0gdmFsdWUgYmFzZWQgb24gc3RyaW5nIGZyb20gbmF0aXZlLlxuYXN5bmMgZnVuY3Rpb24gZ2V0VmF1bHRUeXBlRm9yVmF1bHRJZCh2YXVsdElkKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgY29yZG92YS5leGVjKHJlc29sdmUsIHJlamVjdCwgJ0lkZW50aXR5VmF1bHRQbHVnaW4nLCAnZ2V0VmF1bHRUeXBlRm9yVmF1bHRJZCcsIFt7IHZhdWx0SWQgfV0pO1xuICAgIH0pO1xufVxuY2xhc3MgSWRlbnRpdHlWYXVsdEJhc2VDbGFzcyB7XG4gICAgY29uc3RydWN0b3IodmF1bHRJZCkge1xuICAgICAgICB0aGlzLnZhdWx0SWQgPSB2YXVsdElkO1xuICAgIH1cbiAgICBzdGF0aWMgYXN5bmMgZ2V0T3JDcmVhdGVWYXVsdCh2YXVsdElkLCBvcHRpb25zLCB2YXVsdFR5cGUpIHtcbiAgICAgICAgYXdhaXQgdGFza1F1ZXVlLmFkZFRhc2soKCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBjb3Jkb3ZhLmV4ZWMocmVzb2x2ZSwgKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICB9LCAnSWRlbnRpdHlWYXVsdFBsdWdpbicsICdnZXRPckNyZWF0ZScsIFt7IHZhdWx0SWQsIG9wdGlvbnMsIHZhdWx0VHlwZSB9XSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNsZWFyKCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01ldGhvZCBub3QgaW1wbGVtZW50ZWQuJyk7XG4gICAgfVxuICAgIGFzeW5jIGRlc3Ryb3koKSB7XG4gICAgICAgIGF3YWl0IHRhc2tRdWV1ZS5hZGRUYXNrKCgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgY29yZG92YS5leGVjKHJlc29sdmUsIHJlamVjdCwgJ0lkZW50aXR5VmF1bHRQbHVnaW4nLCAnZGVzdHJveScsIFt7IHZhdWx0SWQ6IHRoaXMudmF1bHRJZCB9XSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGV4aXN0cygpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNZXRob2Qgbm90IGltcGxlbWVudGVkLicpO1xuICAgIH1cbiAgICBleHBvcnRWYXVsdERhdGEoKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC4nKTtcbiAgICB9XG4gICAgZ2V0VmFsdWUoa2V5KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC4nKTtcbiAgICB9XG4gICAgZ2V0VmFsdWVzKGtleXMpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNZXRob2Qgbm90IGltcGxlbWVudGVkLicpO1xuICAgIH1cbiAgICBpbXBvcnRWYXVsdERhdGEoKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC4nKTtcbiAgICB9XG4gICAgaXNFbXB0eSgpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNZXRob2Qgbm90IGltcGxlbWVudGVkLicpO1xuICAgIH1cbiAgICBpc0xvY2tlZCgpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNZXRob2Qgbm90IGltcGxlbWVudGVkLicpO1xuICAgIH1cbiAgICBsb2NrKCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01ldGhvZCBub3QgaW1wbGVtZW50ZWQuJyk7XG4gICAgfVxuICAgIG9uRXJyb3IoaGFuZGxlcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01ldGhvZCBub3QgaW1wbGVtZW50ZWQuJyk7XG4gICAgfVxuICAgIG9uTG9jayhoYW5kbGVyKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC4nKTtcbiAgICB9XG4gICAgb25VbmxvY2soaGFuZGxlcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01ldGhvZCBub3QgaW1wbGVtZW50ZWQuJyk7XG4gICAgfVxuICAgIHJlbW92ZVZhbHVlKCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01ldGhvZCBub3QgaW1wbGVtZW50ZWQuJyk7XG4gICAgfVxuICAgIHNldExvY2tBZnRlckJhY2tncm91bmRlZFRpbWUoKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC4nKTtcbiAgICB9XG4gICAgc2V0VmFsdWUoa2V5LCB2YWx1ZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01ldGhvZCBub3QgaW1wbGVtZW50ZWQuJyk7XG4gICAgfVxuICAgIHNldFZhbHVlcyh2YWx1ZXMpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNZXRob2Qgbm90IGltcGxlbWVudGVkLicpO1xuICAgIH1cbiAgICB1bmxvY2soKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC4nKTtcbiAgICB9XG4gICAgZ2V0VHlwZSgpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNZXRob2Qgbm90IGltcGxlbWVudGVkLicpO1xuICAgIH1cbn1cbmNsYXNzIERldmljZVNlY3VyaXR5VmF1bHQgZXh0ZW5kcyBJZGVudGl0eVZhdWx0QmFzZUNsYXNzIHtcbiAgICBjb25zdHJ1Y3Rvcih2YXVsdElkKSB7XG4gICAgICAgIHN1cGVyKHZhdWx0SWQpO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0SW5zdGFuY2UodmF1bHRJZCkge1xuICAgICAgICBpZiAoIURldmljZVNlY3VyaXR5VmF1bHQuaW5zdGFuY2VzW3ZhdWx0SWRdKSB7XG4gICAgICAgICAgICBEZXZpY2VTZWN1cml0eVZhdWx0Lmluc3RhbmNlc1t2YXVsdElkXSA9IG5ldyBEZXZpY2VTZWN1cml0eVZhdWx0KHZhdWx0SWQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBEZXZpY2VTZWN1cml0eVZhdWx0Lmluc3RhbmNlc1t2YXVsdElkXTtcbiAgICB9XG4gICAgc3RhdGljIGFzeW5jIGdldE9yQ3JlYXRlKHZhdWx0SWQsIG9wdGlvbnMpIHtcbiAgICAgICAgYXdhaXQgSWRlbnRpdHlWYXVsdEJhc2VDbGFzcy5nZXRPckNyZWF0ZVZhdWx0KHZhdWx0SWQsIG9wdGlvbnMsIFZhdWx0VHlwZS5EZXZpY2VTZWN1cml0eSk7XG4gICAgICAgIHJldHVybiBEZXZpY2VTZWN1cml0eVZhdWx0LmdldEluc3RhbmNlKHZhdWx0SWQpO1xuICAgIH1cbiAgICBhc3luYyBkZXN0cm95KCkge1xuICAgICAgICBhd2FpdCBzdXBlci5kZXN0cm95KCk7XG4gICAgICAgIGRlbGV0ZSBEZXZpY2VTZWN1cml0eVZhdWx0Lmluc3RhbmNlc1t0aGlzLnZhdWx0SWRdO1xuICAgIH1cbiAgICBhc3luYyBnZXRUeXBlKCkge1xuICAgICAgICByZXR1cm4gVmF1bHRUeXBlLkRldmljZVNlY3VyaXR5O1xuICAgIH1cbn1cbkRldmljZVNlY3VyaXR5VmF1bHQuaW5zdGFuY2VzID0ge307XG5cbmV4cG9ydCB7IEFuZHJvaWRCaW9tZXRyaWNDcnlwdG9QcmVmZXJlbmNlLCBBdXRoTW9kZSwgQmlvbWV0cmljUGVybWlzc2lvblN0YXRlLCBCaW9tZXRyaWNTZWN1cml0eVN0cmVuZ3RoLCBCcm93c2VyVmF1bHQsIERldmljZSwgRGV2aWNlRXJyb3JDb2RlcywgRGV2aWNlU2VjdXJpdHlUeXBlLCBEZXZpY2VTZWN1cml0eVZhdWx0LCBTdXBwb3J0ZWRCaW9tZXRyaWNUeXBlLCBWYXVsdCwgVmF1bHRFcnJvckNvZGVzLCBWYXVsdE1pZ3JhdG9yLCBWYXVsdFR5cGUkMSBhcyBWYXVsdFR5cGUsIGRlc3Ryb3lWYXVsdEJ5VmF1bHRJZCwgZ2V0Q29uZmlnRm9yVmF1bHRJZCwgZ2V0VmF1bHRUeXBlRm9yVmF1bHRJZCB9O1xuIl0sIm5hbWVzIjpbIlZhdWx0RXJyb3JDb2RlcyIsIkRldmljZUVycm9yQ29kZXMiLCJTdXBwb3J0ZWRCaW9tZXRyaWNUeXBlIiwiQmlvbWV0cmljU2VjdXJpdHlTdHJlbmd0aCIsIkJpb21ldHJpY1Blcm1pc3Npb25TdGF0ZSIsIkRldmljZVNlY3VyaXR5VHlwZSIsIlZhdWx0VHlwZSQxIiwiVmF1bHRUeXBlIiwiQW5kcm9pZEJpb21ldHJpY0NyeXB0b1ByZWZlcmVuY2UiLCJBdXRoTW9kZSIsIl9fcmVzdCIsInMiLCJlIiwidCIsInAiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJpbmRleE9mIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwiaSIsImxlbmd0aCIsInByb3BlcnR5SXNFbnVtZXJhYmxlIiwiU1RPUkFHRV9LRVlTIiwiREFUQSIsIkJyb3dzZXJWYXVsdCIsImNvbnN0cnVjdG9yIiwiY29uZmlnIiwiaXNWYXVsdExvY2tlZCIsImlzVmF1bHRFbXB0eSIsImNvbnNvbGUiLCJ3YXJuIiwiYXNzaWduIiwiZGV2aWNlU2VjdXJpdHlUeXBlIiwiYW5kcm9pZEJpb21ldHJpY3NQcmVmZXJTdHJvbmdWYXVsdE9yU3lzdGVtUGFzc2NvZGUiLCJzaG91bGRDbGVhclZhdWx0QWZ0ZXJUb29NYW55RmFpbGVkQXR0ZW1wdHMiLCJjdXN0b21QYXNzY29kZUludmFsaWRVbmxvY2tBdHRlbXB0cyIsInVubG9ja1ZhdWx0T25Mb2FkIiwiZG9lc1ZhdWx0RXhpc3QiLCJkYXRhIiwiZ2V0RGF0YU9iaiIsIlByb21pc2UiLCJyZXNvbHZlIiwiY2xlYXIiLCJ1bmxvY2tJZkxvY2tlZCIsInNlc3Npb25TdG9yYWdlIiwicmVtb3ZlSXRlbSIsImdldEtleSIsImV4cG9ydFZhdWx0IiwiaW1wb3J0VmF1bHQiLCJzZXREYXRhT2JqIiwiaXNMb2NrZWQiLCJpc0VtcHR5IiwiZ2V0S2V5cyIsImtleXMiLCJnZXRWYWx1ZSIsImtleSIsIl9hIiwibG9jayIsImxvY2tDYWxsYmFjayIsInRpbWVvdXQiLCJyZW1vdmVWYWx1ZSIsIl9iIiwiZGF0YUFmdGVyUmVtb3ZhbCIsInNldEN1c3RvbVBhc3Njb2RlIiwicGFzc2NvZGUiLCJzZXRWYWx1ZSIsInZhbHVlIiwib25Db25maWdDaGFuZ2VkIiwiY2FsbGJhY2siLCJjb25maWdDYWxsYmFjayIsIm9uRXJyb3IiLCJlcnJvckNhbGxiYWNrIiwib25Mb2NrIiwib25QYXNzY29kZVJlcXVlc3RlZCIsIm9uVW5sb2NrIiwidW5sb2NrQ2FsbGJhY2siLCJ1bmxvY2siLCJ1cGRhdGVDb25maWciLCJyZXF1ZXN0QmlvbWV0cmljUHJvbXB0IiwiZ2V0SXRlbSIsImRhdGFPYmoiLCJKU09OIiwicGFyc2UiLCJtZXNzYWdlIiwiY29kZSIsIlVua25vd24iLCJkYXRhU3RyIiwic3RyaW5naWZ5Iiwic2V0SXRlbSIsIlZhdWx0IiwiZGVmYXVsdENvbmZpZyIsIk5vbmUiLCJTdHJvbmdWYXVsdCIsInR5cGUiLCJEZXZpY2VTZWN1cml0eSIsIkJvdGgiLCJyZXN1bWUiLCJiaW5kIiwiaGFuZGxlRXJyb3IiLCJzZXR1cCIsInRoZW4iLCJnZXRQZXJzaXN0ZWRWYXVsdENvbmZpZyIsInJlamVjdCIsImNvcmRvdmEiLCJleGVjIiwiZXJyb3IiLCJqc29uRGF0YSIsImVyciIsImpzb25WYWx1ZSIsImQiLCJwYXNzQ29kZVJlcXVlc3RlZENhbGxiYWNrIiwicmV0cnlGdW5jIiwiTWlzc2luZ1Bhc3Njb2RlIiwiY2hlY2tSZXRyeSIsInJlcyIsImV4dHJhIiwiaXNQYXNzY29kZVNldFJlcXVlc3QiLCJNaXNzaW5nQmlvbWV0cmljcyIsIm5vb3AiLCJkb2N1bWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJ2YXVsdENvbmZpZyIsIkRldmljZSIsImdldEF2YWlsYWJsZUhhcmR3YXJlIiwid2luZG93IiwiaXNMb2NrZWRPdXRPZkJpb21ldHJpY3MiLCJnZXRCaW9tZXRyaWNTdHJlbmd0aExldmVsIiwiV2VhayIsImlzSGlkZVNjcmVlbk9uQmFja2dyb3VuZEVuYWJsZWQiLCJzZXRIaWRlU2NyZWVuT25CYWNrZ3JvdW5kIiwiZW5hYmxlZCIsImRpbUJpb21ldHJpY3MiLCJpc1N5c3RlbVBhc3Njb2RlU2V0IiwiaXNCaW9tZXRyaWNzRW5hYmxlZCIsImxvZyIsImlzQmlvbWV0cmljc0FsbG93ZWQiLCJEZW5pZWQiLCJpc0Jpb21ldHJpY3NTdXBwb3J0ZWQiLCJoYXNTZWN1cmVIYXJkd2FyZSIsInNob3dCaW9tZXRyaWNQcm9tcHQiLCJJb25pY0lkZW50aXR5VmF1bHRVc2VyIiwicGxhdGZvcm0iLCJvcHRpb25zIiwiZGVzY3JpcHRvciIsIl9yZWFkeUNhbGxlZCIsInVzZXJuYW1lIiwidmF1bHRJZCIsIl9yZWFkeVByb21pc2UiLCJpbml0aWFsaXplVmF1bHQiLCJ0b2tlbiIsInNlc3Npb24iLCJfY29uZmlnIiwidW5kZWZpbmVkIiwiYXV0aE1vZGUiLCJiaW9FbmFibGVkIiwicGFzc0VuYWJsZWQiLCJpc1Bhc3Njb2RlRW5hYmxlZCIsInNlY3VyZVN0b3JhZ2VNb2RlIiwiaXNTZWN1cmVTdG9yYWdlTW9kZUVuYWJsZWQiLCJTZWN1cmVTdG9yYWdlIiwiQmlvbWV0cmljQW5kUGFzc2NvZGUiLCJCaW9tZXRyaWNPbmx5IiwiUGFzc2NvZGVPbmx5IiwiSW5NZW1vcnlPbmx5IiwiaXNQYXNzY29kZVNldHVwTmVlZGVkIiwibG9ja0FmdGVyIiwiaGlkZVNjcmVlbk9uQmFja2dyb3VuZCIsIm9uVmF1bHRMb2NrZWQiLCJfZXZlbnQiLCJvblNlc3Npb25SZXN0b3JlRXJyb3IiLCJfZXJyIiwib25VbmxvY2tPblJlYWR5RXJyb3IiLCJvblZhdWx0VW5sb2NrZWQiLCJvblZhdWx0UmVhZHkiLCJvblNldHVwRXJyb3IiLCJfZXJyb3IiLCJvbkNvbmZpZ0NoYW5nZSIsIm9uU2Vzc2lvblJlc3RvcmVkIiwiX3Nlc3Npb24iLCJvblBhc3Njb2RlUmVxdWVzdCIsIl9pc1Bhc3Njb2RlU2V0UmVxdWVzdCIsIm9uUmVhZHkiLCJ2YXVsdCIsImluVXNlIiwiaXNJblVzZSIsImxvY2tlZCIsInJlc3RvcmVTZXNzaW9uRXJyb3IiLCJyZXN0b3JlU2Vzc2lvbk9uUmVhZHkiLCJfcmVzdG9yZVNlc3Npb24iLCJ1bmxvY2tPblJlYWR5RXJyb3IiLCJ1bmxvY2tPblJlYWR5IiwiX3VubG9jayIsIl90cnlTZXRBdXRoTW9kZSIsIl9yZWFkeVJlc29sdmUiLCJldmVudCIsInJlYWR5IiwiX3JlYWR5UmVqZWN0Iiwib25Db25maWciLCJCaW9tZXRyaWNPclBhc3Njb2RlIiwidW5sb2NrV2l0aFBhc3Njb2RlIiwiaGFuZGxlYWJsZUVycm9ycyIsIkF1dGhGYWlsZWQiLCJCaW9tZXRyaWNzTm90RW5hYmxlZCIsIlVzZXJDYW5jZWxlZEludGVyYWN0aW9uIiwiSW52YWxpZGF0ZWRDcmVkZW50aWFsIiwicmVzdG9yZVNlc3Npb24iLCJzYXZlU2Vzc2lvbiIsIl9zZXRQYXNzY29kZSIsIlZhdWx0TG9ja2VkIiwic2V0UGFzc2NvZGUiLCJnZXRTZXNzaW9uIiwidW5sb2NrT25BY2Nlc3MiLCJzdG9yZVZhbHVlIiwiU2VjdXJpdHlOb3RBdmFpbGFibGUiLCJnZXRBdXRoTW9kZSIsInNldEF1dGhNb2RlIiwibG9naW4iLCJsb2dvdXQiLCJnZXRWYXVsdCIsInZJb25pY05hdGl2ZUF1dGgiLCJnZXRQbHVnaW4iLCJyZWFkeVByb21pc2UiLCJhbGxvd1N5c3RlbVBpbkZhbGxiYWNrIiwiYW5kcm9pZFByb21wdE5lZ2F0aXZlQnV0dG9uVGV4dCIsImFuZHJvaWRQcm9tcHRUaXRsZSIsImFuZHJvaWRQcm9tcHRTdWJ0aXRsZSIsImFuZHJvaWRQcm9tcHREZXNjcmlwdGlvbiIsImFuZHJvaWRQSU5Qcm9tcHRUaXRsZSIsImFuZHJvaWRQSU5Qcm9tcHRTdWJ0aXRsZSIsImFuZHJvaWRQSU5Qcm9tcHRDb25maXJtVGl0bGUiLCJhbmRyb2lkUElOUHJvbXB0VmVyaWZ5VGl0bGUiLCJhbmRyb2lkUElOUHJvbXB0Q29uZmlybUJ1dHRvblRleHQiLCJhbmRyb2lkUElOUHJvbXB0TmVnYXRpdmVCdXR0b25UZXh0IiwiaW9zUHJvbXB0VGV4dCIsIklvbmljTmF0aXZlQXV0aCIsImdldEJpb21ldHJpY1R5cGUiLCJsb2NrT3V0IiwiZ2V0Q29uZmlnIiwiaGFzU3RvcmVkU2Vzc2lvbiIsInNldEJpb21ldHJpY3NFbmFibGVkIiwiX3NldEJpb21ldHJpY3NFbmFibGVkIiwic2V0UGFzc2NvZGVFbmFibGVkIiwiX3NldFBhc3Njb2RlRW5hYmxlZCIsImlzQmlvbWV0cmljc0F2YWlsYWJsZSIsIl9zZXRBdXRoTW9kZSIsInNldFNlY3VyZVN0b3JhZ2VNb2RlRW5hYmxlZCIsIkludmFsaWRBdXRoTW9kZSIsIk1pZ3JhdG9yVmF1bHQiLCJnZXRJbnN0YW5jZSIsImluc3RhbmNlIiwiVmF1bHRNaWdyYXRvciIsIm1pZ3JhdG9yU2Vzc2lvbiIsIkVycm9yIiwidmF1bHREYXRhIiwiVGFza1F1ZXVlIiwicXVldWUiLCJpc1Byb2Nlc3NpbmciLCJhZGRUYXNrIiwidGFzayIsIndyYXBwZWRUYXNrIiwicmVzdWx0IiwicHVzaCIsInByb2Nlc3NUYXNrcyIsInNoaWZ0IiwiTG9nTGV2ZWwiLCJ0YXNrUXVldWUiLCJnZXRDb25maWdGb3JWYXVsdElkIiwiZGVzdHJveVZhdWx0QnlWYXVsdElkIiwiZ2V0VmF1bHRUeXBlRm9yVmF1bHRJZCIsIklkZW50aXR5VmF1bHRCYXNlQ2xhc3MiLCJnZXRPckNyZWF0ZVZhdWx0IiwidmF1bHRUeXBlIiwiZGVzdHJveSIsImV4aXN0cyIsImV4cG9ydFZhdWx0RGF0YSIsImdldFZhbHVlcyIsImltcG9ydFZhdWx0RGF0YSIsImhhbmRsZXIiLCJzZXRMb2NrQWZ0ZXJCYWNrZ3JvdW5kZWRUaW1lIiwic2V0VmFsdWVzIiwidmFsdWVzIiwiZ2V0VHlwZSIsIkRldmljZVNlY3VyaXR5VmF1bHQiLCJpbnN0YW5jZXMiLCJnZXRPckNyZWF0ZSJdLCJzb3VyY2VSb290Ijoid2VicGFjazovLy8iLCJ4X2dvb2dsZV9pZ25vcmVMaXN0IjpbM119