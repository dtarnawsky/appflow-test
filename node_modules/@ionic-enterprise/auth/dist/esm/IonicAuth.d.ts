import { AuthResult, IIonicAuth, IonicAuthOptions } from './interfaces';
import { IonicAuthWeb } from './ionic-auth-web';
import { IonicNativeAuth } from './ionic-auth-cordova';
export declare class IonicAuth<IDToken extends {} = any> implements IIonicAuth<IDToken> {
    private implementation;
    constructor(options: IonicAuthOptions);
    /**
     * Using configuration display the auth provider's login UI.
     *
     *  The overrideUrl parameter should only be used when the default
     *  discovery url needs to be overrode. (The known use case is with Azure AD
     *  custom user flows/policies.)
     *
     * @example
     * myAuthService.login("")
     */
    login(overrideUrl?: string): Promise<void>;
    /**
     * Add additional parameters to the login request.
     *
     * @example
     * myAuthService.additionalLoginParameters({ 'login_hint': 'neighbors cat name' })
     *
     * @param parameters any additional parameters that should be added to the login request
     *  examples: `login_hint`, `domain_hint`
     */
    additionalLoginParameters(parameters: {
        [id: string]: string;
    }): void;
    /**
     * Get the access token, once logged in, for API calls.
     *
     * @example
     * myAuthService.getAccessToken()
     *
     * @param tokenName Optional token name, only used when multiple tokens are required (Azure specific feature).
     * @param scopes The scopes for the access token.
     */
    getAccessToken(tokenName?: string, scopes?: string): Promise<string | undefined>;
    /**
     * Get the unparsed id token.
     *
     * @example
     * myAuthService.getRawIdToken()
     */
    getRawIdToken(): Promise<string | undefined>;
    /**
     * Get the parsed id token, includes requested scope values.
     *
     * @example
     * myAuthService.getIdToken()
     */
    getIdToken(): Promise<IDToken | undefined>;
    /**
     * Get the full original auth response.
     *
     * @example
     * myAuthService.getAuthResponse()
     */
    getAuthResponse(): Promise<any>;
    /**
     * Check to see if the access token is available.
     *
     * @example
     * myAuthService.isAccessTokenAvailable()
     *
     * @param tokenName Optional token name, only used when multiple tokens are required (Azure specific feature).
     */
    isAccessTokenAvailable(tokenName?: string): Promise<boolean>;
    /**
     * Check to see if the access token is expired.
     *
     * @example
     * myAuthService.isAccessTokenExpired()
     */
    isAccessTokenExpired(): Promise<boolean>;
    /**
     * Check to see if the refresh token is available.
     *
     * @example
     * myAuthService.isRefreshTokenAvailable()
     */
    isRefreshTokenAvailable(): Promise<boolean>;
    /**
     * Get the refresh token if available.
     *
     * @example
     * myAuthService.getRefreshToken()
     */
    getRefreshToken(): Promise<string | undefined>;
    /**
     * Refresh the session, throws if refresh token is invalid or missing.
     *
     * @example
     * myAuthService.refreshSession()
     *
     * @param tokenName Optional token name, only used when multiple tokens are required (Azure specific feature).
     */
    refreshSession(): Promise<void>;
    /**
     * Check to see if the user is logged in, and refresh the token if needed.
     *
     * @example
     * const isAuth = myAuthService.isAuthenticated()
     */
    isAuthenticated(): Promise<boolean>;
    /**
     * Log the user out and clear all tokens & data stored in the {@link TokenStorageProvider} as well as any
     * metadata relevant to the existing session such as access token expiration time.
     *
     * @example
     * myAuthService.logout()
     */
    logout(): Promise<void>;
    /**
     * Expire the current access token, but keep the refresh token, useful for testing.
     *
     * @example
     * myAuthService.expire()
     */
    expire(): Promise<void>;
    /**
     * Called by the hosting app when login callbacks happen, these will be to the URL specified
     *  in the options for RedirectUri.
     *
     * @example
     * myAuthService.handleLoginCallback()
     *
     * @param url callback url to handle @default defaults to `window.location.href`
     */
    handleLoginCallback(url?: string): Promise<AuthResult>;
    /**
     * Called by the hosting app when logout callbacks happens.
     *
     * @example
     * myAuthService.handleLogoutCallback()
     */
    handleLogoutCallback(): Promise<void>;
    /**
     * Called by the hosting app when callbacks happen, these will be to the URL specified
     *  in the options for LogoutUrl and RedirectUri.
     *
     * @example
     * myAuthService.handleCallback(window.location.href)
     *
     * @deprecated Use [handleLoginCallback](#iionicauth.handlelogincallback) instead
     * @param url callback url to handle
     */
    handleCallback(url: string): Promise<AuthResult>;
    /**
     * This method will clear all tokens & data stored in the {@link TokenStorageProvider} as well as any
     * metadata relevant to the existing session such as access token expiration time.
     *
     * @example
     * myAuthService.clearStorage()
     */
    clearStorage(): Promise<void>;
    /**
     * Override the discovery url used for login in a way that persists.
     *
     * @example
     * myAuthService.setOverrideDiscoveryUrl("https://myurl")
     *
     * @param url the discovery url used for login
     */
    setOverrideDiscoveryUrl(url: string): Promise<void>;
    /**
     * Clear previosly persisted override of the discovery url used for login.
     *
     * @example
     * myAuthService.clearOverrideDiscoveryUrl()
     */
    clearOverrideDiscoveryUrl(): Promise<void>;
    /**
     * Clear previosly persisted override of the discovery url used for login.
     *
     * @example
     * myAuthService.getOverrideDiscoveryUrl()
     */
    getOverrideDiscoveryUrl(): Promise<string | undefined>;
    /**
     * Get the time the access token will expire in milliseconds from the epoch.
     *
     * @example
     * myAuthService.getAccessTokenExpiration()
     */
    getAccessTokenExpiration(): Promise<number | undefined>;
    /**
     * Event handler which can be overridden to handle successful login events.
     *
     * @usage
     * ```typescript
     * async onLoginSuccess(): Promise<void> {
     *  // do something here
     * }
     * ```
     * @param result the auth result from a successful login
     */
    onLoginSuccess(result: AuthResult): void;
    /**
     * Event handler which can be overridden to handle successful logout events.
     *
     * @usage
     * ```typescript
     * async onLogout(): Promise<void> {
     *  // do something here
     * }
     * ```
     */
    onLogout(): void;
    getImplementation(options: IonicAuthOptions): IonicAuthWeb<IDToken> | IonicNativeAuth<IDToken>;
}
