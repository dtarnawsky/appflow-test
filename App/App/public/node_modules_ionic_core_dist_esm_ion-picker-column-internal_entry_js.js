"use strict";
(self["webpackChunkapp"] = self["webpackChunkapp"] || []).push([["node_modules_ionic_core_dist_esm_ion-picker-column-internal_entry_js"],{

/***/ 4446:
/*!*******************************************************************************!*\
  !*** ./node_modules/@ionic/core/dist/esm/ion-picker-column-internal.entry.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ion_picker_column_internal": () => (/* binding */ PickerColumnInternal)
/* harmony export */ });
/* harmony import */ var _Users_damian_Sample_Code_iv_test_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 1670);
/* harmony import */ var _index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index-8e692445.js */ 1559);
/* harmony import */ var _ionic_global_c95cf239_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ionic-global-c95cf239.js */ 8607);
/* harmony import */ var _helpers_3b390e48_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./helpers-3b390e48.js */ 9259);
/* harmony import */ var _haptic_029a46f6_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./haptic-029a46f6.js */ 2815);
/* harmony import */ var _theme_7670341c_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./theme-7670341c.js */ 320);


/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */





const pickerColumnInternalIosCss = ":host{padding-left:16px;padding-right:16px;padding-top:0px;padding-bottom:0px;height:200px;outline:none;font-size:22px;-webkit-scroll-snap-type:y mandatory;-ms-scroll-snap-type:y mandatory;scroll-snap-type:y mandatory;overflow-x:hidden;overflow-y:scroll;scrollbar-width:none;text-align:center}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host{padding-left:unset;padding-right:unset;-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px}}:host::-webkit-scrollbar{display:none}:host .picker-item{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;display:block;width:100%;height:34px;border:0px;outline:none;background:transparent;color:inherit;font-family:var(--ion-font-family, inherit);font-size:inherit;line-height:34px;text-align:inherit;text-overflow:ellipsis;white-space:nowrap;cursor:pointer;overflow:hidden;scroll-snap-align:center}:host .picker-item-empty,:host .picker-item.picker-item-disabled{scroll-snap-align:none;cursor:default}:host .picker-item.picker-item-disabled{opacity:0.4}:host(.picker-column-active) .picker-item.picker-item-active{color:var(--ion-color-base)}@media (any-hover: hover){:host(:focus){outline:none;background:rgba(var(--ion-color-base-rgb), 0.2)}}";
const pickerColumnInternalMdCss = ":host{padding-left:16px;padding-right:16px;padding-top:0px;padding-bottom:0px;height:200px;outline:none;font-size:22px;-webkit-scroll-snap-type:y mandatory;-ms-scroll-snap-type:y mandatory;scroll-snap-type:y mandatory;overflow-x:hidden;overflow-y:scroll;scrollbar-width:none;text-align:center}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host{padding-left:unset;padding-right:unset;-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px}}:host::-webkit-scrollbar{display:none}:host .picker-item{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;display:block;width:100%;height:34px;border:0px;outline:none;background:transparent;color:inherit;font-family:var(--ion-font-family, inherit);font-size:inherit;line-height:34px;text-align:inherit;text-overflow:ellipsis;white-space:nowrap;cursor:pointer;overflow:hidden;scroll-snap-align:center}:host .picker-item-empty,:host .picker-item.picker-item-disabled{scroll-snap-align:none;cursor:default}:host .picker-item.picker-item-disabled{opacity:0.4}:host(.picker-column-active) .picker-item.picker-item-active{color:var(--ion-color-base)}@media (any-hover: hover){:host(:focus){outline:none;background:rgba(var(--ion-color-base-rgb), 0.2)}}:host .picker-item-active{color:var(--ion-color-base)}";
const PickerColumnInternal = class {
  constructor(hostRef) {
    (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.r)(this, hostRef);
    this.ionChange = (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.e)(this, "ionChange", 7);
    this.isScrolling = false;
    this.isColumnVisible = false;
    this.canExitInputMode = true;
    this.isActive = false;
    /**
     * A list of options to be displayed in the picker
     */

    this.items = [];
    /**
     * The color to use from your application's color palette.
     * Default options are: `"primary"`, `"secondary"`, `"tertiary"`, `"success"`, `"warning"`, `"danger"`, `"light"`, `"medium"`, and `"dark"`.
     * For more information on colors, see [theming](/docs/theming/basics).
     */

    this.color = 'primary';
    /**
     * If `true`, tapping the picker will
     * reveal a number input keyboard that lets
     * the user type in values for each picker
     * column. This is useful when working
     * with time pickers.
     *
     * @internal
     */

    this.numericInput = false;

    this.centerPickerItemInView = (target, smooth = true, canExitInputMode = true) => {
      const {
        el,
        isColumnVisible
      } = this;

      if (isColumnVisible) {
        // (Vertical offset from parent) - (three empty picker rows) + (half the height of the target to ensure the scroll triggers)
        const top = target.offsetTop - 3 * target.clientHeight + target.clientHeight / 2;

        if (el.scrollTop !== top) {
          /**
           * Setting this flag prevents input
           * mode from exiting in the picker column's
           * scroll callback. This is useful when the user manually
           * taps an item or types on the keyboard as both
           * of these can cause a scroll to occur.
           */
          this.canExitInputMode = canExitInputMode;
          el.scroll({
            top,
            left: 0,
            behavior: smooth ? 'smooth' : undefined
          });
        }
      }
    };
    /**
     * When ionInputModeChange is emitted, each column
     * needs to check if it is the one being made available
     * for text entry.
     */


    this.inputModeChange = ev => {
      if (!this.numericInput) {
        return;
      }

      const {
        useInputMode,
        inputModeColumn
      } = ev.detail;
      /**
       * If inputModeColumn is undefined then this means
       * all numericInput columns are being selected.
       */

      const isColumnActive = inputModeColumn === undefined || inputModeColumn === this.el;

      if (!useInputMode || !isColumnActive) {
        this.setInputModeActive(false);
        return;
      }

      this.setInputModeActive(true);
    };
    /**
     * Setting isActive will cause a re-render.
     * As a result, we do not want to cause the
     * re-render mid scroll as this will cause
     * the picker column to jump back to
     * whatever value was selected at the
     * start of the scroll interaction.
     */


    this.setInputModeActive = state => {
      if (this.isScrolling) {
        this.scrollEndCallback = () => {
          this.isActive = state;
        };

        return;
      }

      this.isActive = state;
    };
    /**
     * When the column scrolls, the component
     * needs to determine which item is centered
     * in the view and will emit an ionChange with
     * the item object.
     */


    this.initializeScrollListener = () => {
      const {
        el
      } = this;
      let timeout;
      let activeEl = this.activeItem;

      const scrollCallback = () => {
        (0,_helpers_3b390e48_js__WEBPACK_IMPORTED_MODULE_3__.r)(() => {
          if (timeout) {
            clearTimeout(timeout);
            timeout = undefined;
          }

          if (!this.isScrolling) {
            (0,_haptic_029a46f6_js__WEBPACK_IMPORTED_MODULE_4__.a)();
            this.isScrolling = true;
          }
          /**
           * Select item in the center of the column
           * which is the month/year that we want to select
           */


          const bbox = el.getBoundingClientRect();
          const centerX = bbox.x + bbox.width / 2;
          const centerY = bbox.y + bbox.height / 2;
          const activeElement = el.shadowRoot.elementFromPoint(centerX, centerY);

          if (activeEl !== null) {
            activeEl.classList.remove(PICKER_COL_ACTIVE);
          }

          if (activeElement === null || activeElement.disabled) {
            return;
          }
          /**
           * If we are selecting a new value,
           * we need to run haptics again.
           */


          if (activeElement !== activeEl) {
            (0,_haptic_029a46f6_js__WEBPACK_IMPORTED_MODULE_4__.b)();

            if (this.canExitInputMode) {
              /**
               * The native iOS wheel picker
               * only dismisses the keyboard
               * once the selected item has changed
               * as a result of a swipe
               * from the user. If `canExitInputMode` is
               * `false` then this means that the
               * scroll is happening as a result of
               * the `value` property programmatically changing
               * either by an application or by the user via the keyboard.
               */
              this.exitInputMode();
            }
          }

          activeEl = activeElement;
          activeElement.classList.add(PICKER_COL_ACTIVE);
          timeout = setTimeout(() => {
            this.isScrolling = false;
            (0,_haptic_029a46f6_js__WEBPACK_IMPORTED_MODULE_4__.h)();
            /**
             * Certain tasks (such as those that
             * cause re-renders) should only be done
             * once scrolling has finished, otherwise
             * flickering may occur.
             */

            const {
              scrollEndCallback
            } = this;

            if (scrollEndCallback) {
              scrollEndCallback();
              this.scrollEndCallback = undefined;
            }
            /**
             * Reset this flag as the
             * next scroll interaction could
             * be a scroll from the user. In this
             * case, we should exit input mode.
             */


            this.canExitInputMode = true;
            const dataIndex = activeElement.getAttribute('data-index');
            /**
             * If no value it is
             * possible we hit one of the
             * empty padding columns.
             */

            if (dataIndex === null) {
              return;
            }

            const index = parseInt(dataIndex, 10);
            const selectedItem = this.items[index];

            if (selectedItem.value !== this.value) {
              this.setValue(selectedItem.value);
            }
          }, 250);
        });
      };
      /**
       * Wrap this in an raf so that the scroll callback
       * does not fire when component is initially shown.
       */


      (0,_helpers_3b390e48_js__WEBPACK_IMPORTED_MODULE_3__.r)(() => {
        el.addEventListener('scroll', scrollCallback);

        this.destroyScrollListener = () => {
          el.removeEventListener('scroll', scrollCallback);
        };
      });
    };
    /**
     * Tells the parent picker to
     * exit text entry mode. This is only called
     * when the selected item changes during scroll, so
     * we know that the user likely wants to scroll
     * instead of type.
     */


    this.exitInputMode = () => {
      const {
        parentEl
      } = this;
      if (parentEl == null) return;
      parentEl.exitInputMode();
      /**
       * setInputModeActive only takes
       * effect once scrolling stops to avoid
       * a component re-render while scrolling.
       * However, we want the visual active
       * indicator to go away immediately, so
       * we call classList.remove here.
       */

      this.el.classList.remove('picker-column-active');
    };
  }

  valueChange() {
    if (this.isColumnVisible) {
      /**
       * Only scroll the active item into view when the picker column
       * is actively visible to the user.
       */
      this.scrollActiveItemIntoView();
    }
  }
  /**
   * Only setup scroll listeners
   * when the picker is visible, otherwise
   * the container will have a scroll
   * height of 0px.
   */


  componentWillLoad() {
    const visibleCallback = entries => {
      var _a;

      const ev = entries[0];

      if (ev.isIntersecting) {
        this.isColumnVisible = true;
        /**
         * Because this initial call to scrollActiveItemIntoView has to fire before
         * the scroll listener is set up, we need to manage the active class manually.
         */

        const oldActive = (0,_helpers_3b390e48_js__WEBPACK_IMPORTED_MODULE_3__.g)(this.el).querySelector(`.${PICKER_COL_ACTIVE}`);
        oldActive === null || oldActive === void 0 ? void 0 : oldActive.classList.remove(PICKER_COL_ACTIVE);
        this.scrollActiveItemIntoView();
        (_a = this.activeItem) === null || _a === void 0 ? void 0 : _a.classList.add(PICKER_COL_ACTIVE);
        this.initializeScrollListener();
      } else {
        this.isColumnVisible = false;

        if (this.destroyScrollListener) {
          this.destroyScrollListener();
          this.destroyScrollListener = undefined;
        }
      }
    };

    new IntersectionObserver(visibleCallback, {
      threshold: 0.001
    }).observe(this.el);
    const parentEl = this.parentEl = this.el.closest('ion-picker-internal');

    if (parentEl !== null) {
      parentEl.addEventListener('ionInputModeChange', ev => this.inputModeChange(ev));
    }
  }

  componentDidRender() {
    var _a;

    const {
      activeItem,
      items,
      isColumnVisible,
      value
    } = this;

    if (isColumnVisible) {
      if (activeItem) {
        this.scrollActiveItemIntoView();
      } else if (((_a = items[0]) === null || _a === void 0 ? void 0 : _a.value) !== value) {
        /**
         * If the picker column does not have an active item and the current value
         * does not match the first item in the picker column, that means
         * the value is out of bounds. In this case, we assign the value to the
         * first item to match the scroll position of the column.
         *
         */
        this.setValue(items[0].value);
      }
    }
  }
  /** @internal  */


  scrollActiveItemIntoView() {
    var _this = this;

    return (0,_Users_damian_Sample_Code_iv_test_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const activeEl = _this.activeItem;

      if (activeEl) {
        _this.centerPickerItemInView(activeEl, false, false);
      }
    })();
  }
  /**
   * Sets the value prop and fires the ionChange event.
   * This is used when we need to fire ionChange from
   * user-generated events that cannot be caught with normal
   * input/change event listeners.
   * @internal
   */


  setValue(value) {
    var _this2 = this;

    return (0,_Users_damian_Sample_Code_iv_test_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const {
        items
      } = _this2;
      _this2.value = value;
      const findItem = items.find(item => item.value === value && item.disabled !== true);

      if (findItem) {
        _this2.ionChange.emit(findItem);
      }
    })();
  }

  get activeItem() {
    return (0,_helpers_3b390e48_js__WEBPACK_IMPORTED_MODULE_3__.g)(this.el).querySelector(`.picker-item[data-value="${this.value}"]:not([disabled])`);
  }

  render() {
    const {
      items,
      color,
      isActive,
      numericInput
    } = this;
    const mode = (0,_ionic_global_c95cf239_js__WEBPACK_IMPORTED_MODULE_2__.b)(this);
    return (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.h)(_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.H, {
      tabindex: 0,
      class: (0,_theme_7670341c_js__WEBPACK_IMPORTED_MODULE_5__.c)(color, {
        [mode]: true,
        ['picker-column-active']: isActive,
        ['picker-column-numeric-input']: numericInput
      })
    }, (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.h)("div", {
      class: "picker-item picker-item-empty"
    }, "\u00A0"), (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.h)("div", {
      class: "picker-item picker-item-empty"
    }, "\u00A0"), (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.h)("div", {
      class: "picker-item picker-item-empty"
    }, "\u00A0"), items.map((item, index) => {
      return (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.h)("button", {
        tabindex: "-1",
        class: {
          'picker-item': true,
          'picker-item-disabled': item.disabled || false
        },
        "data-value": item.value,
        "data-index": index,
        onClick: ev => {
          this.centerPickerItemInView(ev.target, true);
        },
        disabled: item.disabled
      }, item.text);
    }), (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.h)("div", {
      class: "picker-item picker-item-empty"
    }, "\u00A0"), (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.h)("div", {
      class: "picker-item picker-item-empty"
    }, "\u00A0"), (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.h)("div", {
      class: "picker-item picker-item-empty"
    }, "\u00A0"));
  }

  get el() {
    return (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.i)(this);
  }

  static get watchers() {
    return {
      "value": ["valueChange"]
    };
  }

};
const PICKER_COL_ACTIVE = 'picker-item-active';
PickerColumnInternal.style = {
  ios: pickerColumnInternalIosCss,
  md: pickerColumnInternalMdCss
};


/***/ }),

/***/ 320:
/*!*************************************************************!*\
  !*** ./node_modules/@ionic/core/dist/esm/theme-7670341c.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "c": () => (/* binding */ createColorClasses),
/* harmony export */   "g": () => (/* binding */ getClassMap),
/* harmony export */   "h": () => (/* binding */ hostContext),
/* harmony export */   "o": () => (/* binding */ openURL)
/* harmony export */ });
/* harmony import */ var _Users_damian_Sample_Code_iv_test_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 1670);


/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */
const hostContext = (selector, el) => {
  return el.closest(selector) !== null;
};
/**
 * Create the mode and color classes for the component based on the classes passed in
 */


const createColorClasses = (color, cssClassMap) => {
  return typeof color === 'string' && color.length > 0 ? Object.assign({
    'ion-color': true,
    [`ion-color-${color}`]: true
  }, cssClassMap) : cssClassMap;
};

const getClassList = classes => {
  if (classes !== undefined) {
    const array = Array.isArray(classes) ? classes : classes.split(' ');
    return array.filter(c => c != null).map(c => c.trim()).filter(c => c !== '');
  }

  return [];
};

const getClassMap = classes => {
  const map = {};
  getClassList(classes).forEach(c => map[c] = true);
  return map;
};

const SCHEME = /^[a-z][a-z0-9+\-.]*:/;

const openURL = /*#__PURE__*/function () {
  var _ref = (0,_Users_damian_Sample_Code_iv_test_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* (url, ev, direction, animation) {
    if (url != null && url[0] !== '#' && !SCHEME.test(url)) {
      const router = document.querySelector('ion-router');

      if (router) {
        if (ev != null) {
          ev.preventDefault();
        }

        return router.push(url, direction, animation);
      }
    }

    return false;
  });

  return function openURL(_x, _x2, _x3, _x4) {
    return _ref.apply(this, arguments);
  };
}();



/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm9kZV9tb2R1bGVzX2lvbmljX2NvcmVfZGlzdF9lc21faW9uLXBpY2tlci1jb2x1bW4taW50ZXJuYWxfZW50cnlfanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBLE1BQU1vQiwwQkFBMEIsR0FBRywyMENBQW5DO0FBRUEsTUFBTUMseUJBQXlCLEdBQUcsaTRDQUFsQztBQUVBLE1BQU1DLG9CQUFvQixHQUFHLE1BQU07RUFDakNDLFdBQVcsQ0FBQ0MsT0FBRCxFQUFVO0lBQ25CdkIscURBQWdCLENBQUMsSUFBRCxFQUFPdUIsT0FBUCxDQUFoQjtJQUNBLEtBQUtDLFNBQUwsR0FBaUJ0QixxREFBVyxDQUFDLElBQUQsRUFBTyxXQUFQLEVBQW9CLENBQXBCLENBQTVCO0lBQ0EsS0FBS3VCLFdBQUwsR0FBbUIsS0FBbkI7SUFDQSxLQUFLQyxlQUFMLEdBQXVCLEtBQXZCO0lBQ0EsS0FBS0MsZ0JBQUwsR0FBd0IsSUFBeEI7SUFDQSxLQUFLQyxRQUFMLEdBQWdCLEtBQWhCO0lBQ0E7QUFDSjtBQUNBOztJQUNJLEtBQUtDLEtBQUwsR0FBYSxFQUFiO0lBQ0E7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7SUFDSSxLQUFLQyxLQUFMLEdBQWEsU0FBYjtJQUNBO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7SUFDSSxLQUFLQyxZQUFMLEdBQW9CLEtBQXBCOztJQUNBLEtBQUtDLHNCQUFMLEdBQThCLENBQUNDLE1BQUQsRUFBU0MsTUFBTSxHQUFHLElBQWxCLEVBQXdCUCxnQkFBZ0IsR0FBRyxJQUEzQyxLQUFvRDtNQUNoRixNQUFNO1FBQUVRLEVBQUY7UUFBTVQ7TUFBTixJQUEwQixJQUFoQzs7TUFDQSxJQUFJQSxlQUFKLEVBQXFCO1FBQ25CO1FBQ0EsTUFBTVUsR0FBRyxHQUFHSCxNQUFNLENBQUNJLFNBQVAsR0FBbUIsSUFBSUosTUFBTSxDQUFD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LENBQUM3QyxhQUFULENBQXVCLFlBQXZCLENBQWY7O01BQ0EsSUFBSTRDLE1BQUosRUFBWTtRQUNWLElBQUkvRixFQUFFLElBQUksSUFBVixFQUFnQjtVQUNkQSxFQUFFLENBQUNpRyxjQUFIO1FBQ0Q7O1FBQ0QsT0FBT0YsTUFBTSxDQUFDRyxJQUFQLENBQVlQLEdBQVosRUFBaUJDLFNBQWpCLEVBQTRCQyxTQUE1QixDQUFQO01BQ0Q7SUFDRjs7SUFDRCxPQUFPLEtBQVA7RUFDRCxDQVhZOztFQUFBLGdCQUFQSCxPQUFPO0lBQUE7RUFBQTtBQUFBLEdBQWIiLCJzb3VyY2VzIjpbIi4vbm9kZV9tb2R1bGVzL0Bpb25pYy9jb3JlL2Rpc3QvZXNtL2lvbi1waWNrZXItY29sdW1uLWludGVybmFsLmVudHJ5LmpzIiwiLi9ub2RlX21vZHVsZXMvQGlvbmljL2NvcmUvZGlzdC9lc20vdGhlbWUtNzY3MDM0MWMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiAoQykgSW9uaWMgaHR0cDovL2lvbmljZnJhbWV3b3JrLmNvbSAtIE1JVCBMaWNlbnNlXG4gKi9cbmltcG9ydCB7IHIgYXMgcmVnaXN0ZXJJbnN0YW5jZSwgZSBhcyBjcmVhdGVFdmVudCwgaCwgSCBhcyBIb3N0LCBpIGFzIGdldEVsZW1lbnQgfSBmcm9tICcuL2luZGV4LThlNjkyNDQ1LmpzJztcbmltcG9ydCB7IGIgYXMgZ2V0SW9uTW9kZSB9IGZyb20gJy4vaW9uaWMtZ2xvYmFsLWM5NWNmMjM5LmpzJztcbmltcG9ydCB7IHIgYXMgcmFmLCBnIGFzIGdldEVsZW1lbnRSb290IH0gZnJvbSAnLi9oZWxwZXJzLTNiMzkwZTQ4LmpzJztcbmltcG9ydCB7IGEgYXMgaGFwdGljU2VsZWN0aW9uU3RhcnQsIGIgYXMgaGFwdGljU2VsZWN0aW9uQ2hhbmdlZCwgaCBhcyBoYXB0aWNTZWxlY3Rpb25FbmQgfSBmcm9tICcuL2hhcHRpYy0wMjlhNDZmNi5qcyc7XG5pbXBvcnQgeyBjIGFzIGNyZWF0ZUNvbG9yQ2xhc3NlcyB9IGZyb20gJy4vdGhlbWUtNzY3MDM0MWMuanMnO1xuXG5jb25zdCBwaWNrZXJDb2x1bW5JbnRlcm5hbElvc0NzcyA9IFwiOmhvc3R7cGFkZGluZy1sZWZ0OjE2cHg7cGFkZGluZy1yaWdodDoxNnB4O3BhZGRpbmctdG9wOjBweDtwYWRkaW5nLWJvdHRvbTowcHg7aGVpZ2h0OjIwMHB4O291dGxpbmU6bm9uZTtmb250LXNpemU6MjJweDstd2Via2l0LXNjcm9sbC1zbmFwLXR5cGU6eSBtYW5kYXRvcnk7LW1zLXNjcm9sbC1zbmFwLXR5cGU6eSBtYW5kYXRvcnk7c2Nyb2xsLXNuYXAtdHlwZTp5IG1hbmRhdG9yeTtvdmVyZmxvdy14OmhpZGRlbjtvdmVyZmxvdy15OnNjcm9sbDtzY3JvbGxiYXItd2lkdGg6bm9uZTt0ZXh0LWFsaWduOmNlbnRlcn1Ac3VwcG9ydHMgKCgtd2Via2l0LW1hcmdpbi1zdGFydDogMCkgb3IgKG1hcmdpbi1pbmxpbmUtc3RhcnQ6IDApKSBvciAoLXdlYmtpdC1tYXJnaW4tc3RhcnQ6IDApezpob3N0e3BhZGRpbmctbGVmdDp1bnNldDtwYWRkaW5nLXJpZ2h0OnVuc2V0Oy13ZWJraXQtcGFkZGluZy1zdGFydDoxNnB4O3BhZGRpbmctaW5saW5lLXN0YXJ0OjE2cHg7LXdlYmtpdC1wYWRkaW5nLWVuZDoxNnB4O3BhZGRpbmctaW5saW5lLWVuZDoxNnB4fX06aG9zdDo6LXdlYmtpdC1zY3JvbGxiYXJ7ZGlzcGxheTpub25lfTpob3N0IC5waWNrZXItaXRlbXtwYWRkaW5nLWxlZnQ6MDtwYWRkaW5nLXJpZ2h0OjA7cGFkZGluZy10b3A6MDtwYWRkaW5nLWJvdHRvbTowO21hcmdpbi1sZWZ0OjA7bWFyZ2luLXJpZ2h0OjA7bWFyZ2luLXRvcDowO21hcmdpbi1ib3R0b206MDtkaXNwbGF5OmJsb2NrO3dpZHRoOjEwMCU7aGVpZ2h0OjM0cHg7Ym9yZGVyOjBweDtvdXRsaW5lOm5vbmU7YmFja2dyb3VuZDp0cmFuc3BhcmVudDtjb2xvcjppbmhlcml0O2ZvbnQtZmFtaWx5OnZhcigtLWlvbi1mb250LWZhbWlseSwgaW5oZXJpdCk7Zm9udC1zaXplOmluaGVyaXQ7bGluZS1oZWlnaHQ6MzRweDt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1vdmVyZmxvdzplbGxpcHNpczt3aGl0ZS1zcGFjZTpub3dyYXA7Y3Vyc29yOnBvaW50ZXI7b3ZlcmZsb3c6aGlkZGVuO3Njcm9sbC1zbmFwLWFsaWduOmNlbnRlcn06aG9zdCAucGlja2VyLWl0ZW0tZW1wdHksOmhvc3QgLnBpY2tlci1pdGVtLnBpY2tlci1pdGVtLWRpc2FibGVke3Njcm9sbC1zbmFwLWFsaWduOm5vbmU7Y3Vyc29yOmRlZmF1bHR9Omhvc3QgLnBpY2tlci1pdGVtLnBpY2tlci1pdGVtLWRpc2FibGVke29wYWNpdHk6MC40fTpob3N0KC5waWNrZXItY29sdW1uLWFjdGl2ZSkgLnBpY2tlci1pdGVtLnBpY2tlci1pdGVtLWFjdGl2ZXtjb2xvcjp2YXIoLS1pb24tY29sb3ItYmFzZSl9QG1lZGlhIChhbnktaG92ZXI6IGhvdmVyKXs6aG9zdCg6Zm9jdXMpe291dGxpbmU6bm9uZTtiYWNrZ3JvdW5kOnJnYmEodmFyKC0taW9uLWNvbG9yLWJhc2UtcmdiKSwgMC4yKX19XCI7XG5cbmNvbnN0IHBpY2tlckNvbHVtbkludGVybmFsTWRDc3MgPSBcIjpob3N0e3BhZGRpbmctbGVmdDoxNnB4O3BhZGRpbmctcmlnaHQ6MTZweDtwYWRkaW5nLXRvcDowcHg7cGFkZGluZy1ib3R0b206MHB4O2hlaWdodDoyMDBweDtvdXRsaW5lOm5vbmU7Zm9udC1zaXplOjIycHg7LXdlYmtpdC1zY3JvbGwtc25hcC10eXBlOnkgbWFuZGF0b3J5Oy1tcy1zY3JvbGwtc25hcC10eXBlOnkgbWFuZGF0b3J5O3Njcm9sbC1zbmFwLXR5cGU6eSBtYW5kYXRvcnk7b3ZlcmZsb3cteDpoaWRkZW47b3ZlcmZsb3cteTpzY3JvbGw7c2Nyb2xsYmFyLXdpZHRoOm5vbmU7dGV4dC1hbGlnbjpjZW50ZXJ9QHN1cHBvcnRzICgoLXdlYmtpdC1tYXJnaW4tc3RhcnQ6IDApIG9yIChtYXJnaW4taW5saW5lLXN0YXJ0OiAwKSkgb3IgKC13ZWJraXQtbWFyZ2luLXN0YXJ0OiAwKXs6aG9zdHtwYWRkaW5nLWxlZnQ6dW5zZXQ7cGFkZGluZy1yaWdodDp1bnNldDstd2Via2l0LXBhZGRpbmctc3RhcnQ6MTZweDtwYWRkaW5nLWlubGluZS1zdGFydDoxNnB4Oy13ZWJraXQtcGFkZGluZy1lbmQ6MTZweDtwYWRkaW5nLWlubGluZS1lbmQ6MTZweH19Omhvc3Q6Oi13ZWJraXQtc2Nyb2xsYmFye2Rpc3BsYXk6bm9uZX06aG9zdCAucGlja2VyLWl0ZW17cGFkZGluZy1sZWZ0OjA7cGFkZGluZy1yaWdodDowO3BhZGRpbmctdG9wOjA7cGFkZGluZy1ib3R0b206MDttYXJnaW4tbGVmdDowO21hcmdpbi1yaWdodDowO21hcmdpbi10b3A6MDttYXJnaW4tYm90dG9tOjA7ZGlzcGxheTpibG9jazt3aWR0aDoxMDAlO2hlaWdodDozNHB4O2JvcmRlcjowcHg7b3V0bGluZTpub25lO2JhY2tncm91bmQ6dHJhbnNwYXJlbnQ7Y29sb3I6aW5oZXJpdDtmb250LWZhbWlseTp2YXIoLS1pb24tZm9udC1mYW1pbHksIGluaGVyaXQpO2ZvbnQtc2l6ZTppbmhlcml0O2xpbmUtaGVpZ2h0OjM0cHg7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtb3ZlcmZsb3c6ZWxsaXBzaXM7d2hpdGUtc3BhY2U6bm93cmFwO2N1cnNvcjpwb2ludGVyO292ZXJmbG93OmhpZGRlbjtzY3JvbGwtc25hcC1hbGlnbjpjZW50ZXJ9Omhvc3QgLnBpY2tlci1pdGVtLWVtcHR5LDpob3N0IC5waWNrZXItaXRlbS5waWNrZXItaXRlbS1kaXNhYmxlZHtzY3JvbGwtc25hcC1hbGlnbjpub25lO2N1cnNvcjpkZWZhdWx0fTpob3N0IC5waWNrZXItaXRlbS5waWNrZXItaXRlbS1kaXNhYmxlZHtvcGFjaXR5OjAuNH06aG9zdCgucGlja2VyLWNvbHVtbi1hY3RpdmUpIC5waWNrZXItaXRlbS5waWNrZXItaXRlbS1hY3RpdmV7Y29sb3I6dmFyKC0taW9uLWNvbG9yLWJhc2UpfUBtZWRpYSAoYW55LWhvdmVyOiBob3Zlcil7Omhvc3QoOmZvY3VzKXtvdXRsaW5lOm5vbmU7YmFja2dyb3VuZDpyZ2JhKHZhcigtLWlvbi1jb2xvci1iYXNlLXJnYiksIDAuMil9fTpob3N0IC5waWNrZXItaXRlbS1hY3RpdmV7Y29sb3I6dmFyKC0taW9uLWNvbG9yLWJhc2UpfVwiO1xuXG5jb25zdCBQaWNrZXJDb2x1bW5JbnRlcm5hbCA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IoaG9zdFJlZikge1xuICAgIHJlZ2lzdGVySW5zdGFuY2UodGhpcywgaG9zdFJlZik7XG4gICAgdGhpcy5pb25DaGFuZ2UgPSBjcmVhdGVFdmVudCh0aGlzLCBcImlvbkNoYW5nZVwiLCA3KTtcbiAgICB0aGlzLmlzU2Nyb2xsaW5nID0gZmFsc2U7XG4gICAgdGhpcy5pc0NvbHVtblZpc2libGUgPSBmYWxzZTtcbiAgICB0aGlzLmNhbkV4aXRJbnB1dE1vZGUgPSB0cnVlO1xuICAgIHRoaXMuaXNBY3RpdmUgPSBmYWxzZTtcbiAgICAvKipcbiAgICAgKiBBIGxpc3Qgb2Ygb3B0aW9ucyB0byBiZSBkaXNwbGF5ZWQgaW4gdGhlIHBpY2tlclxuICAgICAqL1xuICAgIHRoaXMuaXRlbXMgPSBbXTtcbiAgICAvKipcbiAgICAgKiBUaGUgY29sb3IgdG8gdXNlIGZyb20geW91ciBhcHBsaWNhdGlvbidzIGNvbG9yIHBhbGV0dGUuXG4gICAgICogRGVmYXVsdCBvcHRpb25zIGFyZTogYFwicHJpbWFyeVwiYCwgYFwic2Vjb25kYXJ5XCJgLCBgXCJ0ZXJ0aWFyeVwiYCwgYFwic3VjY2Vzc1wiYCwgYFwid2FybmluZ1wiYCwgYFwiZGFuZ2VyXCJgLCBgXCJsaWdodFwiYCwgYFwibWVkaXVtXCJgLCBhbmQgYFwiZGFya1wiYC5cbiAgICAgKiBGb3IgbW9yZSBpbmZvcm1hdGlvbiBvbiBjb2xvcnMsIHNlZSBbdGhlbWluZ10oL2RvY3MvdGhlbWluZy9iYXNpY3MpLlxuICAgICAqL1xuICAgIHRoaXMuY29sb3IgPSAncHJpbWFyeSc7XG4gICAgLyoqXG4gICAgICogSWYgYHRydWVgLCB0YXBwaW5nIHRoZSBwaWNrZXIgd2lsbFxuICAgICAqIHJldmVhbCBhIG51bWJlciBpbnB1dCBrZXlib2FyZCB0aGF0IGxldHNcbiAgICAgKiB0aGUgdXNlciB0eXBlIGluIHZhbHVlcyBmb3IgZWFjaCBwaWNrZXJcbiAgICAgKiBjb2x1bW4uIFRoaXMgaXMgdXNlZnVsIHdoZW4gd29ya2luZ1xuICAgICAqIHdpdGggdGltZSBwaWNrZXJzLlxuICAgICAqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgdGhpcy5udW1lcmljSW5wdXQgPSBmYWxzZTtcbiAgICB0aGlzLmNlbnRlclBpY2tlckl0ZW1JblZpZXcgPSAodGFyZ2V0LCBzbW9vdGggPSB0cnVlLCBjYW5FeGl0SW5wdXRNb2RlID0gdHJ1ZSkgPT4ge1xuICAgICAgY29uc3QgeyBlbCwgaXNDb2x1bW5WaXNpYmxlIH0gPSB0aGlzO1xuICAgICAgaWYgKGlzQ29sdW1uVmlzaWJsZSkge1xuICAgICAgICAvLyAoVmVydGljYWwgb2Zmc2V0IGZyb20gcGFyZW50KSAtICh0aHJlZSBlbXB0eSBwaWNrZXIgcm93cykgKyAoaGFsZiB0aGUgaGVpZ2h0IG9mIHRoZSB0YXJnZXQgdG8gZW5zdXJlIHRoZSBzY3JvbGwgdHJpZ2dlcnMpXG4gICAgICAgIGNvbnN0IHRvcCA9IHRhcmdldC5vZmZzZXRUb3AgLSAzICogdGFyZ2V0LmNsaWVudEhlaWdodCArIHRhcmdldC5jbGllbnRIZWlnaHQgLyAyO1xuICAgICAgICBpZiAoZWwuc2Nyb2xsVG9wICE9PSB0b3ApIHtcbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBTZXR0aW5nIHRoaXMgZmxhZyBwcmV2ZW50cyBpbnB1dFxuICAgICAgICAgICAqIG1vZGUgZnJvbSBleGl0aW5nIGluIHRoZSBwaWNrZXIgY29sdW1uJ3NcbiAgICAgICAgICAgKiBzY3JvbGwgY2FsbGJhY2suIFRoaXMgaXMgdXNlZnVsIHdoZW4gdGhlIHVzZXIgbWFudWFsbHlcbiAgICAgICAgICAgKiB0YXBzIGFuIGl0ZW0gb3IgdHlwZXMgb24gdGhlIGtleWJvYXJkIGFzIGJvdGhcbiAgICAgICAgICAgKiBvZiB0aGVzZSBjYW4gY2F1c2UgYSBzY3JvbGwgdG8gb2NjdXIuXG4gICAgICAgICAgICovXG4gICAgICAgICAgdGhpcy5jYW5FeGl0SW5wdXRNb2RlID0gY2FuRXhpdElucHV0TW9kZTtcbiAgICAgICAgICBlbC5zY3JvbGwoe1xuICAgICAgICAgICAgdG9wLFxuICAgICAgICAgICAgbGVmdDogMCxcbiAgICAgICAgICAgIGJlaGF2aW9yOiBzbW9vdGggPyAnc21vb3RoJyA6IHVuZGVmaW5lZCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogV2hlbiBpb25JbnB1dE1vZGVDaGFuZ2UgaXMgZW1pdHRlZCwgZWFjaCBjb2x1bW5cbiAgICAgKiBuZWVkcyB0byBjaGVjayBpZiBpdCBpcyB0aGUgb25lIGJlaW5nIG1hZGUgYXZhaWxhYmxlXG4gICAgICogZm9yIHRleHQgZW50cnkuXG4gICAgICovXG4gICAgdGhpcy5pbnB1dE1vZGVDaGFuZ2UgPSAoZXYpID0+IHtcbiAgICAgIGlmICghdGhpcy5udW1lcmljSW5wdXQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgeyB1c2VJbnB1dE1vZGUsIGlucHV0TW9kZUNvbHVtbiB9ID0gZXYuZGV0YWlsO1xuICAgICAgLyoqXG4gICAgICAgKiBJZiBpbnB1dE1vZGVDb2x1bW4gaXMgdW5kZWZpbmVkIHRoZW4gdGhpcyBtZWFuc1xuICAgICAgICogYWxsIG51bWVyaWNJbnB1dCBjb2x1bW5zIGFyZSBiZWluZyBzZWxlY3RlZC5cbiAgICAgICAqL1xuICAgICAgY29uc3QgaXNDb2x1bW5BY3RpdmUgPSBpbnB1dE1vZGVDb2x1bW4gPT09IHVuZGVmaW5lZCB8fCBpbnB1dE1vZGVDb2x1bW4gPT09IHRoaXMuZWw7XG4gICAgICBpZiAoIXVzZUlucHV0TW9kZSB8fCAhaXNDb2x1bW5BY3RpdmUpIHtcbiAgICAgICAgdGhpcy5zZXRJbnB1dE1vZGVBY3RpdmUoZmFsc2UpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLnNldElucHV0TW9kZUFjdGl2ZSh0cnVlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHRpbmcgaXNBY3RpdmUgd2lsbCBjYXVzZSBhIHJlLXJlbmRlci5cbiAgICAgKiBBcyBhIHJlc3VsdCwgd2UgZG8gbm90IHdhbnQgdG8gY2F1c2UgdGhlXG4gICAgICogcmUtcmVuZGVyIG1pZCBzY3JvbGwgYXMgdGhpcyB3aWxsIGNhdXNlXG4gICAgICogdGhlIHBpY2tlciBjb2x1bW4gdG8ganVtcCBiYWNrIHRvXG4gICAgICogd2hhdGV2ZXIgdmFsdWUgd2FzIHNlbGVjdGVkIGF0IHRoZVxuICAgICAqIHN0YXJ0IG9mIHRoZSBzY3JvbGwgaW50ZXJhY3Rpb24uXG4gICAgICovXG4gICAgdGhpcy5zZXRJbnB1dE1vZGVBY3RpdmUgPSAoc3RhdGUpID0+IHtcbiAgICAgIGlmICh0aGlzLmlzU2Nyb2xsaW5nKSB7XG4gICAgICAgIHRoaXMuc2Nyb2xsRW5kQ2FsbGJhY2sgPSAoKSA9PiB7XG4gICAgICAgICAgdGhpcy5pc0FjdGl2ZSA9IHN0YXRlO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLmlzQWN0aXZlID0gc3RhdGU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBXaGVuIHRoZSBjb2x1bW4gc2Nyb2xscywgdGhlIGNvbXBvbmVudFxuICAgICAqIG5lZWRzIHRvIGRldGVybWluZSB3aGljaCBpdGVtIGlzIGNlbnRlcmVkXG4gICAgICogaW4gdGhlIHZpZXcgYW5kIHdpbGwgZW1pdCBhbiBpb25DaGFuZ2Ugd2l0aFxuICAgICAqIHRoZSBpdGVtIG9iamVjdC5cbiAgICAgKi9cbiAgICB0aGlzLmluaXRpYWxpemVTY3JvbGxMaXN0ZW5lciA9ICgpID0+IHtcbiAgICAgIGNvbnN0IHsgZWwgfSA9IHRoaXM7XG4gICAgICBsZXQgdGltZW91dDtcbiAgICAgIGxldCBhY3RpdmVFbCA9IHRoaXMuYWN0aXZlSXRlbTtcbiAgICAgIGNvbnN0IHNjcm9sbENhbGxiYWNrID0gKCkgPT4ge1xuICAgICAgICByYWYoKCkgPT4ge1xuICAgICAgICAgIGlmICh0aW1lb3V0KSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICAgICAgICB0aW1lb3V0ID0gdW5kZWZpbmVkO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoIXRoaXMuaXNTY3JvbGxpbmcpIHtcbiAgICAgICAgICAgIGhhcHRpY1NlbGVjdGlvblN0YXJ0KCk7XG4gICAgICAgICAgICB0aGlzLmlzU2Nyb2xsaW5nID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogU2VsZWN0IGl0ZW0gaW4gdGhlIGNlbnRlciBvZiB0aGUgY29sdW1uXG4gICAgICAgICAgICogd2hpY2ggaXMgdGhlIG1vbnRoL3llYXIgdGhhdCB3ZSB3YW50IHRvIHNlbGVjdFxuICAgICAgICAgICAqL1xuICAgICAgICAgIGNvbnN0IGJib3ggPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICBjb25zdCBjZW50ZXJYID0gYmJveC54ICsgYmJveC53aWR0aCAvIDI7XG4gICAgICAgICAgY29uc3QgY2VudGVyWSA9IGJib3gueSArIGJib3guaGVpZ2h0IC8gMjtcbiAgICAgICAgICBjb25zdCBhY3RpdmVFbGVtZW50ID0gZWwuc2hhZG93Um9vdC5lbGVtZW50RnJvbVBvaW50KGNlbnRlclgsIGNlbnRlclkpO1xuICAgICAgICAgIGlmIChhY3RpdmVFbCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgYWN0aXZlRWwuY2xhc3NMaXN0LnJlbW92ZShQSUNLRVJfQ09MX0FDVElWRSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChhY3RpdmVFbGVtZW50ID09PSBudWxsIHx8IGFjdGl2ZUVsZW1lbnQuZGlzYWJsZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogSWYgd2UgYXJlIHNlbGVjdGluZyBhIG5ldyB2YWx1ZSxcbiAgICAgICAgICAgKiB3ZSBuZWVkIHRvIHJ1biBoYXB0aWNzIGFnYWluLlxuICAgICAgICAgICAqL1xuICAgICAgICAgIGlmIChhY3RpdmVFbGVtZW50ICE9PSBhY3RpdmVFbCkge1xuICAgICAgICAgICAgaGFwdGljU2VsZWN0aW9uQ2hhbmdlZCgpO1xuICAgICAgICAgICAgaWYgKHRoaXMuY2FuRXhpdElucHV0TW9kZSkge1xuICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICogVGhlIG5hdGl2ZSBpT1Mgd2hlZWwgcGlja2VyXG4gICAgICAgICAgICAgICAqIG9ubHkgZGlzbWlzc2VzIHRoZSBrZXlib2FyZFxuICAgICAgICAgICAgICAgKiBvbmNlIHRoZSBzZWxlY3RlZCBpdGVtIGhhcyBjaGFuZ2VkXG4gICAgICAgICAgICAgICAqIGFzIGEgcmVzdWx0IG9mIGEgc3dpcGVcbiAgICAgICAgICAgICAgICogZnJvbSB0aGUgdXNlci4gSWYgYGNhbkV4aXRJbnB1dE1vZGVgIGlzXG4gICAgICAgICAgICAgICAqIGBmYWxzZWAgdGhlbiB0aGlzIG1lYW5zIHRoYXQgdGhlXG4gICAgICAgICAgICAgICAqIHNjcm9sbCBpcyBoYXBwZW5pbmcgYXMgYSByZXN1bHQgb2ZcbiAgICAgICAgICAgICAgICogdGhlIGB2YWx1ZWAgcHJvcGVydHkgcHJvZ3JhbW1hdGljYWxseSBjaGFuZ2luZ1xuICAgICAgICAgICAgICAgKiBlaXRoZXIgYnkgYW4gYXBwbGljYXRpb24gb3IgYnkgdGhlIHVzZXIgdmlhIHRoZSBrZXlib2FyZC5cbiAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgIHRoaXMuZXhpdElucHV0TW9kZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBhY3RpdmVFbCA9IGFjdGl2ZUVsZW1lbnQ7XG4gICAgICAgICAgYWN0aXZlRWxlbWVudC5jbGFzc0xpc3QuYWRkKFBJQ0tFUl9DT0xfQUNUSVZFKTtcbiAgICAgICAgICB0aW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmlzU2Nyb2xsaW5nID0gZmFsc2U7XG4gICAgICAgICAgICBoYXB0aWNTZWxlY3Rpb25FbmQoKTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQ2VydGFpbiB0YXNrcyAoc3VjaCBhcyB0aG9zZSB0aGF0XG4gICAgICAgICAgICAgKiBjYXVzZSByZS1yZW5kZXJzKSBzaG91bGQgb25seSBiZSBkb25lXG4gICAgICAgICAgICAgKiBvbmNlIHNjcm9sbGluZyBoYXMgZmluaXNoZWQsIG90aGVyd2lzZVxuICAgICAgICAgICAgICogZmxpY2tlcmluZyBtYXkgb2NjdXIuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGNvbnN0IHsgc2Nyb2xsRW5kQ2FsbGJhY2sgfSA9IHRoaXM7XG4gICAgICAgICAgICBpZiAoc2Nyb2xsRW5kQ2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgc2Nyb2xsRW5kQ2FsbGJhY2soKTtcbiAgICAgICAgICAgICAgdGhpcy5zY3JvbGxFbmRDYWxsYmFjayA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogUmVzZXQgdGhpcyBmbGFnIGFzIHRoZVxuICAgICAgICAgICAgICogbmV4dCBzY3JvbGwgaW50ZXJhY3Rpb24gY291bGRcbiAgICAgICAgICAgICAqIGJlIGEgc2Nyb2xsIGZyb20gdGhlIHVzZXIuIEluIHRoaXNcbiAgICAgICAgICAgICAqIGNhc2UsIHdlIHNob3VsZCBleGl0IGlucHV0IG1vZGUuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoaXMuY2FuRXhpdElucHV0TW9kZSA9IHRydWU7XG4gICAgICAgICAgICBjb25zdCBkYXRhSW5kZXggPSBhY3RpdmVFbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1pbmRleCcpO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBJZiBubyB2YWx1ZSBpdCBpc1xuICAgICAgICAgICAgICogcG9zc2libGUgd2UgaGl0IG9uZSBvZiB0aGVcbiAgICAgICAgICAgICAqIGVtcHR5IHBhZGRpbmcgY29sdW1ucy5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgaWYgKGRhdGFJbmRleCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IHBhcnNlSW50KGRhdGFJbmRleCwgMTApO1xuICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWRJdGVtID0gdGhpcy5pdGVtc1tpbmRleF07XG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWRJdGVtLnZhbHVlICE9PSB0aGlzLnZhbHVlKSB7XG4gICAgICAgICAgICAgIHRoaXMuc2V0VmFsdWUoc2VsZWN0ZWRJdGVtLnZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCAyNTApO1xuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgICAvKipcbiAgICAgICAqIFdyYXAgdGhpcyBpbiBhbiByYWYgc28gdGhhdCB0aGUgc2Nyb2xsIGNhbGxiYWNrXG4gICAgICAgKiBkb2VzIG5vdCBmaXJlIHdoZW4gY29tcG9uZW50IGlzIGluaXRpYWxseSBzaG93bi5cbiAgICAgICAqL1xuICAgICAgcmFmKCgpID0+IHtcbiAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgc2Nyb2xsQ2FsbGJhY2spO1xuICAgICAgICB0aGlzLmRlc3Ryb3lTY3JvbGxMaXN0ZW5lciA9ICgpID0+IHtcbiAgICAgICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBzY3JvbGxDYWxsYmFjayk7XG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRlbGxzIHRoZSBwYXJlbnQgcGlja2VyIHRvXG4gICAgICogZXhpdCB0ZXh0IGVudHJ5IG1vZGUuIFRoaXMgaXMgb25seSBjYWxsZWRcbiAgICAgKiB3aGVuIHRoZSBzZWxlY3RlZCBpdGVtIGNoYW5nZXMgZHVyaW5nIHNjcm9sbCwgc29cbiAgICAgKiB3ZSBrbm93IHRoYXQgdGhlIHVzZXIgbGlrZWx5IHdhbnRzIHRvIHNjcm9sbFxuICAgICAqIGluc3RlYWQgb2YgdHlwZS5cbiAgICAgKi9cbiAgICB0aGlzLmV4aXRJbnB1dE1vZGUgPSAoKSA9PiB7XG4gICAgICBjb25zdCB7IHBhcmVudEVsIH0gPSB0aGlzO1xuICAgICAgaWYgKHBhcmVudEVsID09IG51bGwpXG4gICAgICAgIHJldHVybjtcbiAgICAgIHBhcmVudEVsLmV4aXRJbnB1dE1vZGUoKTtcbiAgICAgIC8qKlxuICAgICAgICogc2V0SW5wdXRNb2RlQWN0aXZlIG9ubHkgdGFrZXNcbiAgICAgICAqIGVmZmVjdCBvbmNlIHNjcm9sbGluZyBzdG9wcyB0byBhdm9pZFxuICAgICAgICogYSBjb21wb25lbnQgcmUtcmVuZGVyIHdoaWxlIHNjcm9sbGluZy5cbiAgICAgICAqIEhvd2V2ZXIsIHdlIHdhbnQgdGhlIHZpc3VhbCBhY3RpdmVcbiAgICAgICAqIGluZGljYXRvciB0byBnbyBhd2F5IGltbWVkaWF0ZWx5LCBzb1xuICAgICAgICogd2UgY2FsbCBjbGFzc0xpc3QucmVtb3ZlIGhlcmUuXG4gICAgICAgKi9cbiAgICAgIHRoaXMuZWwuY2xhc3NMaXN0LnJlbW92ZSgncGlja2VyLWNvbHVtbi1hY3RpdmUnKTtcbiAgICB9O1xuICB9XG4gIHZhbHVlQ2hhbmdlKCkge1xuICAgIGlmICh0aGlzLmlzQ29sdW1uVmlzaWJsZSkge1xuICAgICAgLyoqXG4gICAgICAgKiBPbmx5IHNjcm9sbCB0aGUgYWN0aXZlIGl0ZW0gaW50byB2aWV3IHdoZW4gdGhlIHBpY2tlciBjb2x1bW5cbiAgICAgICAqIGlzIGFjdGl2ZWx5IHZpc2libGUgdG8gdGhlIHVzZXIuXG4gICAgICAgKi9cbiAgICAgIHRoaXMuc2Nyb2xsQWN0aXZlSXRlbUludG9WaWV3KCk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBPbmx5IHNldHVwIHNjcm9sbCBsaXN0ZW5lcnNcbiAgICogd2hlbiB0aGUgcGlja2VyIGlzIHZpc2libGUsIG90aGVyd2lzZVxuICAgKiB0aGUgY29udGFpbmVyIHdpbGwgaGF2ZSBhIHNjcm9sbFxuICAgKiBoZWlnaHQgb2YgMHB4LlxuICAgKi9cbiAgY29tcG9uZW50V2lsbExvYWQoKSB7XG4gICAgY29uc3QgdmlzaWJsZUNhbGxiYWNrID0gKGVudHJpZXMpID0+IHtcbiAgICAgIHZhciBfYTtcbiAgICAgIGNvbnN0IGV2ID0gZW50cmllc1swXTtcbiAgICAgIGlmIChldi5pc0ludGVyc2VjdGluZykge1xuICAgICAgICB0aGlzLmlzQ29sdW1uVmlzaWJsZSA9IHRydWU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCZWNhdXNlIHRoaXMgaW5pdGlhbCBjYWxsIHRvIHNjcm9sbEFjdGl2ZUl0ZW1JbnRvVmlldyBoYXMgdG8gZmlyZSBiZWZvcmVcbiAgICAgICAgICogdGhlIHNjcm9sbCBsaXN0ZW5lciBpcyBzZXQgdXAsIHdlIG5lZWQgdG8gbWFuYWdlIHRoZSBhY3RpdmUgY2xhc3MgbWFudWFsbHkuXG4gICAgICAgICAqL1xuICAgICAgICBjb25zdCBvbGRBY3RpdmUgPSBnZXRFbGVtZW50Um9vdCh0aGlzLmVsKS5xdWVyeVNlbGVjdG9yKGAuJHtQSUNLRVJfQ09MX0FDVElWRX1gKTtcbiAgICAgICAgb2xkQWN0aXZlID09PSBudWxsIHx8IG9sZEFjdGl2ZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogb2xkQWN0aXZlLmNsYXNzTGlzdC5yZW1vdmUoUElDS0VSX0NPTF9BQ1RJVkUpO1xuICAgICAgICB0aGlzLnNjcm9sbEFjdGl2ZUl0ZW1JbnRvVmlldygpO1xuICAgICAgICAoX2EgPSB0aGlzLmFjdGl2ZUl0ZW0pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jbGFzc0xpc3QuYWRkKFBJQ0tFUl9DT0xfQUNUSVZFKTtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplU2Nyb2xsTGlzdGVuZXIoKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB0aGlzLmlzQ29sdW1uVmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5kZXN0cm95U2Nyb2xsTGlzdGVuZXIpIHtcbiAgICAgICAgICB0aGlzLmRlc3Ryb3lTY3JvbGxMaXN0ZW5lcigpO1xuICAgICAgICAgIHRoaXMuZGVzdHJveVNjcm9sbExpc3RlbmVyID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIodmlzaWJsZUNhbGxiYWNrLCB7IHRocmVzaG9sZDogMC4wMDEgfSkub2JzZXJ2ZSh0aGlzLmVsKTtcbiAgICBjb25zdCBwYXJlbnRFbCA9ICh0aGlzLnBhcmVudEVsID0gdGhpcy5lbC5jbG9zZXN0KCdpb24tcGlja2VyLWludGVybmFsJykpO1xuICAgIGlmIChwYXJlbnRFbCAhPT0gbnVsbCkge1xuICAgICAgcGFyZW50RWwuYWRkRXZlbnRMaXN0ZW5lcignaW9uSW5wdXRNb2RlQ2hhbmdlJywgKGV2KSA9PiB0aGlzLmlucHV0TW9kZUNoYW5nZShldikpO1xuICAgIH1cbiAgfVxuICBjb21wb25lbnREaWRSZW5kZXIoKSB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IHsgYWN0aXZlSXRlbSwgaXRlbXMsIGlzQ29sdW1uVmlzaWJsZSwgdmFsdWUgfSA9IHRoaXM7XG4gICAgaWYgKGlzQ29sdW1uVmlzaWJsZSkge1xuICAgICAgaWYgKGFjdGl2ZUl0ZW0pIHtcbiAgICAgICAgdGhpcy5zY3JvbGxBY3RpdmVJdGVtSW50b1ZpZXcoKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKCgoX2EgPSBpdGVtc1swXSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnZhbHVlKSAhPT0gdmFsdWUpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRoZSBwaWNrZXIgY29sdW1uIGRvZXMgbm90IGhhdmUgYW4gYWN0aXZlIGl0ZW0gYW5kIHRoZSBjdXJyZW50IHZhbHVlXG4gICAgICAgICAqIGRvZXMgbm90IG1hdGNoIHRoZSBmaXJzdCBpdGVtIGluIHRoZSBwaWNrZXIgY29sdW1uLCB0aGF0IG1lYW5zXG4gICAgICAgICAqIHRoZSB2YWx1ZSBpcyBvdXQgb2YgYm91bmRzLiBJbiB0aGlzIGNhc2UsIHdlIGFzc2lnbiB0aGUgdmFsdWUgdG8gdGhlXG4gICAgICAgICAqIGZpcnN0IGl0ZW0gdG8gbWF0Y2ggdGhlIHNjcm9sbCBwb3NpdGlvbiBvZiB0aGUgY29sdW1uLlxuICAgICAgICAgKlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zZXRWYWx1ZShpdGVtc1swXS52YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8qKiBAaW50ZXJuYWwgICovXG4gIGFzeW5jIHNjcm9sbEFjdGl2ZUl0ZW1JbnRvVmlldygpIHtcbiAgICBjb25zdCBhY3RpdmVFbCA9IHRoaXMuYWN0aXZlSXRlbTtcbiAgICBpZiAoYWN0aXZlRWwpIHtcbiAgICAgIHRoaXMuY2VudGVyUGlja2VySXRlbUluVmlldyhhY3RpdmVFbCwgZmFsc2UsIGZhbHNlKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFNldHMgdGhlIHZhbHVlIHByb3AgYW5kIGZpcmVzIHRoZSBpb25DaGFuZ2UgZXZlbnQuXG4gICAqIFRoaXMgaXMgdXNlZCB3aGVuIHdlIG5lZWQgdG8gZmlyZSBpb25DaGFuZ2UgZnJvbVxuICAgKiB1c2VyLWdlbmVyYXRlZCBldmVudHMgdGhhdCBjYW5ub3QgYmUgY2F1Z2h0IHdpdGggbm9ybWFsXG4gICAqIGlucHV0L2NoYW5nZSBldmVudCBsaXN0ZW5lcnMuXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgYXN5bmMgc2V0VmFsdWUodmFsdWUpIHtcbiAgICBjb25zdCB7IGl0ZW1zIH0gPSB0aGlzO1xuICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICBjb25zdCBmaW5kSXRlbSA9IGl0ZW1zLmZpbmQoKGl0ZW0pID0+IGl0ZW0udmFsdWUgPT09IHZhbHVlICYmIGl0ZW0uZGlzYWJsZWQgIT09IHRydWUpO1xuICAgIGlmIChmaW5kSXRlbSkge1xuICAgICAgdGhpcy5pb25DaGFuZ2UuZW1pdChmaW5kSXRlbSk7XG4gICAgfVxuICB9XG4gIGdldCBhY3RpdmVJdGVtKCkge1xuICAgIHJldHVybiBnZXRFbGVtZW50Um9vdCh0aGlzLmVsKS5xdWVyeVNlbGVjdG9yKGAucGlja2VyLWl0ZW1bZGF0YS12YWx1ZT1cIiR7dGhpcy52YWx1ZX1cIl06bm90KFtkaXNhYmxlZF0pYCk7XG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgaXRlbXMsIGNvbG9yLCBpc0FjdGl2ZSwgbnVtZXJpY0lucHV0IH0gPSB0aGlzO1xuICAgIGNvbnN0IG1vZGUgPSBnZXRJb25Nb2RlKHRoaXMpO1xuICAgIHJldHVybiAoaChIb3N0LCB7IHRhYmluZGV4OiAwLCBjbGFzczogY3JlYXRlQ29sb3JDbGFzc2VzKGNvbG9yLCB7XG4gICAgICAgIFttb2RlXTogdHJ1ZSxcbiAgICAgICAgWydwaWNrZXItY29sdW1uLWFjdGl2ZSddOiBpc0FjdGl2ZSxcbiAgICAgICAgWydwaWNrZXItY29sdW1uLW51bWVyaWMtaW5wdXQnXTogbnVtZXJpY0lucHV0LFxuICAgICAgfSkgfSwgaChcImRpdlwiLCB7IGNsYXNzOiBcInBpY2tlci1pdGVtIHBpY2tlci1pdGVtLWVtcHR5XCIgfSwgXCJcXHUwMEEwXCIpLCBoKFwiZGl2XCIsIHsgY2xhc3M6IFwicGlja2VyLWl0ZW0gcGlja2VyLWl0ZW0tZW1wdHlcIiB9LCBcIlxcdTAwQTBcIiksIGgoXCJkaXZcIiwgeyBjbGFzczogXCJwaWNrZXItaXRlbSBwaWNrZXItaXRlbS1lbXB0eVwiIH0sIFwiXFx1MDBBMFwiKSwgaXRlbXMubWFwKChpdGVtLCBpbmRleCkgPT4ge1xuICAgICAgcmV0dXJuIChoKFwiYnV0dG9uXCIsIHsgdGFiaW5kZXg6IFwiLTFcIiwgY2xhc3M6IHtcbiAgICAgICAgICAncGlja2VyLWl0ZW0nOiB0cnVlLFxuICAgICAgICAgICdwaWNrZXItaXRlbS1kaXNhYmxlZCc6IGl0ZW0uZGlzYWJsZWQgfHwgZmFsc2UsXG4gICAgICAgIH0sIFwiZGF0YS12YWx1ZVwiOiBpdGVtLnZhbHVlLCBcImRhdGEtaW5kZXhcIjogaW5kZXgsIG9uQ2xpY2s6IChldikgPT4ge1xuICAgICAgICAgIHRoaXMuY2VudGVyUGlja2VySXRlbUluVmlldyhldi50YXJnZXQsIHRydWUpO1xuICAgICAgICB9LCBkaXNhYmxlZDogaXRlbS5kaXNhYmxlZCB9LCBpdGVtLnRleHQpKTtcbiAgICB9KSwgaChcImRpdlwiLCB7IGNsYXNzOiBcInBpY2tlci1pdGVtIHBpY2tlci1pdGVtLWVtcHR5XCIgfSwgXCJcXHUwMEEwXCIpLCBoKFwiZGl2XCIsIHsgY2xhc3M6IFwicGlja2VyLWl0ZW0gcGlja2VyLWl0ZW0tZW1wdHlcIiB9LCBcIlxcdTAwQTBcIiksIGgoXCJkaXZcIiwgeyBjbGFzczogXCJwaWNrZXItaXRlbSBwaWNrZXItaXRlbS1lbXB0eVwiIH0sIFwiXFx1MDBBMFwiKSkpO1xuICB9XG4gIGdldCBlbCgpIHsgcmV0dXJuIGdldEVsZW1lbnQodGhpcyk7IH1cbiAgc3RhdGljIGdldCB3YXRjaGVycygpIHsgcmV0dXJuIHtcbiAgICBcInZhbHVlXCI6IFtcInZhbHVlQ2hhbmdlXCJdXG4gIH07IH1cbn07XG5jb25zdCBQSUNLRVJfQ09MX0FDVElWRSA9ICdwaWNrZXItaXRlbS1hY3RpdmUnO1xuUGlja2VyQ29sdW1uSW50ZXJuYWwuc3R5bGUgPSB7XG4gIGlvczogcGlja2VyQ29sdW1uSW50ZXJuYWxJb3NDc3MsXG4gIG1kOiBwaWNrZXJDb2x1bW5JbnRlcm5hbE1kQ3NzXG59O1xuXG5leHBvcnQgeyBQaWNrZXJDb2x1bW5JbnRlcm5hbCBhcyBpb25fcGlja2VyX2NvbHVtbl9pbnRlcm5hbCB9O1xuIiwiLyohXG4gKiAoQykgSW9uaWMgaHR0cDovL2lvbmljZnJhbWV3b3JrLmNvbSAtIE1JVCBMaWNlbnNlXG4gKi9cbmNvbnN0IGhvc3RDb250ZXh0ID0gKHNlbGVjdG9yLCBlbCkgPT4ge1xuICByZXR1cm4gZWwuY2xvc2VzdChzZWxlY3RvcikgIT09IG51bGw7XG59O1xuLyoqXG4gKiBDcmVhdGUgdGhlIG1vZGUgYW5kIGNvbG9yIGNsYXNzZXMgZm9yIHRoZSBjb21wb25lbnQgYmFzZWQgb24gdGhlIGNsYXNzZXMgcGFzc2VkIGluXG4gKi9cbmNvbnN0IGNyZWF0ZUNvbG9yQ2xhc3NlcyA9IChjb2xvciwgY3NzQ2xhc3NNYXApID0+IHtcbiAgcmV0dXJuIHR5cGVvZiBjb2xvciA9PT0gJ3N0cmluZycgJiYgY29sb3IubGVuZ3RoID4gMFxuICAgID8gT2JqZWN0LmFzc2lnbih7ICdpb24tY29sb3InOiB0cnVlLCBbYGlvbi1jb2xvci0ke2NvbG9yfWBdOiB0cnVlIH0sIGNzc0NsYXNzTWFwKSA6IGNzc0NsYXNzTWFwO1xufTtcbmNvbnN0IGdldENsYXNzTGlzdCA9IChjbGFzc2VzKSA9PiB7XG4gIGlmIChjbGFzc2VzICE9PSB1bmRlZmluZWQpIHtcbiAgICBjb25zdCBhcnJheSA9IEFycmF5LmlzQXJyYXkoY2xhc3NlcykgPyBjbGFzc2VzIDogY2xhc3Nlcy5zcGxpdCgnICcpO1xuICAgIHJldHVybiBhcnJheVxuICAgICAgLmZpbHRlcigoYykgPT4gYyAhPSBudWxsKVxuICAgICAgLm1hcCgoYykgPT4gYy50cmltKCkpXG4gICAgICAuZmlsdGVyKChjKSA9PiBjICE9PSAnJyk7XG4gIH1cbiAgcmV0dXJuIFtdO1xufTtcbmNvbnN0IGdldENsYXNzTWFwID0gKGNsYXNzZXMpID0+IHtcbiAgY29uc3QgbWFwID0ge307XG4gIGdldENsYXNzTGlzdChjbGFzc2VzKS5mb3JFYWNoKChjKSA9PiAobWFwW2NdID0gdHJ1ZSkpO1xuICByZXR1cm4gbWFwO1xufTtcbmNvbnN0IFNDSEVNRSA9IC9eW2Etel1bYS16MC05K1xcLS5dKjovO1xuY29uc3Qgb3BlblVSTCA9IGFzeW5jICh1cmwsIGV2LCBkaXJlY3Rpb24sIGFuaW1hdGlvbikgPT4ge1xuICBpZiAodXJsICE9IG51bGwgJiYgdXJsWzBdICE9PSAnIycgJiYgIVNDSEVNRS50ZXN0KHVybCkpIHtcbiAgICBjb25zdCByb3V0ZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpb24tcm91dGVyJyk7XG4gICAgaWYgKHJvdXRlcikge1xuICAgICAgaWYgKGV2ICE9IG51bGwpIHtcbiAgICAgICAgZXYucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByb3V0ZXIucHVzaCh1cmwsIGRpcmVjdGlvbiwgYW5pbWF0aW9uKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufTtcblxuZXhwb3J0IHsgY3JlYXRlQ29sb3JDbGFzc2VzIGFzIGMsIGdldENsYXNzTWFwIGFzIGcsIGhvc3RDb250ZXh0IGFzIGgsIG9wZW5VUkwgYXMgbyB9O1xuIl0sIm5hbWVzIjpbInIiLCJyZWdpc3Rlckluc3RhbmNlIiwiZSIsImNyZWF0ZUV2ZW50IiwiaCIsIkgiLCJIb3N0IiwiaSIsImdldEVsZW1lbnQiLCJiIiwiZ2V0SW9uTW9kZSIsInJhZiIsImciLCJnZXRFbGVtZW50Um9vdCIsImEiLCJoYXB0aWNTZWxlY3Rpb25TdGFydCIsImhhcHRpY1NlbGVjdGlvbkNoYW5nZWQiLCJoYXB0aWNTZWxlY3Rpb25FbmQiLCJjIiwiY3JlYXRlQ29sb3JDbGFzc2VzIiwicGlja2VyQ29sdW1uSW50ZXJuYWxJb3NDc3MiLCJwaWNrZXJDb2x1bW5JbnRlcm5hbE1kQ3NzIiwiUGlja2VyQ29sdW1uSW50ZXJuYWwiLCJjb25zdHJ1Y3RvciIsImhvc3RSZWYiLCJpb25DaGFuZ2UiLCJpc1Njcm9sbGluZyIsImlzQ29sdW1uVmlzaWJsZSIsImNhbkV4aXRJbnB1dE1vZGUiLCJpc0FjdGl2ZSIsIml0ZW1zIiwiY29sb3IiLCJudW1lcmljSW5wdXQiLCJjZW50ZXJQaWNrZXJJdGVtSW5WaWV3IiwidGFyZ2V0Iiwic21vb3RoIiwiZWwiLCJ0b3AiLCJvZmZzZXRUb3AiLCJjbGllbnRIZWlnaHQiLCJzY3JvbGxUb3AiLCJzY3JvbGwiLCJsZWZ0IiwiYmVoYXZpb3IiLCJ1bmRlZmluZWQiLCJpbnB1dE1vZGVDaGFuZ2UiLCJldiIsInVzZUlucHV0TW9kZSIsImlucHV0TW9kZUNvbHVtbiIsImRldGFpbCIsImlzQ29sdW1uQWN0aXZlIiwic2V0SW5wdXRNb2RlQWN0aXZlIiwic3RhdGUiLCJzY3JvbGxFbmRDYWxsYmFjayIsImluaXRpYWxpemVTY3JvbGxMaXN0ZW5lciIsInRpbWVvdXQiLCJhY3RpdmVFbCIsImFjdGl2ZUl0ZW0iLCJzY3JvbGxDYWxsYmFjayIsImNsZWFyVGltZW91dCIsImJib3giLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJjZW50ZXJYIiwieCIsIndpZHRoIiwiY2VudGVyWSIsInkiLCJoZWlnaHQiLCJhY3RpdmVFbGVtZW50Iiwic2hhZG93Um9vdCIsImVsZW1lbnRGcm9tUG9pbnQiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJQSUNLRVJfQ09MX0FDVElWRSIsImRpc2FibGVkIiwiZXhpdElucHV0TW9kZSIsImFkZCIsInNldFRpbWVvdXQiLCJkYXRhSW5kZXgiLCJnZXRBdHRyaWJ1dGUiLCJpbmRleCIsInBhcnNlSW50Iiwic2VsZWN0ZWRJdGVtIiwidmFsdWUiLCJzZXRWYWx1ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJkZXN0cm95U2Nyb2xsTGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwicGFyZW50RWwiLCJ2YWx1ZUNoYW5nZSIsInNjcm9sbEFjdGl2ZUl0ZW1JbnRvVmlldyIsImNvbXBvbmVudFdpbGxMb2FkIiwidmlzaWJsZUNhbGxiYWNrIiwiZW50cmllcyIsIl9hIiwiaXNJbnRlcnNlY3RpbmciLCJvbGRBY3RpdmUiLCJxdWVyeVNlbGVjdG9yIiwiSW50ZXJzZWN0aW9uT2JzZXJ2ZXIiLCJ0aHJlc2hvbGQiLCJvYnNlcnZlIiwiY2xvc2VzdCIsImNvbXBvbmVudERpZFJlbmRlciIsImZpbmRJdGVtIiwiZmluZCIsIml0ZW0iLCJlbWl0IiwicmVuZGVyIiwibW9kZSIsInRhYmluZGV4IiwiY2xhc3MiLCJtYXAiLCJvbkNsaWNrIiwidGV4dCIsIndhdGNoZXJzIiwic3R5bGUiLCJpb3MiLCJtZCIsImlvbl9waWNrZXJfY29sdW1uX2ludGVybmFsIiwiaG9zdENvbnRleHQiLCJzZWxlY3RvciIsImNzc0NsYXNzTWFwIiwibGVuZ3RoIiwiT2JqZWN0IiwiYXNzaWduIiwiZ2V0Q2xhc3NMaXN0IiwiY2xhc3NlcyIsImFycmF5IiwiQXJyYXkiLCJpc0FycmF5Iiwic3BsaXQiLCJmaWx0ZXIiLCJ0cmltIiwiZ2V0Q2xhc3NNYXAiLCJmb3JFYWNoIiwiU0NIRU1FIiwib3BlblVSTCIsInVybCIsImRpcmVjdGlvbiIsImFuaW1hdGlvbiIsInRlc3QiLCJyb3V0ZXIiLCJkb2N1bWVudCIsInByZXZlbnREZWZhdWx0IiwicHVzaCIsIm8iXSwic291cmNlUm9vdCI6IndlYnBhY2s6Ly8vIiwieF9nb29nbGVfaWdub3JlTGlzdCI6WzAsMV19